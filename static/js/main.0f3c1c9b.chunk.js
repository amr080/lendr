(this["webpackJsonp@liquity/dev-frontend"]=this["webpackJsonp@liquity/dev-frontend"]||[]).push([[0],[,,,,,function(e,t,n){"use strict";var a=this&&this.__createBinding||(Object.create?function(e,t,n,a){void 0===a&&(a=n),Object.defineProperty(e,a,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,a){void 0===a&&(a=n),e[a]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||a(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),i(n(114),t),i(n(57),t),i(n(217),t),i(n(218),t),i(n(219),t),i(n(220),t),i(n(221),t),i(n(222),t),i(n(223),t),i(n(224),t),i(n(225),t),i(n(226),t),i(n(227),t),i(n(228),t)},function(e,t,n){"use strict";var a=this&&this.__createBinding||(Object.create?function(e,t,n,a){void 0===a&&(a=n),Object.defineProperty(e,a,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,a){void 0===a&&(a=n),e[a]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||a(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),i(n(160),t),i(n(121),t),i(n(297),t),i(n(298),t)},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";var a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Percent=t.Difference=t.Decimal=void 0;const i=a(n(78)),r=n(27),s=e=>d.pow(e),o=18,l=r.BigNumber.from(1),d=r.BigNumber.from(10),c=s(o),u=/^[0-9]*(\.[0-9]*)?(e[-+]?[0-9]+)?$/,p=/0*$/,y=["","K","M","B","T"],b=(e,t)=>e.mul(t).add(m.HALF.hex).div(c);class m{constructor(e){if(e.isNegative())throw new Error("negatives not supported by Decimal");this._bigNumber=e}get hex(){return this._bigNumber.toHexString()}get bigNumber(){return this._bigNumber.toString()}static fromBigNumberString(e){return new m(r.BigNumber.from(e))}static _fromString(e){if(!e||!e.match(u))throw new Error(`bad decimal format: "${e}"`);if(e.includes("e")){let[t,n]=e.split("e");return n.startsWith("-")?new m(m._fromString(t)._bigNumber.div(d.pow(r.BigNumber.from(n.substr(1))))):(n.startsWith("+")&&(n=n.substr(1)),new m(m._fromString(t)._bigNumber.mul(d.pow(r.BigNumber.from(n)))))}if(!e.includes("."))return new m(r.BigNumber.from(e).mul(c));let[t,n]=e.split(".");return n.length<o?n+="0".repeat(o-n.length):n=n.substr(0,o),new m(r.BigNumber.from(t||0).mul(c).add(n))}static from(e){switch(typeof e){case"object":if(e instanceof m)return e;throw new Error("invalid Decimalish value");case"string":return m._fromString(e);case"number":return m._fromString(e.toString());default:throw new Error("invalid Decimalish value")}}_toStringWithAutomaticPrecision(){const e=this._bigNumber.div(c),t=this._bigNumber.mod(c);if(t.isZero())return e.toString();{const n=t.toString().padStart(o,"0").replace(p,"");return e.toString()+"."+n}}_roundUp(e){const t=s(17-e).mul(5);return this._bigNumber.add(t)}_toStringWithPrecision(e){if(e<0)throw new Error("precision must not be negative");const t=e<o?this._roundUp(e):this._bigNumber,n=t.div(c),a=t.mod(c);if(0===e)return n.toString();{const t=a.toString().padStart(o,"0").substr(0,e);return n.toString()+"."+t}}toString(e){return this.infinite?"\u221e":void 0!==e?this._toStringWithPrecision(e):this._toStringWithAutomaticPrecision()}prettify(e=2){const[t,n]=this.toString(e).split("."),a=t.replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1,");return void 0!==n?a+"."+n:a}shorten(){const e=this.toString(0).length,t=Math.min(Math.floor((e-1)/3),y.length-1),n=Math.max(3*(t+1)-e,0);return this.div(new m(s(o+3*t))).prettify(n)+y[t]}add(e){return new m(this._bigNumber.add(m.from(e)._bigNumber))}sub(e){return new m(this._bigNumber.sub(m.from(e)._bigNumber))}mul(e){return new m(this._bigNumber.mul(m.from(e)._bigNumber).div(c))}div(e){return(e=m.from(e)).isZero?m.INFINITY:new m(this._bigNumber.mul(c).div(e._bigNumber))}_divCeil(e){return(e=m.from(e)).isZero?m.INFINITY:new m(this._bigNumber.mul(c).add(e._bigNumber.sub(l)).div(e._bigNumber))}mulDiv(e,t){return e=m.from(e),(t=m.from(t)).isZero?m.INFINITY:new m(this._bigNumber.mul(e._bigNumber).div(t._bigNumber))}pow(e){if(i.default(Number.isInteger(e)),i.default(0<=e&&e<=4294967295),0===e)return m.ONE;if(1===e)return this;let t=this._bigNumber,n=c;for(;e>1;e>>>=1)1&e&&(n=b(t,n)),t=b(t,t);return new m(b(t,n))}get isZero(){return this._bigNumber.isZero()}get zero(){if(this.isZero)return this}get nonZero(){if(!this.isZero)return this}get infinite(){if(this.eq(m.INFINITY))return this}get finite(){if(!this.eq(m.INFINITY))return this}get absoluteValue(){return this}lt(e){return this._bigNumber.lt(m.from(e)._bigNumber)}eq(e){return this._bigNumber.eq(m.from(e)._bigNumber)}gt(e){return this._bigNumber.gt(m.from(e)._bigNumber)}gte(e){return this._bigNumber.gte(m.from(e)._bigNumber)}lte(e){return this._bigNumber.lte(m.from(e)._bigNumber)}static min(e,t){return e=m.from(e),t=m.from(t),e.lt(t)?e:t}static max(e,t){return e=m.from(e),t=m.from(t),e.gt(t)?e:t}}t.Decimal=m,m.INFINITY=m.fromBigNumberString("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),m.ZERO=m.from(0),m.HALF=m.from(.5),m.ONE=m.from(1);class h{constructor(e){this._number=e}static between(e,t){return void 0===e||void 0===t?new h(void 0):(e=m.from(e),t=m.from(t),e.infinite&&t.infinite?new h(void 0):e.infinite?new h({sign:"+",absoluteValue:e}):t.infinite?new h({sign:"-",absoluteValue:t}):e.gt(t)?new h({sign:"+",absoluteValue:m.from(e).sub(t)}):t.gt(e)?new h({sign:"-",absoluteValue:m.from(t).sub(e)}):new h({sign:"",absoluteValue:m.ZERO}))}toString(e){return this._number?this._number.sign+this._number.absoluteValue.toString(e):"N/A"}prettify(e){return this._number?this._number.sign+this._number.absoluteValue.prettify(e):this.toString()}mul(e){return new h(this._number&&{sign:this._number.sign,absoluteValue:this._number.absoluteValue.mul(e)})}get nonZero(){var e;return(null===(e=this._number)||void 0===e?void 0:e.absoluteValue.nonZero)&&this}get positive(){var e;return"+"===(null===(e=this._number)||void 0===e?void 0:e.sign)?this:void 0}get negative(){var e;return"-"===(null===(e=this._number)||void 0===e?void 0:e.sign)?this:void 0}get absoluteValue(){var e;return null===(e=this._number)||void 0===e?void 0:e.absoluteValue}get infinite(){var e;return(null===(e=this._number)||void 0===e?void 0:e.absoluteValue.infinite)&&this}get finite(){var e;return(null===(e=this._number)||void 0===e?void 0:e.absoluteValue.finite)&&this}}t.Difference=h;t.Percent=class{constructor(e){this._percent=e.infinite||e.mul&&e.mul(100)||e}nonZeroish(e){var t;const n=`0.${"0".repeat(e)}5`;if(null===(t=this._percent.absoluteValue)||void 0===t?void 0:t.gte(n))return this}toString(e){return this._percent.toString(e)+(this._percent.absoluteValue&&!this._percent.infinite?"%":"")}prettify(){var e,t;return(null===(e=this._percent.absoluteValue)||void 0===e?void 0:e.gte("1000"))?this.toString(0):(null===(t=this._percent.absoluteValue)||void 0===t?void 0:t.gte("10"))?this.toString(1):this.toString(2)}}},,,,,,,,,,function(e,t,n){"use strict";var a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t._connect=t._connectByChainId=t._connectToDeployment=t.UnsupportedNetworkError=t._usingStore=t._requireFrontendAddress=t._requireAddress=t._getProvider=t._requireSigner=t._getBlockTimestamp=t._getContracts=void 0;const i=n(51),r=n(5),s=a(n(229)),o=a(n(230)),l=a(n(231)),d=a(n(232)),c=a(n(233)),u=a(n(234)),p=a(n(235)),y=a(n(236)),b=a(n(237)),m=n(93),h=n(145),f=n(260),T=s.default,g={[u.default.chainId]:u.default,[c.default.chainId]:c.default,[d.default.chainId]:d.default,[o.default.chainId]:o.default,[l.default.chainId]:l.default,[p.default.chainId]:p.default,[y.default.chainId]:y.default,[b.default.chainId]:b.default,...null!==T?{[T.chainId]:T}:{}},v=(e,t,n,a,{deploymentDate:i,totalStabilityPoolLQTYReward:s,liquidityMiningLQTYRewardRate:o,...l},d)=>{if(d&&void 0!==d.useStore&&!x.includes(d.useStore))throw new Error(`Invalid useStore value ${d.useStore}`);return{provider:e,signer:t,_contracts:n,_multicall:a,deploymentDate:new Date(i),totalStabilityPoolLQTYReward:r.Decimal.from(s),liquidityMiningLQTYRewardRate:r.Decimal.from(o),...l,...d}};t._getContracts=e=>e._contracts;const w=({timestamp:e})=>e;t._getBlockTimestamp=(e,n="latest")=>{var a,i;return null!==(i=null===(a=(e=>e._multicall)(e))||void 0===a?void 0:a.getCurrentBlockTimestamp({blockTag:n}).then(m.numberify))&&void 0!==i?i:t._getProvider(e).getBlock(n).then(w)};t._requireSigner=e=>{var t;return null!==(t=e.signer)&&void 0!==t?t:m.panic(new Error("Must be connected through a Signer"))};t._getProvider=e=>e.provider;t._requireAddress=(e,t)=>{var n,a;return null!==(a=null!==(n=null===t||void 0===t?void 0:t.from)&&void 0!==n?n:e.userAddress)&&void 0!==a?a:m.panic(new Error("A user address is required"))};t._requireFrontendAddress=e=>{var t;return null!==(t=e.frontendTag)&&void 0!==t?t:m.panic(new Error("A frontend address is required"))};t._usingStore=e=>void 0!==e.useStore;class _ extends Error{constructor(e){super(`Unsupported network (chainId = ${e})`),this.name="UnsupportedNetworkError",this.chainId=e}}t.UnsupportedNetworkError=_;const j=e=>{var t;return[i.Signer.isSigner(e)?null!==(t=e.provider)&&void 0!==t?t:m.panic(new Error("Signer must have a Provider")):e,i.Signer.isSigner(e)?e:void 0]};t._connectToDeployment=(e,t,n)=>v(...j(t),h._connectToContracts(t,e),void 0,e,n);const x=["blockPolled"];function O(e,t,n,a){var i;const r=null!==(i=g[n])&&void 0!==i?i:m.panic(new _(n));return v(e,t,h._connectToContracts(null!==t&&void 0!==t?t:e,r),f._connectToMulticall(null!==t&&void 0!==t?t:e,n),r,a)}t._connectByChainId=O;t._connect=async(e,t)=>{const[n,a]=j(e);if(a){if(void 0!==(null===t||void 0===t?void 0:t.userAddress))throw new Error("Can't override userAddress when connecting through Signer");t={...t,userAddress:await a.getAddress()}}return O(n,a,(await n.getNetwork()).chainId,t)}},,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";var a=this&&this.__createBinding||(Object.create?function(e,t,n,a){void 0===a&&(a=n),Object.defineProperty(e,a,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,a){void 0===a&&(a=n),e[a]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||a(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),i(n(205),t),i(n(140),t),i(n(144),t)},function(e,t,n){"use strict";var a=this&&this.__createBinding||(Object.create?function(e,t,n,a){void 0===a&&(a=n),Object.defineProperty(e,a,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,a){void 0===a&&(a=n),e[a]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||a(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),t.UnsupportedNetworkError=t._connectByChainId=void 0;var r=n(67);Object.defineProperty(t,"_connectByChainId",{enumerable:!0,get:function(){return r._connectByChainId}}),Object.defineProperty(t,"UnsupportedNetworkError",{enumerable:!0,get:function(){return r.UnsupportedNetworkError}}),i(n(261),t),i(n(146),t),i(n(262),t),i(n(147),t),i(n(148),t),i(n(149),t),i(n(264),t)},,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.promiseAllValues=t.panic=t.decimalify=t.numberify=void 0;const a=n(5);t.numberify=e=>e.toNumber();t.decimalify=e=>a.Decimal.fromBigNumberString(e.toHexString());t.panic=e=>{throw e};t.promiseAllValues=e=>{const t=Object.keys(e);return Promise.all(Object.values(e)).then((e=>Object.fromEntries(e.map(((e,n)=>[t[n],e])))))}},,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MINIMUM_REDEMPTION_RATE=t.MAXIMUM_BORROWING_RATE=t.MINIMUM_BORROWING_RATE=t.LUSD_MINIMUM_DEBT=t.LUSD_MINIMUM_NET_DEBT=t.LUSD_LIQUIDATION_RESERVE=t.MINIMUM_COLLATERAL_RATIO=t.CRITICAL_COLLATERAL_RATIO=void 0;const a=n(57);t.CRITICAL_COLLATERAL_RATIO=a.Decimal.from(1.5),t.MINIMUM_COLLATERAL_RATIO=a.Decimal.from(1.1),t.LUSD_LIQUIDATION_RESERVE={1:a.Decimal.from(200),5:a.Decimal.from(200),56:a.Decimal.from(10),97:a.Decimal.from(10),17:a.Decimal.from(200)},t.LUSD_MINIMUM_NET_DEBT={1:a.Decimal.from(800),5:a.Decimal.from(800),56:a.Decimal.from(40),97:a.Decimal.from(40),17:a.Decimal.from(800)},t.LUSD_MINIMUM_DEBT={1:t.LUSD_LIQUIDATION_RESERVE[1].add(t.LUSD_MINIMUM_NET_DEBT[1]),5:t.LUSD_LIQUIDATION_RESERVE[5].add(t.LUSD_MINIMUM_NET_DEBT[5]),56:t.LUSD_LIQUIDATION_RESERVE[56].add(t.LUSD_MINIMUM_NET_DEBT[56]),97:t.LUSD_LIQUIDATION_RESERVE[97].add(t.LUSD_MINIMUM_NET_DEBT[97]),17:t.LUSD_LIQUIDATION_RESERVE[17].add(t.LUSD_MINIMUM_NET_DEBT[17])},t.MINIMUM_BORROWING_RATE={1:a.Decimal.from(.025),5:a.Decimal.from(.025),56:a.Decimal.from(.025),97:a.Decimal.from(.025),17:a.Decimal.from(.025)},t.MAXIMUM_BORROWING_RATE={1:a.Decimal.from(.075),5:a.Decimal.from(.075),56:a.Decimal.from(.075),97:a.Decimal.from(.075),17:a.Decimal.from(.075)},t.MINIMUM_REDEMPTION_RATE={1:a.Decimal.from(.025),5:a.Decimal.from(.025),56:a.Decimal.from(.025),97:a.Decimal.from(.025),17:a.Decimal.from(.025)}},,,,,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useLiquityStore=void 0;const a=n(1),i=n(160);t.useLiquityStore=()=>{const e=a.useContext(i.LiquityStoreContext);if(!e)throw new Error("You must provide a LiquityStore via LiquityStoreProvider");return e}},,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WebSocketAugmentedWeb3Provider=t.WebSocketAugmented=t.isWebSocketAugmentedProvider=void 0;const a=n(59),i=n(2),r=n(144),s=[];t.isWebSocketAugmentedProvider=e=>s.some((t=>e instanceof t));const o=e=>"object"===typeof e&&"string"===typeof e.message&&(e.message.includes("header not found")||e.message.includes("request is not supported because your node is running with state pruning")),l=e=>"string"===typeof e&&32===i.hexDataLength(e),d=e=>new Promise((t=>setTimeout(t,e))),c=e=>t=>(n,{isActive:a})=>{e(n).then((e=>{null!==e&&a()&&t(e)}))},u=e=>(t,n)=>{e(t)},p=e=>(t,{removeMe:n})=>{e(t),n()};t.WebSocketAugmented=e=>{let t=class extends e{constructor(){super(...arguments),this._seenBlock=0,this._blockListenerScheduled=!1,this._blockListeners=new Map,this._blockListener=this._onBlock.bind(this)}openWebSocket(e,t){this._wsProvider=new r.WebSocketProvider(e,t),this._wsProvider.onClose=this._onWebSocketClose.bind(this),this._wsParams=[e,t],this._switchover()}_onWebSocketClose(){this.closeWebSocket(),console.warn("WebSocketProvider disconnected. Retrying in 10 seconds."),this._reconnectTimerId=setTimeout((()=>this.openWebSocket(...this._wsParams)),1e4)}closeWebSocket(){this._wsProvider&&(this._wsProvider.onClose=null,this._wsProvider.close(1e3),this._wsProvider=void 0,this._switchover(),void 0!==this._reconnectTimerId&&(clearTimeout(this._reconnectTimerId),this._reconnectTimerId=void 0))}_switchover(){this._blockListeners.size>0&&(this._wsProvider&&super.off("block",this._blockListener),this._startBlockEvents())}_onBlock(e){this._seenBlock=e,this._blockListenerScheduled||(this._blockListenerScheduled=!0,setTimeout((()=>{this._blockListenerScheduled=!1,[...this._blockListeners].forEach((([,e])=>e(this._seenBlock)))}),50))}async _retrySeenBlock(e,t){for(let a=0;;++a){try{return await e()}catch(n){if(this._seenBlock!==t||!o(n))throw n}await d(200)}}async call(e,t){const n=await t,a=()=>{var t;return(null===(t=this._wsProvider)||void 0===t?void 0:t.isReady)?this._wsProvider.call(e,n):super.call(e,n)};return n===this._seenBlock?this._retrySeenBlock(a,this._seenBlock):a()}async getBalance(e,t){const n=await t,a=()=>{var t;return(null===(t=this._wsProvider)||void 0===t?void 0:t.isReady)?this._wsProvider.getBalance(e,n):super.getBalance(e,n)};return n===this._seenBlock?this._retrySeenBlock(a,this._seenBlock):a()}_startBlockEvents(){this._wsProvider?(console.log("Listening for new blocks on WebSocketProvider"),this._wsProvider.on("block",this._blockListener)):(console.log("Listening for new blocks on basic Provider"),super.on("block",this._blockListener))}_stopBlockEvents(){this._wsProvider?this._wsProvider.off("block",this._blockListener):super.off("block",this._blockListener)}_wrap(e,t){return[e,n=>t((e=>t=>{setTimeout((()=>{e(t)}),0)})(e))(n,{isActive:()=>this._blockListeners.has(e),removeMe:()=>this._blockListeners.delete(e)})]}on(e,t){if(l(e)){const n=this._getTransactionReceiptFromLatest.bind(this,e),[,a]=this._wrap(t,c(n));return a(void 0),this._addBlockListener(t,a)}return"block"===e?this._addBlockListener(...this._wrap(t,u)):super.on(e,t)}_addBlockListener(e,t){return this._blockListeners.has(e)||(this._blockListeners.set(e,t),1===this._blockListeners.size&&this._startBlockEvents()),this}once(e,t){if(l(e)){const i=this._getTransactionReceiptFromLatest.bind(this,e),[,r]=this._wrap(t,(n=c(i),a=p,e=>(t,i)=>{n((t=>a(e)(t,i)))(t,i)}));return r(void 0),this._addBlockListener(t,r)}return"block"===e?this._addBlockListener(...this._wrap(t,p)):super.once(e,t);var n,a}off(e,t){return l(e)||"block"===e?this._removeBlockListener(t):super.off(e,t)}_removeBlockListener(e){return this._blockListeners.has(e)&&(this._blockListeners.delete(e),0===this._blockListeners.size&&this._stopBlockEvents()),this}async getTransaction(e){var t,n;const a=[super.getTransaction(e),...(null===(t=this._wsProvider)||void 0===t?void 0:t.isReady)?[this._wsProvider.getTransaction(e)]:[]],i=await Promise.race(a);return null!==(n=null!==i&&void 0!==i?i:(await Promise.all(a)).find((e=>null!==e)))&&void 0!==n?n:null}getTransactionReceipt(e){var t;return(null===(t=this._wsProvider)||void 0===t?void 0:t.isReady)?this._wsProvider.getTransactionReceipt(e):super.getTransactionReceipt(e)}getTransactionCount(e,t){var n;return(null===(n=this._wsProvider)||void 0===n?void 0:n.isReady)?this._wsProvider.getTransactionCount(e,t):super.getTransactionCount(e,t)}getBlock(e){var t;return(null===(t=this._wsProvider)||void 0===t?void 0:t.isReady)?this._wsProvider.getBlock(e):super.getBlock(e)}getBlockWithTransactions(e){var t;return(null===(t=this._wsProvider)||void 0===t?void 0:t.isReady)?this._wsProvider.getBlockWithTransactions(e):super.getBlockWithTransactions(e)}async _blockContainsTx(e,t){let n;for(n=null;!n;n=await this.getBlock(e))await d(200);return n.transactions.some((e=>e===t))}async _getTransactionReceiptFromLatest(e,t){e=await e;for(let n=0;;++n){const n=await this.getTransactionReceipt(e);if(void 0===t||null===n&&!await this._blockContainsTx(t,e)||null!==n&&n.blockNumber+n.confirmations-1>=t)return n;await d(200)}}async waitForTransaction(e,t,n){if(void 0!==n)return super.waitForTransaction(e,t,n);let a;for(;;){const n=await this._getTransactionReceiptFromLatest(e,a);if(null!==n&&(void 0===t||n.confirmations>=t))return n;a=await new Promise((e=>this.once("block",e)))}}};return s.push(t),t},t.WebSocketAugmentedWeb3Provider=t.WebSocketAugmented(a.Web3Provider)},,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WebSocketProvider=void 0;const a=n(59);class i extends a.WebSocketProvider{get isReady(){return this._websocket.readyState===WebSocket.OPEN}set onClose(e){this._websocket.onclose=e}close(e){this._websocket.close(e)}async detectNetwork(){return this.network}}t.WebSocketProvider=i},function(e,t,n){"use strict";var a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t._connectToContracts=t._uniTokenIsMock=t._priceFeedIsTestnet=t._LiquityContract=void 0;const i=n(45),r=a(n(238)),s=a(n(239)),o=a(n(240)),l=a(n(241)),d=a(n(242)),c=a(n(243)),u=a(n(244)),p=a(n(245)),y=a(n(246)),b=a(n(247)),m=a(n(248)),h=a(n(249)),f=a(n(250)),T=a(n(251)),g=a(n(252)),v=a(n(253)),w=a(n(254)),_=a(n(255)),j=a(n(256)),x=a(n(257)),O=a(n(258)),S=a(n(259));class E extends i.Contract{constructor(e,t,n){var a,i;super(e,t,n),this.estimateAndPopulate=(a=this.estimateGas,i=this.populateTransaction,Object.fromEntries(Object.keys(a).map((e=>[e,async(t,n,...r)=>{if(void 0===t.gasLimit){const i=await a[e](...r,t);t={...t,gasLimit:n(i)}}return i[e](...r,t)}]))))}extractEvents(e,t){return e.filter((e=>e.address===this.address)).map((e=>this.interface.parseLog(e))).filter((e=>e.name===t))}}t._LiquityContract=E;t._priceFeedIsTestnet=e=>"setPrice"in e;t._uniTokenIsMock=e=>"mint"in e;t._connectToContracts=(e,{addresses:t,_priceFeedIsTestnet:n,_uniTokenIsMock:a})=>{const i=(D=n,C=a,{activePool:r.default,borrowerOperations:s.default,troveManager:o.default,lusdToken:l.default,lgldToken:l.default,ldreToken:l.default,communityIssuance:c.default,defaultPool:u.default,lqtyToken:p.default,lgldgToken:p.default,ldrerToken:p.default,hintHelpers:y.default,lqtyStaking:b.default,multiTroveGetter:m.default,priceFeed:D?f.default:h.default,inflationFeed:D?_.default:w.default,inflationFeedProxy:j.default,sortedTroves:T.default,stabilityPool:g.default,gasPool:v.default,collSurplusPool:d.default,unipool:x.default,uniToken:C?S.default:O.default});var D,C,L,A;return L=t,A=(t,n)=>new E(t,i[n],e),Object.fromEntries(Object.entries(L).map((([e,t])=>[e,A(t,e)])))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ReadableEthersLiquity=void 0;const a=n(5),i=n(93),r=n(67),s=n(147),o=a.Decimal.from("0.999037758833783000"),l=a.Decimal.from(2);var d;!function(e){e[e.nonExistent=0]="nonExistent",e[e.active=1]="active",e[e.closedByOwner=2]="closedByOwner",e[e.closedByLiquidation=3]="closedByLiquidation",e[e.closedByRedemption=4]="closedByRedemption"}(d||(d={}));const c=e=>e===d.nonExistent?"nonExistent":e===d.active?"open":e===d.closedByOwner?"closedByOwner":e===d.closedByLiquidation?"closedByLiquidation":e===d.closedByRedemption?"closedByRedemption":i.panic(new Error(`invalid backendStatus ${e}`)),u=e=>new Date(1e3*e),p=["ascendingCollateralRatio","descendingCollateralRatio"],y=(e,t)=>{if(void 0!==e[t]){if(!Number.isInteger(e[t]))throw new Error(`${t} must be an integer`);if(e[t]<0)throw new Error(`${t} must not be negative`)}};class b{constructor(e){this.connection=e}static _from(e){const t=new b(e);return"blockPolled"===e.useStore?new h(t):t}static async connect(e,t){return b._from(await r._connect(e,t))}hasStore(){return!1}async getTotalRedistributed(e){const{troveManager:t}=r._getContracts(this.connection),{chainId:n}=this.connection,[s,o]=await Promise.all([t.L_ETH({...e}).then(i.decimalify),t.L_LUSDDebt({...e}).then(i.decimalify)]);return new a.Trove(n,s,o)}async getTroveBeforeRedistribution(e,t){null!==e&&void 0!==e||(e=r._requireAddress(this.connection));const{troveManager:n}=r._getContracts(this.connection),{chainId:s}=this.connection,[o,l]=await Promise.all([n.Troves(e,{...t}),n.rewardSnapshots(e,{...t})]);return o.status===d.active?new a.TroveWithPendingRedistribution(s,e,c(o.status),i.decimalify(o.coll),i.decimalify(o.debt),i.decimalify(o.stake),new a.Trove(s,i.decimalify(l.ETH),i.decimalify(l.LUSDDebt))):new a.TroveWithPendingRedistribution(s,e,c(o.status))}async getTrove(e,t){const[n,a]=await Promise.all([this.getTroveBeforeRedistribution(e,t),this.getTotalRedistributed(t)]);return n.applyRedistribution(a)}async getNumberOfTroves(e){const{troveManager:t}=r._getContracts(this.connection);return(await t.getTroveOwnersCount({...e})).toNumber()}getPrice(e){const{priceFeed:t}=r._getContracts(this.connection);return t.callStatic.fetchPrice({...e}).then(i.decimalify)}getTargetPeg(e){const{inflationFeedProxy:t}=r._getContracts(this.connection);return t.getTargetPeg({...e}).then(i.decimalify)}getAfterPresale(e){const{borrowerOperations:t}=r._getContracts(this.connection);return t.afterPresale({...e})}getOwnerOfBorrowOptions(e){const{borrowerOperations:t}=r._getContracts(this.connection);return t.owner({...e})}getCurrentIndex(e){const{inflationFeedProxy:t}=r._getContracts(this.connection),{chainId:n}=this.connection;if(56==n){const{inflationFeed:t}=r._getContracts(this.connection);return t.currentIndex({...e}).then(i.decimalify)}return t.getCurrentIndex({...e}).then(i.decimalify)}async _getActivePool(e){const{activePool:t}=r._getContracts(this.connection),{chainId:n}=this.connection,[s,o]=await Promise.all([t.getETH({...e}),t.getLUSDDebt({...e})].map((e=>e.then(i.decimalify))));return new a.Trove(n,s,o)}async _getDefaultPool(e){const{defaultPool:t}=r._getContracts(this.connection),{chainId:n}=this.connection,[s,o]=await Promise.all([t.getETH({...e}),t.getLUSDDebt({...e})].map((e=>e.then(i.decimalify))));return new a.Trove(n,s,o)}async getTotal(e){const[t,n]=await Promise.all([this._getActivePool(e),this._getDefaultPool(e)]);return t.add(n)}async getStabilityDeposit(e,t){null!==e&&void 0!==e||(e=r._requireAddress(this.connection));const{stabilityPool:n}=r._getContracts(this.connection),[{frontEndTag:s,initialValue:o},l,d,c]=await Promise.all([n.deposits(e,{...t}),n.getCompoundedLUSDDeposit(e,{...t}),n.getDepositorETHGain(e,{...t}),n.getDepositorLQTYGain(e,{...t})]);return new a.StabilityDeposit(i.decimalify(o),i.decimalify(l),i.decimalify(d),i.decimalify(c),s)}async getRemainingStabilityPoolLQTYReward(e){const{communityIssuance:t}=r._getContracts(this.connection),n=this.connection.totalStabilityPoolLQTYReward,a=i.decimalify(await t.totalLQTYIssued({...e}));return n.sub(a)}getLUSDInStabilityPool(e){const{stabilityPool:t}=r._getContracts(this.connection);return t.getTotalLUSDDeposits({...e}).then(i.decimalify)}getLUSDBalance(e,t){null!==e&&void 0!==e||(e=r._requireAddress(this.connection));const{lusdToken:n}=r._getContracts(this.connection);return n.balanceOf(e,{...t}).then(i.decimalify)}getLQTYBalance(e,t){null!==e&&void 0!==e||(e=r._requireAddress(this.connection));const{lqtyToken:n}=r._getContracts(this.connection);return n.balanceOf(e,{...t}).then(i.decimalify)}getLGLDBalance(e,t){null!==e&&void 0!==e||(e=r._requireAddress(this.connection));const{lgldToken:n}=r._getContracts(this.connection);return n.balanceOf(e,{...t}).then(i.decimalify)}getLGLDGBalance(e,t){null!==e&&void 0!==e||(e=r._requireAddress(this.connection));const{lgldgToken:n}=r._getContracts(this.connection);return n.balanceOf(e,{...t}).then(i.decimalify)}getLDREBalance(e,t){null!==e&&void 0!==e||(e=r._requireAddress(this.connection));const{ldreToken:n}=r._getContracts(this.connection);return n.balanceOf(e,{...t}).then(i.decimalify)}getLDRERBalance(e,t){null!==e&&void 0!==e||(e=r._requireAddress(this.connection));const{ldrerToken:n}=r._getContracts(this.connection);return n.balanceOf(e,{...t}).then(i.decimalify)}getUniTokenBalance(e,t){null!==e&&void 0!==e||(e=r._requireAddress(this.connection));const{uniToken:n}=r._getContracts(this.connection);return n.balanceOf(e,{...t}).then(i.decimalify)}getUniTokenAllowance(e,t){null!==e&&void 0!==e||(e=r._requireAddress(this.connection));const{uniToken:n,unipool:a}=r._getContracts(this.connection);return n.allowance(e,a.address,{...t}).then(i.decimalify)}async _getRemainingLiquidityMiningLQTYRewardCalculator(e){const{unipool:t}=r._getContracts(this.connection),[n,a,s,o]=await Promise.all([t.totalSupply({...e}),t.rewardRate({...e}).then(i.decimalify),t.periodFinish({...e}).then(i.numberify),t.lastUpdateTime({...e}).then(i.numberify)]);return e=>a.mul(Math.max(0,s-(n.isZero()?o:e)))}async getRemainingLiquidityMiningLQTYReward(e){const[t,n]=await Promise.all([this._getRemainingLiquidityMiningLQTYRewardCalculator(e),this._getBlockTimestamp(null===e||void 0===e?void 0:e.blockTag)]);return t(n)}getLiquidityMiningStake(e,t){null!==e&&void 0!==e||(e=r._requireAddress(this.connection));const{unipool:n}=r._getContracts(this.connection);return n.balanceOf(e,{...t}).then(i.decimalify)}getTotalStakedUniTokens(e){const{unipool:t}=r._getContracts(this.connection);return t.totalSupply({...e}).then(i.decimalify)}getLiquidityMiningLQTYReward(e,t){null!==e&&void 0!==e||(e=r._requireAddress(this.connection));const{unipool:n}=r._getContracts(this.connection);return n.earned(e,{...t}).then(i.decimalify)}getCollateralSurplusBalance(e,t){null!==e&&void 0!==e||(e=r._requireAddress(this.connection));const{collSurplusPool:n}=r._getContracts(this.connection);return n.getCollateral(e,{...t}).then(i.decimalify)}async getTroves(e,t){var n,a;const{multiTroveGetter:i}=r._getContracts(this.connection),{chainId:s}=this.connection;if(y(e,"first"),y(e,"startingAt"),!p.includes(e.sortedBy))throw new Error(`sortedBy must be one of: ${p.map((e=>`"${e}"`)).join(", ")}`);const[o,l]=await Promise.all([e.beforeRedistribution?void 0:this.getTotalRedistributed({...t}),i.getMultipleSortedTroves("descendingCollateralRatio"===e.sortedBy?null!==(n=e.startingAt)&&void 0!==n?n:0:-((null!==(a=e.startingAt)&&void 0!==a?a:0)+1),e.first,{...t})]),d=m(s,l);return o?d.map((e=>e.applyRedistribution(o))):d}_getBlockTimestamp(e){return r._getBlockTimestamp(this.connection,e)}async _getFeesFactory(e){const{troveManager:t}=r._getContracts(this.connection),{chainId:n}=this.connection,[s,d]=await Promise.all([t.lastFeeOperationTime({...e}),t.baseRate({...e}).then(i.decimalify)]);return(e,t)=>new a.Fees(n,d,o,l,u(s.toNumber()),u(e),t)}async getFees(e){const[t,n,a,i]=await Promise.all([this._getFeesFactory(e),this.getTotal(e),this.getPrice(e),this._getBlockTimestamp(null===e||void 0===e?void 0:e.blockTag)]);return t(i,n.collateralRatioIsBelowCritical(a))}async getLQTYStake(e,t){null!==e&&void 0!==e||(e=r._requireAddress(this.connection));const{lqtyStaking:n}=r._getContracts(this.connection),[s,o,l]=await Promise.all([n.stakes(e,{...t}),n.getPendingETHGain(e,{...t}),n.getPendingLUSDGain(e,{...t})].map((e=>e.then(i.decimalify))));return new a.LQTYStake(s,o,l)}async getUnipoolStake(e,t){null!==e&&void 0!==e||(e=r._requireAddress(this.connection));const{unipool:n}=r._getContracts(this.connection),[s,o]=await Promise.all([n.balanceOf(e,{...t}),n.earned(e,{...t})].map((e=>e.then(i.decimalify))));return new a.UnipoolStake(s,o)}async getTotalStakedLQTY(e){const{lqtyStaking:t}=r._getContracts(this.connection);return t.totalLQTYStaked({...e}).then(i.decimalify)}async getFrontendStatus(e,t){null!==e&&void 0!==e||(e=r._requireFrontendAddress(this.connection));const{stabilityPool:n}=r._getContracts(this.connection),{registered:a,kickbackRate:s}=await n.frontEnds(e,{...t});return a?{status:"registered",kickbackRate:i.decimalify(s)}:{status:"unregistered"}}}t.ReadableEthersLiquity=b;const m=(e,t)=>t.map((t=>new a.TroveWithPendingRedistribution(e,t.owner,"open",i.decimalify(t.coll),i.decimalify(t.debt),i.decimalify(t.stake),new a.Trove(e,i.decimalify(t.snapshotETH),i.decimalify(t.snapshotLUSDDebt)))));class h{constructor(e){const t=new s.BlockPolledLiquityStore(e);this.store=t,this.connection=e.connection,this._readable=e}_blockHit(e){return!e||void 0===e.blockTag||e.blockTag===this.store.state.blockTag}_userHit(e,t){return this._blockHit(t)&&(void 0===e||e===this.store.connection.userAddress)}_frontendHit(e,t){return this._blockHit(t)&&(void 0===e||e===this.store.connection.frontendTag)}hasStore(e){return void 0===e||"blockPolled"===e}async getTotalRedistributed(e){return this._blockHit(e)?this.store.state.totalRedistributed:this._readable.getTotalRedistributed(e)}async getTroveBeforeRedistribution(e,t){return this._userHit(e,t)?this.store.state.troveBeforeRedistribution:this._readable.getTroveBeforeRedistribution(e,t)}async getTrove(e,t){return this._userHit(e,t)?this.store.state.trove:this._readable.getTrove(e,t)}async getNumberOfTroves(e){return this._blockHit(e)?this.store.state.numberOfTroves:this._readable.getNumberOfTroves(e)}async getPrice(e){return this._blockHit(e)?this.store.state.price:this._readable.getPrice(e)}async getTargetPeg(e){return this._blockHit(e)?this.store.state.targetPeg:this._readable.getTargetPeg(e)}async getAfterPresale(e){return this._blockHit(e)?this.store.state.afterPresale:this._readable.getAfterPresale(e)}async getOwnerOfBorrowOptions(e){return this._blockHit(e)?this.store.state.owner:this._readable.getOwnerOfBorrowOptions(e)}async getCurrentIndex(e){return this._blockHit(e)?this.store.state.currentIndex:this._readable.getCurrentIndex(e)}async getTotal(e){return this._blockHit(e)?this.store.state.total:this._readable.getTotal(e)}async getStabilityDeposit(e,t){return this._userHit(e,t)?this.store.state.stabilityDeposit:this._readable.getStabilityDeposit(e,t)}async getRemainingStabilityPoolLQTYReward(e){return this._blockHit(e)?this.store.state.remainingStabilityPoolLQTYReward:this._readable.getRemainingStabilityPoolLQTYReward(e)}async getLUSDInStabilityPool(e){return this._blockHit(e)?this.store.state.lusdInStabilityPool:this._readable.getLUSDInStabilityPool(e)}async getLUSDBalance(e,t){return this._userHit(e,t)?this.store.state.lusdBalance:this._readable.getLUSDBalance(e,t)}async getLQTYBalance(e,t){return this._userHit(e,t)?this.store.state.lqtyBalance:this._readable.getLQTYBalance(e,t)}async getLGLDBalance(e,t){return this._userHit(e,t)?this.store.state.lgldBalance:this._readable.getLGLDBalance(e,t)}async getLGLDGBalance(e,t){return this._userHit(e,t)?this.store.state.lgldgBalance:this._readable.getLGLDGBalance(e,t)}async getLDREBalance(e,t){return this._userHit(e,t)?this.store.state.ldreBalance:this._readable.getLDREBalance(e,t)}async getLDRERBalance(e,t){return this._userHit(e,t)?this.store.state.ldrerBalance:this._readable.getLDRERBalance(e,t)}async getUniTokenBalance(e,t){return this._userHit(e,t)?this.store.state.uniTokenBalance:this._readable.getUniTokenBalance(e,t)}async getUniTokenAllowance(e,t){return this._userHit(e,t)?this.store.state.uniTokenAllowance:this._readable.getUniTokenAllowance(e,t)}async getRemainingLiquidityMiningLQTYReward(e){return this._blockHit(e)?this.store.state.remainingLiquidityMiningLQTYReward:this._readable.getRemainingLiquidityMiningLQTYReward(e)}async getLiquidityMiningStake(e,t){return this._userHit(e,t)?this.store.state.liquidityMiningStake:this._readable.getLiquidityMiningStake(e,t)}async getTotalStakedUniTokens(e){return this._blockHit(e)?this.store.state.totalStakedUniTokens:this._readable.getTotalStakedUniTokens(e)}async getLiquidityMiningLQTYReward(e,t){return this._userHit(e,t)?this.store.state.liquidityMiningLQTYReward:this._readable.getLiquidityMiningLQTYReward(e,t)}async getCollateralSurplusBalance(e,t){return this._userHit(e,t)?this.store.state.collateralSurplusBalance:this._readable.getCollateralSurplusBalance(e,t)}async _getBlockTimestamp(e){return this._blockHit({blockTag:e})?this.store.state.blockTimestamp:this._readable._getBlockTimestamp(e)}async _getFeesFactory(e){return this._blockHit(e)?this.store.state._feesFactory:this._readable._getFeesFactory(e)}async getFees(e){return this._blockHit(e)?this.store.state.fees:this._readable.getFees(e)}async getLQTYStake(e,t){return this._userHit(e,t)?this.store.state.lqtyStake:this._readable.getLQTYStake(e,t)}async getUnipoolStake(e,t){return this._userHit(e,t)?this.store.state.unipoolStake:this._readable.getUnipoolStake(e,t)}async getTotalStakedLQTY(e){return this._blockHit(e)?this.store.state.totalStakedLQTY:this._readable.getTotalStakedLQTY(e)}async getFrontendStatus(e,t){return this._frontendHit(e,t)?this.store.state.frontend:this._readable.getFrontendStatus(e,t)}getTroves(e,t){return this._readable.getTroves(e,t)}_getActivePool(){throw new Error("Method not implemented.")}_getDefaultPool(){throw new Error("Method not implemented.")}_getRemainingLiquidityMiningLQTYRewardCalculator(){throw new Error("Method not implemented.")}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BlockPolledLiquityStore=void 0;const a=n(35),i=n(5),r=n(93),s=n(67);class o extends i.LiquityStore{constructor(e){super(),this.connection=e.connection,this._readable=e,this._provider=s._getProvider(e.connection)}async _getRiskiestTroveBeforeRedistribution(e){const t=await this._readable.getTroves({first:1,sortedBy:"ascendingCollateralRatio",beforeRedistribution:!0},e),{chainId:n}=this.connection;return 0===t.length?new i.TroveWithPendingRedistribution(n,a.AddressZero,"nonExistent"):t[0]}async _get(e){const{userAddress:t,frontendTag:n,chainId:s}=this.connection,{blockTimestamp:o,_feesFactory:l,calculateRemainingLQTY:d,...c}=await r.promiseAllValues({blockTimestamp:this._readable._getBlockTimestamp(e),_feesFactory:this._readable._getFeesFactory({blockTag:e}),calculateRemainingLQTY:this._readable._getRemainingLiquidityMiningLQTYRewardCalculator({blockTag:e}),price:this._readable.getPrice({blockTag:e}),targetPeg:this._readable.getTargetPeg({blockTag:e}),afterPresale:this._readable.getAfterPresale({blockTag:e}),owner:this._readable.getOwnerOfBorrowOptions({blockTag:e}),currentIndex:this._readable.getCurrentIndex({blockTag:e}),numberOfTroves:this._readable.getNumberOfTroves({blockTag:e}),totalRedistributed:this._readable.getTotalRedistributed({blockTag:e}),total:this._readable.getTotal({blockTag:e}),lusdInStabilityPool:this._readable.getLUSDInStabilityPool({blockTag:e}),totalStakedLQTY:this._readable.getTotalStakedLQTY({blockTag:e}),_riskiestTroveBeforeRedistribution:this._getRiskiestTroveBeforeRedistribution({blockTag:e}),totalStakedUniTokens:this._readable.getTotalStakedUniTokens({blockTag:e}),remainingStabilityPoolLQTYReward:this._readable.getRemainingStabilityPoolLQTYReward({blockTag:e}),frontend:n?this._readable.getFrontendStatus(n,{blockTag:e}):{status:"unregistered"},...t?{accountBalance:this._provider.getBalance(t,e).then(r.decimalify),lusdBalance:this._readable.getLUSDBalance(t,{blockTag:e}),lqtyBalance:this._readable.getLQTYBalance(t,{blockTag:e}),lgldBalance:this._readable.getLGLDBalance(t,{blockTag:e}),lgldgBalance:this._readable.getLGLDGBalance(t,{blockTag:e}),ldreBalance:this._readable.getLDREBalance(t,{blockTag:e}),ldrerBalance:this._readable.getLDRERBalance(t,{blockTag:e}),uniTokenBalance:this._readable.getUniTokenBalance(t,{blockTag:e}),uniTokenAllowance:this._readable.getUniTokenAllowance(t,{blockTag:e}),liquidityMiningStake:this._readable.getLiquidityMiningStake(t,{blockTag:e}),liquidityMiningLQTYReward:this._readable.getLiquidityMiningLQTYReward(t,{blockTag:e}),collateralSurplusBalance:this._readable.getCollateralSurplusBalance(t,{blockTag:e}),troveBeforeRedistribution:this._readable.getTroveBeforeRedistribution(t,{blockTag:e}),stabilityDeposit:this._readable.getStabilityDeposit(t,{blockTag:e}),lqtyStake:this._readable.getLQTYStake(t,{blockTag:e}),unipoolStake:this._readable.getUnipoolStake(t,{blockTag:e}),ownFrontend:this._readable.getFrontendStatus(t,{blockTag:e})}:{accountBalance:i.Decimal.ZERO,lusdBalance:i.Decimal.ZERO,lqtyBalance:i.Decimal.ZERO,lgldBalance:i.Decimal.ZERO,lgldgBalance:i.Decimal.ZERO,ldreBalance:i.Decimal.ZERO,ldrerBalance:i.Decimal.ZERO,uniTokenBalance:i.Decimal.ZERO,uniTokenAllowance:i.Decimal.ZERO,liquidityMiningStake:i.Decimal.ZERO,liquidityMiningLQTYReward:i.Decimal.ZERO,collateralSurplusBalance:i.Decimal.ZERO,troveBeforeRedistribution:new i.TroveWithPendingRedistribution(s,a.AddressZero,"nonExistent"),stabilityDeposit:new i.StabilityDeposit(i.Decimal.ZERO,i.Decimal.ZERO,i.Decimal.ZERO,i.Decimal.ZERO,a.AddressZero),lqtyStake:new i.LQTYStake,unipoolStake:new i.UnipoolStake,ownFrontend:{status:"unregistered"}}});return[{...c,_feesInNormalMode:l(o,!1),remainingLiquidityMiningLQTYReward:d(o)},{blockTag:e,blockTimestamp:o,_feesFactory:l}]}_doStart(){this._get().then((e=>{this._loaded||this._load(...e)}));const e=async e=>{const t=await this._get(e);this._loaded?this._update(...t):this._load(...t)};return this._provider.on("block",e),()=>{this._provider.off("block",e)}}_reduceExtra(e,t){var n,a,i;return{blockTag:null!==(n=t.blockTag)&&void 0!==n?n:e.blockTag,blockTimestamp:null!==(a=t.blockTimestamp)&&void 0!==a?a:e.blockTimestamp,_feesFactory:null!==(i=t._feesFactory)&&void 0!==i?i:e._feesFactory}}}t.BlockPolledLiquityStore=o},function(e,t,n){"use strict";var a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.PopulatableEthersLiquity=t.PopulatedEthersRedemption=t.PopulatedEthersLiquityTransaction=t.SentEthersLiquityTransaction=t.EthersTransactionCancelledError=t._RawErrorReason=t._redeemMaxIterations=void 0;const i=a(n(78)),r=n(35),s=n(4),o=n(5),l=n(67),d=n(93),c=n(145),u=n(263),p=(e,t)=>(null===t||void 0===t?void 0:t.gt(e))?t:e;t._redeemMaxIterations=70;const y=o.Decimal.from(.005),b=o.Decimal.from(.001),m=()=>{},h=e=>e,f=(e=10)=>t=>t.add(1e4+1414*Math.ceil(Math.log2(e+1))),T=e=>e.add(8e4),g=e=>e.add(5e4),v=e=>e.add(2e4);var w;!function(e){e.TRANSACTION_FAILED="transaction failed",e.TRANSACTION_CANCELLED="cancelled",e.TRANSACTION_REPLACED="replaced",e.TRANSACTION_REPRICED="repriced"}(w=t._RawErrorReason||(t._RawErrorReason={}));const _=[w.TRANSACTION_CANCELLED,w.TRANSACTION_REPLACED,w.TRANSACTION_REPRICED],j=(e,t)=>t in e;class x extends Error{constructor(e){i.default(e.reason!==w.TRANSACTION_REPRICED),super(`Transaction ${e.reason}`),this.name="TransactionCancelledError",this.rawReplacementReceipt=e.receipt,this.rawError=e}}t.EthersTransactionCancelledError=x;class O{constructor(e,t,n){this.rawSentTransaction=e,this._connection=t,this._parse=n}_receiptFrom(e){return e?e.status?o._successfulReceipt(e,this._parse(e),(()=>u.logsToString(e,l._getContracts(this._connection)))):o._failedReceipt(e):o._pendingReceipt}async _waitForRawReceipt(e){try{return await this.rawSentTransaction.wait(e)}catch(t){if(t instanceof Error){if((e=>j(e,"code")&&e.code===s.ErrorCode.CALL_EXCEPTION&&j(e,"reason")&&e.reason===w.TRANSACTION_FAILED)(t))return t.receipt;if((e=>j(e,"code")&&e.code===s.ErrorCode.TRANSACTION_REPLACED&&j(e,"reason")&&_.includes(e.reason))(t)){if(t.cancelled)throw new x(t);return t.receipt}}throw t}}async getReceipt(){return this._receiptFrom(await this._waitForRawReceipt(0))}async waitForReceipt(){const e=this._receiptFrom(await this._waitForRawReceipt());return i.default("pending"!==e.status),e}}t.SentEthersLiquityTransaction=O;const S=(e,t)=>{var n,a;if(void 0===e)return{maxBorrowingRate:null!==(n=null===t||void 0===t?void 0:t.add(y))&&void 0!==n?n:o.Decimal.ZERO,borrowingFeeDecayToleranceMinutes:10};if("number"===typeof e||"string"===typeof e||e instanceof o.Decimal)return{maxBorrowingRate:o.Decimal.from(e),borrowingFeeDecayToleranceMinutes:10};{const{maxBorrowingRate:n,borrowingFeeDecayToleranceMinutes:i}=e;return{maxBorrowingRate:void 0!==n?o.Decimal.from(n):null!==(a=null===t||void 0===t?void 0:t.add(y))&&void 0!==a?a:o.Decimal.ZERO,borrowingFeeDecayToleranceMinutes:null!==i&&void 0!==i?i:10}}};class E{constructor(e,t,n,a){this.rawPopulatedTransaction=e,this._connection=t,this._parse=n,void 0!==a&&(this.gasHeadroom=a)}async send(){return new O(await l._requireSigner(this._connection).sendTransaction(this.rawPopulatedTransaction),this._connection,this._parse)}}t.PopulatedEthersLiquityTransaction=E;class D extends E{constructor(e,t,n,a,i){const{troveManager:r}=l._getContracts(t);super(e,t,(({logs:e})=>r.extractEvents(e,"Redemption").map((({args:{_ETHSent:e,_ETHFee:t,_actualLUSDAmount:n,_attemptedLUSDAmount:a}})=>({attemptedLUSDAmount:d.decimalify(a),actualLUSDAmount:d.decimalify(n),collateralTaken:d.decimalify(e),fee:d.decimalify(t)})))[0])),this.attemptedLUSDAmount=n,this.redeemableLUSDAmount=a,this.isTruncated=a.lt(n),this._increaseAmountByMinimumNetDebt=i}increaseAmountByMinimumNetDebt(e){if(!this._increaseAmountByMinimumNetDebt)throw new Error("PopulatedEthersRedemption: increaseAmountByMinimumNetDebt() can only be called when amount is truncated");return this._increaseAmountByMinimumNetDebt(e)}}t.PopulatedEthersRedemption=D;t.PopulatableEthersLiquity=class{constructor(e){this._readable=e}_wrapSimpleTransaction(e){return new E(e,this._readable.connection,m)}_wrapTroveChangeWithFees(e,t,n){const{borrowerOperations:a}=l._getContracts(this._readable.connection),{chainId:i}=this._readable.connection;return new E(t,this._readable.connection,(({logs:t})=>{const[n]=a.extractEvents(t,"TroveUpdated").map((({args:{_coll:e,_debt:t}})=>new o.Trove(i,d.decimalify(e),d.decimalify(t)))),[r]=a.extractEvents(t,"LUSDBorrowingFeePaid").map((({args:{_LUSDFee:e}})=>d.decimalify(e)));return{params:e,newTrove:n,fee:r}}),n)}async _wrapTroveClosure(e){const{activePool:t,lusdToken:n}=l._getContracts(this._readable.connection);return new E(e,this._readable.connection,(({logs:e,from:a})=>{const[i]=n.extractEvents(e,"Transfer").filter((({args:{from:e,to:t}})=>e===a&&t===r.AddressZero)).map((({args:{value:e}})=>d.decimalify(e))),[s]=t.extractEvents(e,"EtherSent").filter((({args:{_to:e}})=>e===a)).map((({args:{_amount:e}})=>d.decimalify(e)));return{params:i.nonZero?{withdrawCollateral:s,repayLUSD:i}:{withdrawCollateral:s}}}))}_wrapLiquidation(e){const{troveManager:t}=l._getContracts(this._readable.connection),{chainId:n}=this._readable.connection;return new E(e,this._readable.connection,(({logs:e})=>{const a=t.extractEvents(e,"TroveLiquidated").map((({args:{_borrower:e}})=>e)),[i]=t.extractEvents(e,"Liquidation").map((({args:{_LUSDGasCompensation:e,_collGasCompensation:t,_liquidatedColl:a,_liquidatedDebt:i}})=>({collateralGasCompensation:d.decimalify(t),lusdGasCompensation:d.decimalify(e),totalLiquidated:new o.Trove(n,d.decimalify(a),d.decimalify(i))})));return{liquidatedAddresses:a,...i}}))}_extractStabilityPoolGainsWithdrawalDetails(e){const{stabilityPool:t}=l._getContracts(this._readable.connection),[n]=t.extractEvents(e,"UserDepositChanged").map((({args:{_newDeposit:e}})=>d.decimalify(e))),[[a,i]]=t.extractEvents(e,"ETHGainWithdrawn").map((({args:{_ETH:e,_LUSDLoss:t}})=>[d.decimalify(e),d.decimalify(t)])),[r]=t.extractEvents(e,"LQTYPaidToDepositor").map((({args:{_LQTY:e}})=>d.decimalify(e)));return{lusdLoss:i,newLUSDDeposit:n,collateralGain:a,lqtyReward:r}}_wrapStabilityPoolGainsWithdrawal(e){return new E(e,this._readable.connection,(({logs:e})=>this._extractStabilityPoolGainsWithdrawalDetails(e)))}_wrapStabilityDepositTopup(e,t){return new E(t,this._readable.connection,(({logs:t})=>({...this._extractStabilityPoolGainsWithdrawalDetails(t),change:e})))}async _wrapStabilityDepositWithdrawal(e){const{stabilityPool:t,lusdToken:n}=l._getContracts(this._readable.connection);return new E(e,this._readable.connection,(({logs:e,from:a})=>{const i=this._extractStabilityPoolGainsWithdrawalDetails(e),[r]=n.extractEvents(e,"Transfer").filter((({args:{from:e,to:n}})=>e===t.address&&n===a)).map((({args:{value:e}})=>d.decimalify(e)));return{...i,change:{withdrawLUSD:r,withdrawAllLUSD:i.newLUSDDeposit.isZero}}}))}_wrapCollateralGainTransfer(e){const{borrowerOperations:t}=l._getContracts(this._readable.connection),{chainId:n}=this._readable.connection;return new E(e,this._readable.connection,(({logs:e})=>{const[a]=t.extractEvents(e,"TroveUpdated").map((({args:{_coll:e,_debt:t}})=>new o.Trove(n,d.decimalify(e),d.decimalify(t))));return{...this._extractStabilityPoolGainsWithdrawalDetails(e),newTrove:a}}))}async _findHintsForNominalCollateralRatio(e,t){const{sortedTroves:n,hintHelpers:a}=l._getContracts(this._readable.connection),s=await this._readable.getNumberOfTroves();if(!s)return[r.AddressZero,r.AddressZero];if(e.infinite)return[r.AddressZero,await n.getFirst()];const o=Math.ceil(10*Math.sqrt(s)),[d,...c]=function*(e){for(i.default(Number.isInteger(e)&&e>0);e;){const t=Math.min(e,2500);yield t,e-=t}}(o),u=({latestRandomSeed:t,results:n},i)=>a.getApproxHint(e.hex,i,t).then((({latestRandomSeed:e,...t})=>({latestRandomSeed:e,results:[...n,t]}))),{results:p}=await c.reduce(((e,t)=>e.then((e=>u(e,t)))),u({latestRandomSeed:Math.floor(Math.random()*Number.MAX_SAFE_INTEGER),results:[]},d)),{hintAddress:y}=p.reduce(((e,t)=>e.diff.lt(t.diff)?e:t));let[b,m]=await n.findInsertPosition(e.hex,y,y);return t&&(b===t?b=await n.getPrev(b):m===t&&(m=await n.getNext(m))),b===r.AddressZero?b=m:m===r.AddressZero&&(m=b),[b,m]}async _findHints(e,t){if(e instanceof o.TroveWithPendingRedistribution)throw new Error("Rewards must be applied to this Trove");return this._findHintsForNominalCollateralRatio(e._nominalCollateralRatio,t)}async _findRedemptionHints(e){const{hintHelpers:n}=l._getContracts(this._readable.connection),a=await this._readable.getPrice(),{firstRedemptionHint:i,partialRedemptionHintNICR:s,truncatedLUSDamount:o}=await n.getRedemptionHints(e.hex,a.hex,t._redeemMaxIterations),[c,u]=s.isZero()?[r.AddressZero,r.AddressZero]:await this._findHintsForNominalCollateralRatio(d.decimalify(s));return[d.decimalify(o),i,c,u,s]}async openTrove(e,t,n){const{borrowerOperations:a}=l._getContracts(this._readable.connection),{chainId:i}=this._readable.connection,r=o._normalizeTroveCreation(e),{depositCollateral:s,borrowLUSD:d}=r,[c,u,y,b]=await Promise.all([this._readable._getFeesFactory(),this._readable._getBlockTimestamp(),this._readable.getTotal(),this._readable.getPrice()]),m=y.collateralRatioIsBelowCritical(b),h=e=>c(u+e,m).borrowingRate(),g=h(0),v=o.Trove.create(r,g),w=await this._findHints(v),{maxBorrowingRate:_,borrowingFeeDecayToleranceMinutes:j}=S(t,g),x=e=>[_.hex,e.hex,...w,{value:s.hex,...n}];let O;if(void 0===(null===n||void 0===n?void 0:n.gasLimit)){const e=h(60*j),t=o.Trove.create(r,e),{borrowLUSD:s}=o.Trove.recreate(t,g);if(t.debt.lt(o.LUSD_MINIMUM_DEBT[i]))throw new Error(`Trove's debt might fall below ${o.LUSD_MINIMUM_DEBT[i]} within ${j} minutes`);const[l,c]=await Promise.all([a.estimateGas.openTrove(...x(d)),a.estimateGas.openTrove(...x(s))]),u=f(j)(p(T(l),c));O=u.sub(l).toNumber(),n={...n,gasLimit:u}}return this._wrapTroveChangeWithFees(r,await a.populateTransaction.openTrove(...x(d)),O)}async closeTrove(e){const{borrowerOperations:t}=l._getContracts(this._readable.connection);return this._wrapTroveClosure(await t.estimateAndPopulate.closeTrove({...e},h))}depositCollateral(e,t){return this.adjustTrove({depositCollateral:e},void 0,t)}withdrawCollateral(e,t){return this.adjustTrove({withdrawCollateral:e},void 0,t)}borrowLUSD(e,t,n){return this.adjustTrove({borrowLUSD:e},t,n)}repayLUSD(e,t){return this.adjustTrove({repayLUSD:e},void 0,t)}async adjustTrove(e,t,n){const a=l._requireAddress(this._readable.connection,n),{borrowerOperations:i}=l._getContracts(this._readable.connection),{chainId:r}=this._readable.connection,s=o._normalizeTroveAdjustment(e),{depositCollateral:c,withdrawCollateral:u,borrowLUSD:y,repayLUSD:b}=s,[m,h]=await Promise.all([this._readable.getTrove(a),y&&d.promiseAllValues({fees:this._readable._getFeesFactory(),blockTimestamp:this._readable._getBlockTimestamp(),total:this._readable.getTotal(),price:this._readable.getPrice()})]),g=e=>null===h||void 0===h?void 0:h.fees(h.blockTimestamp+e,h.total.collateralRatioIsBelowCritical(h.price)).borrowingRate(),v=g(0),w=m.adjust(s,v),_=await this._findHints(w,a),{maxBorrowingRate:j,borrowingFeeDecayToleranceMinutes:x}=S(t,v),O=e=>{var t;return[j.hex,(null!==u&&void 0!==u?u:o.Decimal.ZERO).hex,(null!==(t=null!==e&&void 0!==e?e:b)&&void 0!==t?t:o.Decimal.ZERO).hex,!!e,..._,{value:null===c||void 0===c?void 0:c.hex,...n}]};let E;if(void 0===(null===n||void 0===n?void 0:n.gasLimit)){const e=g(60*x),t=m.adjust(s,e),{borrowLUSD:a}=m.adjustTo(t,v);if(t.debt.lt(o.LUSD_MINIMUM_DEBT[r]))throw new Error(`Trove's debt might fall below ${o.LUSD_MINIMUM_DEBT[r]} within ${x} minutes`);const[l,d]=await Promise.all([i.estimateGas.adjustTrove(...O(y)),y&&i.estimateGas.adjustTrove(...O(a))]);let c=p(T(l),d);y&&(c=f(x)(c)),E=c.sub(l).toNumber(),n={...n,gasLimit:c}}return this._wrapTroveChangeWithFees(s,await i.populateTransaction.adjustTrove(...O(y)),E)}async claimCollateralSurplus(e){const{borrowerOperations:t}=l._getContracts(this._readable.connection);return this._wrapSimpleTransaction(await t.estimateAndPopulate.claimCollateral({...e},h))}async setPrice(e,t){const{priceFeed:n}=l._getContracts(this._readable.connection);if(!c._priceFeedIsTestnet(n))throw new Error("setPrice() unavailable on this deployment of Liquity");return this._wrapSimpleTransaction(await n.estimateAndPopulate.setPrice({...t},h,o.Decimal.from(e).hex))}async updateTargetPeg(e){const{inflationFeedProxy:t,priceFeed:n}=l._getContracts(this._readable.connection);if(c._priceFeedIsTestnet(n))throw new Error("setPrice() unavailable on this deployment of Liquity");return this._wrapSimpleTransaction(await t.estimateAndPopulate.updateTargetPeg({...e},h))}async toggleAfterPresale(e){const{borrowerOperations:t}=l._getContracts(this._readable.connection);return this._wrapSimpleTransaction(await t.estimateAndPopulate.toggleAfterPresale({...e},h))}async liquidate(e,t){const{troveManager:n}=l._getContracts(this._readable.connection);return Array.isArray(e)?this._wrapLiquidation(await n.estimateAndPopulate.batchLiquidateTroves({...t},g,e)):this._wrapLiquidation(await n.estimateAndPopulate.liquidate({...t},g,e))}async liquidateUpTo(e,t){const{troveManager:n}=l._getContracts(this._readable.connection);return this._wrapLiquidation(await n.estimateAndPopulate.liquidateTroves({...t},g,e))}async depositLUSDInStabilityPool(e,t,n){var a;const{stabilityPool:i}=l._getContracts(this._readable.connection),s=o.Decimal.from(e);return this._wrapStabilityDepositTopup({depositLUSD:s},await i.estimateAndPopulate.provideToSP({...n},g,s.hex,null!==(a=null!==t&&void 0!==t?t:this._readable.connection.frontendTag)&&void 0!==a?a:r.AddressZero))}async withdrawLUSDFromStabilityPool(e,t){const{stabilityPool:n}=l._getContracts(this._readable.connection);return this._wrapStabilityDepositWithdrawal(await n.estimateAndPopulate.withdrawFromSP({...t},g,o.Decimal.from(e).hex))}async withdrawGainsFromStabilityPool(e){const{stabilityPool:t}=l._getContracts(this._readable.connection);return this._wrapStabilityPoolGainsWithdrawal(await t.estimateAndPopulate.withdrawFromSP({...e},g,o.Decimal.ZERO.hex))}async transferCollateralGainToTrove(e){const t=l._requireAddress(this._readable.connection,e),{stabilityPool:n}=l._getContracts(this._readable.connection),[a,i]=await Promise.all([this._readable.getTrove(t),this._readable.getStabilityDeposit(t)]),r=a.addCollateral(i.collateralGain);return this._wrapCollateralGainTransfer(await n.estimateAndPopulate.withdrawETHGainToTrove({...e},(s=T,o=g,e=>s(o(e))),...await this._findHints(r,t)));var s,o}async sendLUSD(e,t,n){const{lusdToken:a}=l._getContracts(this._readable.connection);return this._wrapSimpleTransaction(await a.estimateAndPopulate.transfer({...n},h,e,o.Decimal.from(t).hex))}async sendLQTY(e,t,n){const{lqtyToken:a}=l._getContracts(this._readable.connection);return this._wrapSimpleTransaction(await a.estimateAndPopulate.transfer({...n},h,e,o.Decimal.from(t).hex))}async redeemLUSD(e,n,a){const{troveManager:i}=l._getContracts(this._readable.connection),s=o.Decimal.from(e),{chainId:d}=this._readable.connection,[c,u,[p,y,...m]]=await Promise.all([this._readable.getFees(),this._readable.getTotal(),this._findRedemptionHints(s)]);if(p.isZero)throw new Error(`redeemLUSD: amount too low to redeem (try at least ${o.LUSD_MINIMUM_NET_DEBT[d]})`);const h=async(e,n,s=e,l=[r.AddressZero,r.AddressZero,0])=>{const p=void 0!==n?o.Decimal.from(n):(e=>o.Decimal.min(c.redemptionRate(e.div(u.debt)).add(b),o.Decimal.ONE))(s);return new D(await i.estimateAndPopulate.redeemCollateral({...a},f(),s.hex,y,...l,t._redeemMaxIterations,p.hex),this._readable.connection,e,s,s.lt(e)?e=>h(s.add(o.LUSD_MINIMUM_NET_DEBT[d]),null!==e&&void 0!==e?e:n):void 0)};return h(s,n,p,m)}async stakeLQTY(e,t){const{lqtyStaking:n}=l._getContracts(this._readable.connection);return this._wrapSimpleTransaction(await n.estimateAndPopulate.stake({...t},h,o.Decimal.from(e).hex))}async unstakeLQTY(e,t){const{lqtyStaking:n}=l._getContracts(this._readable.connection);return this._wrapSimpleTransaction(await n.estimateAndPopulate.unstake({...t},h,o.Decimal.from(e).hex))}withdrawGainsFromStaking(e){return this.unstakeLQTY(o.Decimal.ZERO,e)}async registerFrontend(e,t){const{stabilityPool:n}=l._getContracts(this._readable.connection);return this._wrapSimpleTransaction(await n.estimateAndPopulate.registerFrontEnd({...t},h,o.Decimal.from(e).hex))}async _mintUniToken(e,t,n){null!==t&&void 0!==t||(t=l._requireAddress(this._readable.connection,n));const{uniToken:a}=l._getContracts(this._readable.connection);if(!c._uniTokenIsMock(a))throw new Error("_mintUniToken() unavailable on this deployment of Liquity");return this._wrapSimpleTransaction(await a.estimateAndPopulate.mint({...n},h,t,o.Decimal.from(e).hex))}async approveUniTokens(e,t){const{uniToken:n,unipool:a}=l._getContracts(this._readable.connection);return this._wrapSimpleTransaction(await n.estimateAndPopulate.approve({...t},h,a.address,o.Decimal.from(null!==e&&void 0!==e?e:o.Decimal.INFINITY).hex))}async stakeUniTokens(e,t){const{unipool:n}=l._getContracts(this._readable.connection);return this._wrapSimpleTransaction(await n.estimateAndPopulate.stake({...t},v,o.Decimal.from(e).hex))}async unstakeUniTokens(e,t){const{unipool:n}=l._getContracts(this._readable.connection);return this._wrapSimpleTransaction(await n.estimateAndPopulate.withdraw({...t},v,o.Decimal.from(e).hex))}async withdrawLQTYRewardFromLiquidityMining(e){const{unipool:t}=l._getContracts(this._readable.connection);return this._wrapSimpleTransaction(await t.estimateAndPopulate.claimReward({...e},v))}async exitLiquidityMining(e){const{unipool:t}=l._getContracts(this._readable.connection);return this._wrapSimpleTransaction(await t.estimateAndPopulate.withdrawAndClaim({...e},v))}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SendableEthersLiquity=void 0;const a=e=>e.send();t.SendableEthersLiquity=class{constructor(e){this._populate=e}async openTrove(e,t,n){return this._populate.openTrove(e,t,n).then(a)}closeTrove(e){return this._populate.closeTrove(e).then(a)}adjustTrove(e,t,n){return this._populate.adjustTrove(e,t,n).then(a)}depositCollateral(e,t){return this._populate.depositCollateral(e,t).then(a)}withdrawCollateral(e,t){return this._populate.withdrawCollateral(e,t).then(a)}borrowLUSD(e,t,n){return this._populate.borrowLUSD(e,t,n).then(a)}repayLUSD(e,t){return this._populate.repayLUSD(e,t).then(a)}setPrice(e,t){return this._populate.setPrice(e,t).then(a)}updateTargetPeg(e){return this._populate.updateTargetPeg(e).then(a)}toggleAfterPresale(e){return this._populate.toggleAfterPresale(e).then(a)}liquidate(e,t){return this._populate.liquidate(e,t).then(a)}liquidateUpTo(e,t){return this._populate.liquidateUpTo(e,t).then(a)}depositLUSDInStabilityPool(e,t,n){return this._populate.depositLUSDInStabilityPool(e,t,n).then(a)}withdrawLUSDFromStabilityPool(e,t){return this._populate.withdrawLUSDFromStabilityPool(e,t).then(a)}withdrawGainsFromStabilityPool(e){return this._populate.withdrawGainsFromStabilityPool(e).then(a)}transferCollateralGainToTrove(e){return this._populate.transferCollateralGainToTrove(e).then(a)}sendLUSD(e,t,n){return this._populate.sendLUSD(e,t,n).then(a)}sendLQTY(e,t,n){return this._populate.sendLQTY(e,t,n).then(a)}redeemLUSD(e,t,n){return this._populate.redeemLUSD(e,t,n).then(a)}claimCollateralSurplus(e){return this._populate.claimCollateralSurplus(e).then(a)}stakeLQTY(e,t){return this._populate.stakeLQTY(e,t).then(a)}unstakeLQTY(e,t){return this._populate.unstakeLQTY(e,t).then(a)}withdrawGainsFromStaking(e){return this._populate.withdrawGainsFromStaking(e).then(a)}registerFrontend(e,t){return this._populate.registerFrontend(e,t).then(a)}_mintUniToken(e,t,n){return this._populate._mintUniToken(e,t,n).then(a)}approveUniTokens(e,t){return this._populate.approveUniTokens(e,t).then(a)}stakeUniTokens(e,t){return this._populate.stakeUniTokens(e,t).then(a)}unstakeUniTokens(e,t){return this._populate.unstakeUniTokens(e,t).then(a)}withdrawLQTYRewardFromLiquidityMining(e){return this._populate.withdrawLQTYRewardFromLiquidityMining(e).then(a)}exitLiquidityMining(e){return this._populate.exitLiquidityMining(e).then(a)}}},,,,,,,,,,,function(e,t,n){"use strict";var a=this&&this.__createBinding||(Object.create?function(e,t,n,a){void 0===a&&(a=n),Object.defineProperty(e,a,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,a){void 0===a&&(a=n),e[a]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&a(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.LiquityStoreProvider=t.LiquityStoreContext=void 0;const s=r(n(1));t.LiquityStoreContext=s.createContext(void 0);t.LiquityStoreProvider=({store:e,loader:n,children:a})=>{const[i,r]=s.useState();return s.useEffect((()=>{e.onLoaded=()=>r(e);const t=e.start();return()=>{e.onLoaded=void 0,r(void 0),t()}}),[e]),i?s.default.createElement(t.LiquityStoreContext.Provider,{value:i},a):s.default.createElement(s.default.Fragment,null,n)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.equals=void 0;const a=(e,t)=>{const n=Object.keys(e),a=Object.keys(t);return n.length===a.length&&n.every((n=>((e,t)=>Object.prototype.hasOwnProperty.call(e,t))(t,n)&&Object.is(e[n],t[n])))},i=e=>null!==e&&"object"===typeof e;t.equals=(e,t)=>i(e)&&i(t)?a(e,t):Object.is(e,t)},,,,,,,,,,,,,function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return o}));var a=n(2),i=n(36),r=n(127),s=n(5);class o{constructor(e,t,n=100){this.url=void 0,this.id=0,this.wallet=void 0,this.funderWallet=void 0,this.ethAmount=void 0,this.haveFunded=!1,this.url=e,this.wallet=i.Wallet.createRandom(),this.funderWallet=new i.Wallet(t),this.ethAmount=s.Decimal.from(n)}findWallet(e){const t=[this.wallet,this.funderWallet].find((t=>t.address.toLowerCase()===e.toLowerCase()));if(!t)throw new Error(`Unknow account ${e}`);return t}async fund(){return this.send("eth_sendTransaction",[{from:this.funderWallet.address,to:this.wallet.address,value:this.ethAmount.hex,gas:Object(a.hexlify)(21e3)}])}async send(t,n){switch(this.haveFunded||(this.haveFunded=!0,await this.fund()),t){case"eth_accounts":case"eth_requestAccounts":return[this.wallet.address];case"eth_signTypedData_v4":{const t=this.findWallet(n[0]).privateKey.slice(2),a=e.from(t,"hex");return await Object(r.signTypedData)({privateKey:a,data:JSON.parse(n[1]),version:r.SignTypedDataVersion.V4})}case"eth_sendTransaction":return this.send("eth_sendRawTransaction",await Promise.all(n.map((async({from:e,nonce:t,gas:n,...a})=>(void 0===t&&(t=await this.send("eth_getTransactionCount",[e])),this.findWallet(e).signTransaction({from:e,nonce:t,...void 0!==n?{gasLimit:n}:{},...a}))))))}const a=await fetch(this.url,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({method:t,params:n,id:this.id++,jsonrpc:"2.0"})}),i=await a.json();if(i.error){const{message:e,...t}=i.error,n=new Error(`${e} ${JSON.stringify(t)}`);throw Object.assign(n,t)}return i.result}request({method:e,params:t}){return this.send(e,t)}}}).call(this,n(34).Buffer)},function(e,t){},,function(e){e.exports=JSON.parse('{"bnbt":{"chainId":97,"chainName":"BNB Smart Chain Testnet","chainRpcUrl":"https://data-seed-prebsc-1-s3.binance.org:8545/","chainBlockExplorerUrls":["https://testnet.bscscan.com/"],"nativeCurrency":{"name":"tBNB","symbol":"tBNB","decimals":18}},"goerli":{"chainId":5,"chainName":"Ethereum G\xf6rli","chainRpcUrl":"https://endpoints.omniatech.io/v1/eth/goerli/public","chainBlockExplorerUrls":["https://goerli.etherscan.io/"],"nativeCurrency":{"name":"Ethereum","symbol":"ETH","decimals":18}},"homestead":{"chainId":1,"chainName":"Ethereum","chainRpcUrl":"https://eth.llamarpc.com","chainBlockExplorerUrls":["https://etherscan.io/"],"nativeCurrency":{"name":"Ethereum","symbol":"ETH","decimals":18}},"bnb":{"chainId":56,"chainName":"BNB Mainnet","chainRpcUrl":"https://bsc.publicnode.com","chainBlockExplorerUrls":["https://bscscan.com/"],"nativeCurrency":{"name":"BNB","symbol":"BNB","decimals":18}}}')},,,,,,function(e){e.exports=JSON.parse('[{"inputs":[{"internalType":"address","name":"_troveManagerAddress","type":"address"},{"internalType":"address","name":"_stabilityPoolAddress","type":"address"},{"internalType":"address","name":"_borrowerOperationsAddress","type":"address"}],"stateMutability":"nonpayable","type":"constructor"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"owner","type":"address"},{"indexed":true,"internalType":"address","name":"spender","type":"address"},{"indexed":false,"internalType":"uint256","name":"value","type":"uint256"}],"name":"Approval","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"address","name":"_newBorrowerOperationsAddress","type":"address"}],"name":"BorrowerOperationsAddressChanged","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"address","name":"_user","type":"address"},{"indexed":false,"internalType":"uint256","name":"_amount","type":"uint256"}],"name":"LUSDTokenBalanceUpdated","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"address","name":"_newStabilityPoolAddress","type":"address"}],"name":"StabilityPoolAddressChanged","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"from","type":"address"},{"indexed":true,"internalType":"address","name":"to","type":"address"},{"indexed":false,"internalType":"uint256","name":"value","type":"uint256"}],"name":"Transfer","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"address","name":"_troveManagerAddress","type":"address"}],"name":"TroveManagerAddressChanged","type":"event"},{"inputs":[{"internalType":"address","name":"owner","type":"address"},{"internalType":"address","name":"spender","type":"address"}],"name":"allowance","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"spender","type":"address"},{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"approve","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"account","type":"address"}],"name":"balanceOf","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"borrowerOperationsAddress","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"_account","type":"address"},{"internalType":"uint256","name":"_amount","type":"uint256"}],"name":"burn","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"decimals","outputs":[{"internalType":"uint8","name":"","type":"uint8"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"spender","type":"address"},{"internalType":"uint256","name":"subtractedValue","type":"uint256"}],"name":"decreaseAllowance","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"domainSeparator","outputs":[{"internalType":"bytes32","name":"","type":"bytes32"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"spender","type":"address"},{"internalType":"uint256","name":"addedValue","type":"uint256"}],"name":"increaseAllowance","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"_account","type":"address"},{"internalType":"uint256","name":"_amount","type":"uint256"}],"name":"mint","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"name","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"owner","type":"address"}],"name":"nonces","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"owner","type":"address"},{"internalType":"address","name":"spender","type":"address"},{"internalType":"uint256","name":"amount","type":"uint256"},{"internalType":"uint256","name":"deadline","type":"uint256"},{"internalType":"uint8","name":"v","type":"uint8"},{"internalType":"bytes32","name":"r","type":"bytes32"},{"internalType":"bytes32","name":"s","type":"bytes32"}],"name":"permit","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"permitTypeHash","outputs":[{"internalType":"bytes32","name":"","type":"bytes32"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"_poolAddress","type":"address"},{"internalType":"address","name":"_receiver","type":"address"},{"internalType":"uint256","name":"_amount","type":"uint256"}],"name":"returnFromPool","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"_sender","type":"address"},{"internalType":"address","name":"_poolAddress","type":"address"},{"internalType":"uint256","name":"_amount","type":"uint256"}],"name":"sendToPool","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"stabilityPoolAddress","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"symbol","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"totalSupply","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"recipient","type":"address"},{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"transfer","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"sender","type":"address"},{"internalType":"address","name":"recipient","type":"address"},{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"transferFrom","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"troveManagerAddress","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"version","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"}]')},,,,,,,,,,,,,,,,,,,,,function(e,t,n){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BatchedWebSocketAugmentedWeb3Provider=t.Batched=t.isBatchedProvider=void 0;const a=n(9),i=n(45),r=n(3),s=n(140),o={1:"0xeefBa1e63905eF1D7ACbA5a8513c70307C1cE441",3:"0x53C43764255c17BD724F74c4eF150724AC50a3ed",4:"0x42Ad527de7d4e9d9d011aC45B31D8551f8Fe9821",5:"0xcA11bde05977b3631167028862bE2a173976CA11",42:"0x2cc8688C5f75E365aaEEb4ea8D6a480405A48D2A",56:"0x1Ee38d535d541c55C9dae27B12edf090C608E6Fb",97:"0x6e5BB1a5Ad6F68A8D7D6A5e47750eC15773d6042"},l=[{type:"function",name:"aggregate",stateMutability:"nonpayable",constant:!1,payable:!1,inputs:[{components:[{name:"target",type:"address"},{name:"callData",type:"bytes"}],name:"calls",type:"tuple[]"}],outputs:[{name:"blockNumber",type:"uint256"},{name:"returnData",type:"bytes[]"}]},{type:"function",name:"getEthBalance",stateMutability:"view",constant:!0,payable:!1,inputs:[{name:"addr",type:"address"}],outputs:[{name:"balance",type:"uint256"}]}],d=[];t.isBatchedProvider=e=>d.some((t=>e instanceof t));t.Batched=e=>{const t=class extends e{constructor(){super(...arguments),this.batchingDelayMs=10,this._chainId=0,this._batched={calls:[],callbacks:[]},this._numberOfBatchedCalls=0,this._numberOfActualCalls=0}get chainId(){return this._chainId}set chainId(e){if(this._multicall)throw new Error("can only set chainId once");(e=>e in o)(e)&&(this._multicall=new i.Contract(o[e],l,this)),this._chainId=e}async _dispatchCalls(){const{calls:e,callbacks:t,blockTag:n}=this._batched;this._batched={calls:[],callbacks:[]};try{const a=e.length>1?await this._multicall.callStatic.aggregate(e,{blockTag:n}).then((e=>e.returnData)):[await super.call({to:e[0].target,data:e[0].callData},n)];t.forEach((([e],t)=>e(a[t])))}catch(a){t.forEach((([,e])=>e(a)))}}_enqueueCall(e){return void 0!==this._timeoutId&&clearTimeout(this._timeoutId),this._batched.calls.push(e),this._timeoutId=setTimeout((()=>this._dispatchCalls()),this.batchingDelayMs),new Promise(((e,t)=>this._batched.callbacks.push([e,t])))}_alreadyBatchedCallsConflictWith(e){var t;return 0!==this._batched.calls.length&&(null!==e&&void 0!==e?e:"latest")!==(null!==(t=this._batched.blockTag)&&void 0!==t?t:"latest")}async call(e,t){if(!this._multicall)return super.call(e,t);{const e=(new Date).getTime();if(void 0===this._timeOfLastRatioCheck)this._timeOfLastRatioCheck=e;else{e-this._timeOfLastRatioCheck>=1e4&&this._numberOfActualCalls&&(this._numberOfBatchedCalls=0,this._numberOfActualCalls=0,this._timeOfLastRatioCheck=e)}}const[n,a]=await Promise.all([r.resolveProperties(e),t]);return((e,t)=>e.to===t&&"string"===typeof e.data&&e.data.startsWith("0x252dba42"))(n,this._multicall.address)||!(e=>void 0===e.gasLimit&&void 0===e.gasPrice&&void 0===e.value)(n)||this._alreadyBatchedCallsConflictWith(a)?(this._numberOfActualCalls++,super.call(n,a)):(this._numberOfBatchedCalls++,0===this._batched.calls.length&&(this._batched.blockTag=a),this._enqueueCall({target:n.to,callData:n.data}))}async getBalance(e,t){const[n,i]=await Promise.all([e,t]);if(!a.isAddress(n)||!this._multicall)return super.getBalance(n,t);const[r]=await this._multicall.functions.getEthBalance(n,{blockTag:i});return r}};return d.push(t),t},t.BatchedWebSocketAugmentedWeb3Provider=t.Batched(s.WebSocketAugmentedWeb3Provider)},function(e,t){},,,,,,,,,,,function(e,t,n){"use strict";var a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.TroveWithPendingRedistribution=t.UserTrove=t._emptyTrove=t.Trove=t._normalizeTroveAdjustment=t._normalizeTroveCreation=void 0;const i=a(n(78)),r=n(57),s=n(114),o=e=>({type:"creation",params:e}),l=(e,t)=>({type:"adjustment",params:e,setToZero:t}),d=e=>void 0!==e[1],c=["depositCollateral","borrowLUSD"];const u=([e,t])=>[e,r.Decimal.from(t)],p=([,e])=>!e.isZero;t._normalizeTroveCreation=e=>{const t=Object.entries(e).filter(d);!function(e){const t=e.filter((([e])=>!c.includes(e))).map((([e])=>`'${e}'`));if(t.length>0)throw new Error(`TroveCreationParams: property ${t.join(", ")} not allowed`)}(t);return(e=>{const t=Object.fromEntries(e),n=c.filter((e=>!(e in t))).map((e=>`'${e}'`));if(n.length>0)throw new Error(`TroveCreationParams: property ${n.join(", ")} missing`);return t})(t.map(u))};const y=["depositCollateral","withdrawCollateral","borrowLUSD","repayLUSD"];const b=e=>{const t=Object.fromEntries(e),n=(({depositCollateral:e,withdrawCollateral:t})=>{if(void 0!==e&&void 0!==t)throw new Error("TroveAdjustmentParams: 'depositCollateral' and 'withdrawCollateral' can't be present at the same time");return void 0!==e?{depositCollateral:e}:void 0!==t?{withdrawCollateral:t}:void 0})(t),a=(({borrowLUSD:e,repayLUSD:t})=>{if(void 0!==e&&void 0!==t)throw new Error("TroveAdjustmentParams: 'borrowLUSD' and 'repayLUSD' can't be present at the same time");return void 0!==e?{borrowLUSD:e}:void 0!==t?{repayLUSD:t}:void 0})(t);if(void 0!==n&&void 0!==a)return{...n,...a};if(void 0!==n)return n;if(void 0!==a)return a;throw new Error("TroveAdjustmentParams: must include at least one non-zero parameter")};t._normalizeTroveAdjustment=e=>{const t=Object.entries(e).filter(d);!function(e){const t=e.filter((([e])=>!y.includes(e))).map((([e])=>`'${e}'`));if(t.length>0)throw new Error(`TroveAdjustmentParams: property ${t.join(", ")} not allowed`)}(t);const n=t.map(u).filter(p);return b(n)};const m=(e,t)=>t.mul(r.Decimal.ONE.add(e)),h=(e,t)=>t._divCeil(r.Decimal.ONE.add(e)),f=r.Decimal.from(100);class T{constructor(e,t=r.Decimal.ZERO,n=r.Decimal.ZERO){this.collateral=t,this.debt=n,this.chainId=e}get isEmpty(){return this.collateral.isZero&&this.debt.isZero}get netDebt(){if(this.debt.lt(s.LUSD_LIQUIDATION_RESERVE[this.chainId]))throw new Error(`netDebt should not be used when debt < ${s.LUSD_LIQUIDATION_RESERVE}`);return this.debt.sub(s.LUSD_LIQUIDATION_RESERVE[this.chainId])}get _nominalCollateralRatio(){return this.collateral.mulDiv(f,this.debt)}collateralRatio(e){return this.collateral.mulDiv(e,this.debt)}collateralRatioIsBelowMinimum(e){return this.collateralRatio(e).lt(s.MINIMUM_COLLATERAL_RATIO)}collateralRatioIsBelowCritical(e){return this.collateralRatio(e).lt(s.CRITICAL_COLLATERAL_RATIO)}isOpenableInRecoveryMode(e){return this.collateralRatio(e).gte(s.CRITICAL_COLLATERAL_RATIO)}toString(){return`{ collateral: ${this.collateral}, debt: ${this.debt} }`}equals(e){return this.collateral.eq(e.collateral)&&this.debt.eq(e.debt)}add(e){return new T(this.chainId,this.collateral.add(e.collateral),this.debt.add(e.debt))}addCollateral(e){return new T(this.chainId,this.collateral.add(e),this.debt)}addDebt(e){return new T(this.chainId,this.collateral,this.debt.add(e))}subtract(e){const{collateral:t,debt:n}=e;return new T(this.chainId,this.collateral.gt(t)?this.collateral.sub(t):r.Decimal.ZERO,this.debt.gt(n)?this.debt.sub(n):r.Decimal.ZERO)}subtractCollateral(e){return new T(this.chainId,this.collateral.gt(e)?this.collateral.sub(e):r.Decimal.ZERO,this.debt)}subtractDebt(e){return new T(this.chainId,this.collateral,this.debt.gt(e)?this.debt.sub(e):r.Decimal.ZERO)}multiply(e){return new T(this.chainId,this.collateral.mul(e),this.debt.mul(e))}setCollateral(e){return new T(this.chainId,r.Decimal.from(e),this.debt)}setDebt(e){return new T(this.chainId,this.collateral,r.Decimal.from(e))}_debtChange({debt:e},t){return e.gt(this.debt)?{borrowLUSD:h(t,e.sub(this.debt))}:{repayLUSD:this.debt.sub(e)}}_collateralChange({collateral:e}){return e.gt(this.collateral)?{depositCollateral:e.sub(this.collateral)}:{withdrawCollateral:this.collateral.sub(e)}}whatChanged(e,t=s.MINIMUM_BORROWING_RATE[this.chainId]){var n;if(!this.collateral.eq(e.collateral)||!this.debt.eq(e.debt))return this.isEmpty?e.debt.lt(s.LUSD_LIQUIDATION_RESERVE[this.chainId])?{type:"invalidCreation",invalidTrove:e,error:"missingLiquidationReserve"}:o({depositCollateral:e.collateral,borrowLUSD:h(t,e.netDebt)}):e.isEmpty?{type:"closure",params:this.netDebt.nonZero?{withdrawCollateral:this.collateral,repayLUSD:this.netDebt}:{withdrawCollateral:this.collateral}}:this.collateral.eq(e.collateral)?l(this._debtChange(e,t),e.debt.zero&&"debt"):this.debt.eq(e.debt)?l(this._collateralChange(e),e.collateral.zero&&"collateral"):l({...this._debtChange(e,t),...this._collateralChange(e)},null!==(n=e.debt.zero&&"debt")&&void 0!==n?n:e.collateral.zero&&"collateral")}apply(e,n=s.MINIMUM_BORROWING_RATE[this.chainId]){if(!e)return this;switch(e.type){case"invalidCreation":if(!this.isEmpty)throw new Error("Can't create onto existing Trove");return e.invalidTrove;case"creation":{if(!this.isEmpty)throw new Error("Can't create onto existing Trove");const{depositCollateral:t,borrowLUSD:a}=e.params;return new T(this.chainId,t,s.LUSD_LIQUIDATION_RESERVE[this.chainId].add(m(n,a)))}case"closure":if(this.isEmpty)throw new Error("Can't close empty Trove");return t._emptyTrove;case"adjustment":{const{setToZero:t,params:{depositCollateral:a,withdrawCollateral:i,borrowLUSD:s,repayLUSD:o}}=e,l=null!==i&&void 0!==i?i:r.Decimal.ZERO,d=null!==a&&void 0!==a?a:r.Decimal.ZERO,c=null!==o&&void 0!==o?o:r.Decimal.ZERO,u=s?m(n,s):r.Decimal.ZERO;return"collateral"===t?this.setCollateral(r.Decimal.ZERO).addDebt(u).subtractDebt(c):"debt"===t?this.setDebt(r.Decimal.ZERO).addCollateral(d).subtractCollateral(l):this.add(new T(this.chainId,d,u)).subtract(new T(this.chainId,l,c))}}}static create(e,n){return t._emptyTrove.apply(o(t._normalizeTroveCreation(e)),n)}static recreate(e,n){const a=t._emptyTrove.whatChanged(e,n);return i.default("creation"===(null===a||void 0===a?void 0:a.type)),a.params}adjust(e,n){return this.apply(l(t._normalizeTroveAdjustment(e)),n)}adjustTo(e,t){const n=this.whatChanged(e,t);return i.default("adjustment"===(null===n||void 0===n?void 0:n.type)),n.params}}t.Trove=T,t._emptyTrove=new T(1);class g extends T{constructor(e,t,n,a,i){super(e,a,i),this.ownerAddress=t,this.status=n}equals(e){return super.equals(e)&&this.ownerAddress===e.ownerAddress&&this.status===e.status}toString(){return`{ ownerAddress: "${this.ownerAddress}", collateral: ${this.collateral}, debt: ${this.debt}, status: "${this.status}" }`}}t.UserTrove=g;t.TroveWithPendingRedistribution=class extends g{constructor(e,n,a,i,s,o=r.Decimal.ZERO,l=t._emptyTrove){super(e,n,a,i,s),this.stake=o,this.snapshotOfTotalRedistributed=l}applyRedistribution(e){const t=this.add(e.subtract(this.snapshotOfTotalRedistributed).multiply(this.stake));return new g(this.chainId,this.ownerAddress,this.status,t.collateral,t.debt)}equals(e){return super.equals(e)&&this.stake.eq(e.stake)&&this.snapshotOfTotalRedistributed.equals(e.snapshotOfTotalRedistributed)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.StabilityDeposit=void 0;const a=n(57);t.StabilityDeposit=class{constructor(e,t,n,a,i){if(this.initialLUSD=e,this.currentLUSD=t,this.collateralGain=n,this.lqtyReward=a,this.frontendTag=i,this.currentLUSD.gt(this.initialLUSD))throw new Error("currentLUSD can't be greater than initialLUSD")}get isEmpty(){return this.initialLUSD.isZero&&this.currentLUSD.isZero&&this.collateralGain.isZero&&this.lqtyReward.isZero}toString(){return`{ initialLUSD: ${this.initialLUSD}, currentLUSD: ${this.currentLUSD}, collateralGain: ${this.collateralGain}, lqtyReward: ${this.lqtyReward}, frontendTag: "${this.frontendTag}" }`}equals(e){return this.initialLUSD.eq(e.initialLUSD)&&this.currentLUSD.eq(e.currentLUSD)&&this.collateralGain.eq(e.collateralGain)&&this.lqtyReward.eq(e.lqtyReward)&&this.frontendTag===e.frontendTag}whatChanged(e){return(e=a.Decimal.from(e)).lt(this.currentLUSD)?{withdrawLUSD:this.currentLUSD.sub(e),withdrawAllLUSD:e.isZero}:e.gt(this.currentLUSD)?{depositLUSD:e.sub(this.currentLUSD)}:void 0}apply(e){return e?void 0!==e.withdrawLUSD?e.withdrawAllLUSD||this.currentLUSD.lte(e.withdrawLUSD)?a.Decimal.ZERO:this.currentLUSD.sub(e.withdrawLUSD):this.currentLUSD.add(e.depositLUSD):this.currentLUSD}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LQTYStake=void 0;const a=n(57);t.LQTYStake=class{constructor(e=a.Decimal.ZERO,t=a.Decimal.ZERO,n=a.Decimal.ZERO){this.stakedLQTY=e,this.collateralGain=t,this.lusdGain=n}get isEmpty(){return this.stakedLQTY.isZero&&this.collateralGain.isZero&&this.lusdGain.isZero}toString(){return`{ stakedLQTY: ${this.stakedLQTY}, collateralGain: ${this.collateralGain}, lusdGain: ${this.lusdGain} }`}equals(e){return this.stakedLQTY.eq(e.stakedLQTY)&&this.collateralGain.eq(e.collateralGain)&&this.lusdGain.eq(e.lusdGain)}whatChanged(e){return(e=a.Decimal.from(e)).lt(this.stakedLQTY)?{unstakeLQTY:this.stakedLQTY.sub(e),unstakeAllLQTY:e.isZero}:e.gt(this.stakedLQTY)?{stakeLQTY:e.sub(this.stakedLQTY)}:void 0}apply(e){return e?void 0!==e.unstakeLQTY?e.unstakeAllLQTY||this.stakedLQTY.lte(e.unstakeLQTY)?a.Decimal.ZERO:this.stakedLQTY.sub(e.unstakeLQTY):this.stakedLQTY.add(e.stakeLQTY):this.stakedLQTY}}},function(e,t,n){"use strict";var a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Fees=void 0;const i=a(n(78)),r=n(57),s=n(114);class o{constructor(e,t,n,a,s,o,l){this._chainId=e,this._baseRateWithoutDecay=r.Decimal.from(t),this._minuteDecayFactor=r.Decimal.from(n),this._beta=r.Decimal.from(a),this._lastFeeOperation=s,this._timeOfLatestBlock=o,this._recoveryMode=l,i.default(this._minuteDecayFactor.lt(1))}_setRecoveryMode(e){return new o(this._chainId,this._baseRateWithoutDecay,this._minuteDecayFactor,this._beta,this._lastFeeOperation,this._timeOfLatestBlock,e)}equals(e){return this._baseRateWithoutDecay.eq(e._baseRateWithoutDecay)&&this._minuteDecayFactor.eq(e._minuteDecayFactor)&&this._beta.eq(e._beta)&&this._lastFeeOperation.getTime()===e._lastFeeOperation.getTime()&&this._timeOfLatestBlock.getTime()===e._timeOfLatestBlock.getTime()&&this._recoveryMode===e._recoveryMode}toString(){return`{ baseRateWithoutDecay: ${this._baseRateWithoutDecay}, lastFeeOperation: "${this._lastFeeOperation.toLocaleString()}", recoveryMode: ${this._recoveryMode} } `}baseRate(e=this._timeOfLatestBlock){const t=Math.max(e.getTime()-this._lastFeeOperation.getTime(),0),n=Math.floor(t/6e4);return this._minuteDecayFactor.pow(n).mul(this._baseRateWithoutDecay)}borrowingRate(e){return this._recoveryMode?r.Decimal.ZERO:r.Decimal.min(s.MINIMUM_BORROWING_RATE[this._chainId].add(this.baseRate(e)),s.MAXIMUM_BORROWING_RATE[this._chainId])}redemptionRate(e=r.Decimal.ZERO,t){e=r.Decimal.from(e);let n=this.baseRate(t);return e.nonZero&&(n=e.div(this._beta).add(n)),r.Decimal.min(s.MINIMUM_REDEMPTION_RATE[this._chainId].add(n),r.Decimal.ONE)}}t.Fees=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TransactionFailedError=void 0;class a extends Error{constructor(e,t,n){super(t),this.name=e,this.failedReceipt=n}}t.TransactionFailedError=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t._successfulReceipt=t._failedReceipt=t._pendingReceipt=void 0,t._pendingReceipt={status:"pending"};t._failedReceipt=e=>({status:"failed",rawReceipt:e});t._successfulReceipt=(e,t,n)=>({status:"succeeded",rawReceipt:e,details:t,...n?{toString:n}:{}})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},function(e,t,n){"use strict";var a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.LiquityStore=void 0;const i=a(n(78)),r=(e,t)=>e===t,s=(e,t)=>e.eq(t),o=(e,t)=>e.equals(t),l=(e,t)=>"unregistered"===e.status?"unregistered"===t.status:"registered"===t.status&&e.kickbackRate.eq(t.kickbackRate),d=e=>"unregistered"===e.status?'{ status: "unregistered" }':`{ status: "registered", kickbackRate: ${e.kickbackRate} }`;t.LiquityStore=class{constructor(){this.logging=!1,this._loaded=!1,this._listeners=new Set}get state(){return Object.assign({},this._baseState,this._derivedState,this._extraState)}start(){const e=this._doStart();return()=>{e(),this._cancelUpdateIfScheduled()}}_cancelUpdateIfScheduled(){void 0!==this._updateTimeoutId&&clearTimeout(this._updateTimeoutId)}_scheduleUpdate(){this._cancelUpdateIfScheduled(),this._updateTimeoutId=setTimeout((()=>{this._updateTimeoutId=void 0,this._update()}),3e4)}_logUpdate(e,t,n){return this.logging&&console.log(`${e} updated to ${n?n(t):t}`),t}_updateIfChanged(e,t,n,a,i){return void 0===a||e(n,a)?n:this._logUpdate(t,a,i)}_silentlyUpdateIfChanged(e,t,n){return void 0===n||e(t,n)?t:n}_updateFees(e,t,n){return n&&!n.equals(t)?(`${n}`!==`${t}`&&this._logUpdate(e,n),n):t}_reduce(e,t){return{frontend:this._updateIfChanged(l,"frontend",e.frontend,t.frontend,d),ownFrontend:this._updateIfChanged(l,"ownFrontend",e.ownFrontend,t.ownFrontend,d),numberOfTroves:this._updateIfChanged(r,"numberOfTroves",e.numberOfTroves,t.numberOfTroves),afterPresale:this._updateIfChanged(r,"afterPresale",e.afterPresale,t.afterPresale),owner:this._updateIfChanged(r,"owner",e.owner,t.owner),accountBalance:this._updateIfChanged(s,"accountBalance",e.accountBalance,t.accountBalance),lusdBalance:this._updateIfChanged(s,"lusdBalance",e.lusdBalance,t.lusdBalance),lqtyBalance:this._updateIfChanged(s,"lqtyBalance",e.lqtyBalance,t.lqtyBalance),lgldBalance:this._updateIfChanged(s,"lgldBalance",e.lgldBalance,t.lgldBalance),lgldgBalance:this._updateIfChanged(s,"lgldgBalance",e.lgldgBalance,t.lgldgBalance),ldreBalance:this._updateIfChanged(s,"lgldBalance",e.lgldBalance,t.lgldBalance),ldrerBalance:this._updateIfChanged(s,"lgldgBalance",e.lgldgBalance,t.lgldgBalance),uniTokenBalance:this._updateIfChanged(s,"uniTokenBalance",e.uniTokenBalance,t.uniTokenBalance),uniTokenAllowance:this._updateIfChanged(s,"uniTokenAllowance",e.uniTokenAllowance,t.uniTokenAllowance),remainingLiquidityMiningLQTYReward:this._silentlyUpdateIfChanged(s,e.remainingLiquidityMiningLQTYReward,t.remainingLiquidityMiningLQTYReward),liquidityMiningStake:this._updateIfChanged(s,"liquidityMiningStake",e.liquidityMiningStake,t.liquidityMiningStake),totalStakedUniTokens:this._updateIfChanged(s,"totalStakedUniTokens",e.totalStakedUniTokens,t.totalStakedUniTokens),liquidityMiningLQTYReward:this._silentlyUpdateIfChanged(s,e.liquidityMiningLQTYReward,t.liquidityMiningLQTYReward),collateralSurplusBalance:this._updateIfChanged(s,"collateralSurplusBalance",e.collateralSurplusBalance,t.collateralSurplusBalance),price:this._updateIfChanged(s,"price",e.price,t.price),targetPeg:this._updateIfChanged(s,"targetPeg",e.targetPeg,t.targetPeg),currentIndex:this._updateIfChanged(s,"currentIndex",e.currentIndex,t.currentIndex),lusdInStabilityPool:this._updateIfChanged(s,"lusdInStabilityPool",e.lusdInStabilityPool,t.lusdInStabilityPool),total:this._updateIfChanged(o,"total",e.total,t.total),totalRedistributed:this._updateIfChanged(o,"totalRedistributed",e.totalRedistributed,t.totalRedistributed),troveBeforeRedistribution:this._updateIfChanged(o,"troveBeforeRedistribution",e.troveBeforeRedistribution,t.troveBeforeRedistribution),stabilityDeposit:this._updateIfChanged(o,"stabilityDeposit",e.stabilityDeposit,t.stabilityDeposit),remainingStabilityPoolLQTYReward:this._silentlyUpdateIfChanged(s,e.remainingStabilityPoolLQTYReward,t.remainingStabilityPoolLQTYReward),_feesInNormalMode:this._silentlyUpdateIfChanged(o,e._feesInNormalMode,t._feesInNormalMode),lqtyStake:this._updateIfChanged(o,"lqtyStake",e.lqtyStake,t.lqtyStake),unipoolStake:this._updateIfChanged(o,"unipoolStake",e.unipoolStake,t.unipoolStake),totalStakedLQTY:this._updateIfChanged(s,"totalStakedLQTY",e.totalStakedLQTY,t.totalStakedLQTY),_riskiestTroveBeforeRedistribution:this._silentlyUpdateIfChanged(o,e._riskiestTroveBeforeRedistribution,t._riskiestTroveBeforeRedistribution)}}_derive({troveBeforeRedistribution:e,totalRedistributed:t,_feesInNormalMode:n,total:a,price:i,_riskiestTroveBeforeRedistribution:r}){const s=n._setRecoveryMode(a.collateralRatioIsBelowCritical(i));return{trove:e.applyRedistribution(t),fees:s,borrowingRate:s.borrowingRate(),redemptionRate:s.redemptionRate(),haveUndercollateralizedTroves:r.applyRedistribution(t).collateralRatioIsBelowMinimum(i)}}_reduceDerived(e,t){return{fees:this._updateFees("fees",e.fees,t.fees),trove:this._updateIfChanged(o,"trove",e.trove,t.trove),borrowingRate:this._silentlyUpdateIfChanged(s,e.borrowingRate,t.borrowingRate),redemptionRate:this._silentlyUpdateIfChanged(s,e.redemptionRate,t.redemptionRate),haveUndercollateralizedTroves:this._updateIfChanged(r,"haveUndercollateralizedTroves",e.haveUndercollateralizedTroves,t.haveUndercollateralizedTroves)}}_notify(e){[...this._listeners].forEach((t=>{this._listeners.has(t)&&t(e)}))}subscribe(e){const t=(n=e,(...e)=>n(...e));var n;return this._listeners.add(t),()=>{this._listeners.delete(t)}}_load(e,t){i.default(!this._loaded),this._baseState=e,this._derivedState=this._derive(e),this._extraState=t,this._loaded=!0,this._scheduleUpdate(),this.onLoaded&&this.onLoaded()}_update(e,t){i.default(this._baseState&&this._derivedState);const n=this.state;var a,r;e&&(this._baseState=this._reduce(this._baseState,e)),this._derivedState=this._reduceDerived(this._derivedState,this._derive(this._baseState)),t&&(i.default(this._extraState),this._extraState=this._reduceExtra(this._extraState,t)),this._scheduleUpdate(),this._notify({newState:this.state,oldState:n,stateChange:(a=this.state,r=n,Object.fromEntries(Object.entries(a).filter((([e,t])=>t!==r[e]))))})}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t._CachedReadableLiquity=void 0;t._CachedReadableLiquity=class{constructor(e,t){this._readable=e,this._cache=t}async getTotalRedistributed(...e){var t;return null!==(t=this._cache.getTotalRedistributed(...e))&&void 0!==t?t:this._readable.getTotalRedistributed(...e)}async getTroveBeforeRedistribution(e,...t){var n;return null!==(n=this._cache.getTroveBeforeRedistribution(e,...t))&&void 0!==n?n:this._readable.getTroveBeforeRedistribution(e,...t)}async getTrove(e,...t){const[n,a]=await Promise.all([this.getTroveBeforeRedistribution(e,...t),this.getTotalRedistributed(...t)]);return n.applyRedistribution(a)}async getNumberOfTroves(...e){var t;return null!==(t=this._cache.getNumberOfTroves(...e))&&void 0!==t?t:this._readable.getNumberOfTroves(...e)}async getPrice(...e){var t;return null!==(t=this._cache.getPrice(...e))&&void 0!==t?t:this._readable.getPrice(...e)}async getTargetPeg(...e){var t;return null!==(t=this._cache.getTargetPeg(...e))&&void 0!==t?t:this._readable.getTargetPeg(...e)}async getCurrentIndex(...e){var t;return null!==(t=this._cache.getCurrentIndex(...e))&&void 0!==t?t:this._readable.getCurrentIndex(...e)}async getTotal(...e){var t;return null!==(t=this._cache.getTotal(...e))&&void 0!==t?t:this._readable.getTotal(...e)}async getStabilityDeposit(e,...t){var n;return null!==(n=this._cache.getStabilityDeposit(e,...t))&&void 0!==n?n:this._readable.getStabilityDeposit(e,...t)}async getRemainingStabilityPoolLQTYReward(...e){var t;return null!==(t=this._cache.getRemainingStabilityPoolLQTYReward(...e))&&void 0!==t?t:this._readable.getRemainingStabilityPoolLQTYReward(...e)}async getLUSDInStabilityPool(...e){var t;return null!==(t=this._cache.getLUSDInStabilityPool(...e))&&void 0!==t?t:this._readable.getLUSDInStabilityPool(...e)}async getLUSDBalance(e,...t){var n;return null!==(n=this._cache.getLUSDBalance(e,...t))&&void 0!==n?n:this._readable.getLUSDBalance(e,...t)}async getLQTYBalance(e,...t){var n;return null!==(n=this._cache.getLQTYBalance(e,...t))&&void 0!==n?n:this._readable.getLQTYBalance(e,...t)}async getLGLDBalance(e,...t){var n;return null!==(n=this._cache.getLUSDBalance(e,...t))&&void 0!==n?n:this._readable.getLUSDBalance(e,...t)}async getLGLDGBalance(e,...t){var n;return null!==(n=this._cache.getLQTYBalance(e,...t))&&void 0!==n?n:this._readable.getLQTYBalance(e,...t)}async getLDREBalance(e,...t){var n;return null!==(n=this._cache.getLDREBalance(e,...t))&&void 0!==n?n:this._readable.getLDREBalance(e,...t)}async getLDRERBalance(e,...t){var n;return null!==(n=this._cache.getLDRERBalance(e,...t))&&void 0!==n?n:this._readable.getLDRERBalance(e,...t)}async getUniTokenBalance(e,...t){var n;return null!==(n=this._cache.getUniTokenBalance(e,...t))&&void 0!==n?n:this._readable.getUniTokenBalance(e,...t)}async getUniTokenAllowance(e,...t){var n;return null!==(n=this._cache.getUniTokenAllowance(e,...t))&&void 0!==n?n:this._readable.getUniTokenAllowance(e,...t)}async getRemainingLiquidityMiningLQTYReward(...e){var t;return null!==(t=this._cache.getRemainingLiquidityMiningLQTYReward(...e))&&void 0!==t?t:this._readable.getRemainingLiquidityMiningLQTYReward(...e)}async getLiquidityMiningStake(e,...t){var n;return null!==(n=this._cache.getLiquidityMiningStake(e,...t))&&void 0!==n?n:this._readable.getLiquidityMiningStake(e,...t)}async getTotalStakedUniTokens(...e){var t;return null!==(t=this._cache.getTotalStakedUniTokens(...e))&&void 0!==t?t:this._readable.getTotalStakedUniTokens(...e)}async getLiquidityMiningLQTYReward(e,...t){var n;return null!==(n=this._cache.getLiquidityMiningLQTYReward(e,...t))&&void 0!==n?n:this._readable.getLiquidityMiningLQTYReward(e,...t)}async getCollateralSurplusBalance(e,...t){var n;return null!==(n=this._cache.getCollateralSurplusBalance(e,...t))&&void 0!==n?n:this._readable.getCollateralSurplusBalance(e,...t)}async getTroves(e,...t){var n;const{beforeRedistribution:a,...i}=e,[r,s]=await Promise.all([a?void 0:this.getTotalRedistributed(...t),null!==(n=this._cache.getTroves({beforeRedistribution:!0,...i},...t))&&void 0!==n?n:this._readable.getTroves({beforeRedistribution:!0,...i},...t)]);return r?s.map((e=>e.applyRedistribution(r))):s}async getFees(...e){var t;return null!==(t=this._cache.getFees(...e))&&void 0!==t?t:this._readable.getFees(...e)}async getLQTYStake(e,...t){var n;return null!==(n=this._cache.getLQTYStake(e,...t))&&void 0!==n?n:this._readable.getLQTYStake(e,...t)}async getUnipoolStake(e,...t){var n;return null!==(n=this._cache.getUnipoolStake(e,...t))&&void 0!==n?n:this._readable.getUnipoolStake(e,...t)}async getTotalStakedLQTY(...e){var t;return null!==(t=this._cache.getTotalStakedLQTY(...e))&&void 0!==t?t:this._readable.getTotalStakedLQTY(...e)}async getFrontendStatus(e,...t){var n;return null!==(n=this._cache.getFrontendStatus(e,...t))&&void 0!==n?n:this._readable.getFrontendStatus(e,...t)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.UnipoolStake=void 0;const a=n(57);t.UnipoolStake=class{constructor(e=a.Decimal.ZERO,t=a.Decimal.ZERO){this.stakedLPToken=e,this.lqtyGain=t}get isEmpty(){return this.stakedLPToken.isZero&&this.lqtyGain.isZero}toString(){return`{ stakedLPToken: ${this.stakedLPToken}, lqtyGain: ${this.lqtyGain} }`}equals(e){return this.stakedLPToken.eq(e.stakedLPToken)&&this.lqtyGain.eq(e.lqtyGain)}whatChanged(e){return(e=a.Decimal.from(e)).lt(this.stakedLPToken)?{unstakeUniTokens:this.stakedLPToken.sub(e),unstakeAllLPToken:e.isZero}:e.gt(this.stakedLPToken)?{stakeUniTokens:e.sub(this.stakedLPToken)}:void 0}apply(e){return e?void 0!==e.unstakeUniTokens?e.unstakeAllLPToken||this.stakedLPToken.lte(e.unstakeUniTokens)?a.Decimal.ZERO:this.stakedLPToken.sub(e.unstakeUniTokens):this.stakedLPToken.add(e.stakeUniTokens):this.stakedLPToken}}},function(e){e.exports=JSON.parse('{"chainId":31337,"version":"029bfd270481e73396decea71405b2f98ab0bdb4","deploymentDate":1690396527000,"bootstrapPeriod":0,"totalStabilityPoolLQTYReward":"29274600","liquidityMiningLQTYRewardRate":"0.174652777777777777","_priceFeedIsTestnet":true,"_uniTokenIsMock":true,"_isDev":true,"startBlock":1,"addresses":{"activePool":"0x8C6eBfcBea88FD583bb83F6F0424D614a53e5225","borrowerOperations":"0x00B5ef9c9445AA84B89AC82a3dc8Ef6Acfa82481","troveManager":"0x53BB16F240146Ae5DE0fF20D73B630A23a055548","collSurplusPool":"0xF27812040Ccf32F0c9B32C52a743F85F6E6c6c98","communityIssuance":"0x2f785A4E7E8ee047c2240A1ccfEe549BB0fB4Eb5","defaultPool":"0xb3484eDcAdE0D474ff4FDcAd9B624588e8d9B714","hintHelpers":"0x4361e5Dc02B11a72D16BcDdcDa0232cca719B3bF","lqtyStaking":"0x2B02cbF5F582C5D1aa014AF5a6D2A884f91Fa0fe","priceFeed":"0xA8c5A93B9233Ea8aca01A6D2221593B29649be7a","inflationFeed":"0x560E5aA278E26f87e20d7A030e083d67b79A65bb","sortedTroves":"0xABF928c2e758f7EaB9Ba97998449753245Aef339","stabilityPool":"0x2d1633bfeF96d8e0870E36bEc55209F71e1E716e","gasPool":"0x120189a06ebF2944CC2fffd8B796658A32Fa38A0","unipool":"0x6D8B2306d23E8b9d19C80Ee9Fd79b09F9D2B45A6","lusdToken":"0xeA86bB3264c45069ac740ED1C847344d5844844e","lqtyToken":"0x0703008BC5bdDf5E8F03526e1b0972CfEaE25a7f","multiTroveGetter":"0x7c1DEF14A7EbEeDD078A1296829989c88A1175B3","uniToken":"0x8dC4f565BEb97FB9Bc0951E0433D559D66F536F2","lgldToken":"0xeA86bB3264c45069ac740ED1C847344d5844844e","ldreToken":"0x0703008BC5bdDf5E8F03526e1b0972CfEaE25a7f","lgldgToken":"0xeA86bB3264c45069ac740ED1C847344d5844844e","ldrerToken":"0x0703008BC5bdDf5E8F03526e1b0972CfEaE25a7f"}}')},function(e){e.exports=JSON.parse('{"chainId":5,"version":"653ad955a75f2a062cf9e7fdfa2c71913f425161","bootstrapPeriod":0,"deploymentDate":1692637704000,"totalStabilityPoolLQTYReward":"32000000","liquidityMiningLQTYRewardRate":"0.36743092298647856","_priceFeedIsTestnet":false,"_uniTokenIsMock":false,"_isDev":false,"startBlock":9557229,"addresses":{"priceFeed":"0x61D27631a7001F1EE552F89b65020Cb3407946ae","sortedTroves":"0x8A355E4B83BFcA02b9b8938d3c8394345e1293FD","troveManager":"0x885BBB8C1A192c289115041Ea09Aa7bdD9591263","activePool":"0x7B88115b9d82c42408895987857F725fd2105558","stabilityPool":"0x2D26838bA50765F4c8437Dc58EC734EE04FE3E5b","gasPool":"0x56E144ccc2c81E0664aD51219ED77929212254aF","defaultPool":"0x8af43fC319e3ed8D44E4eC59cE38Ff4CF4De0e7f","collSurplusPool":"0xD44aCE63dBEE7AEFf277AF03454db763abC8e6df","borrowerOperations":"0x3Ea664D74FAA5C08c4c31C9e325A12b2CACa7741","hintHelpers":"0x6d89F254337d34c9738d7a8c93Bd1FDaFA58cF17","inflationFeedProxy":"0x0f45E6C07dDE8abE0b64D8961DBF77D7447d742C","inflationFeed":"0xD3B9D697C9Cb8F2AD1FACaC967421eda41D79F31","lusdToken":"0xF4C8eE85826632E2fF1f4B8996A43Af3A77ACa99","unipool":"0x0d4fAd0fB4dee244eF7A1EEc30F29374a873d9D1","lqtyStaking":"0x4a1dcc03F0a8B68Ee054f59C50d422AA9d15bEA5","communityIssuance":"0x8121701f5C799db04b93B5Bc4D9A289131523b8E","lqtyToken":"0x3181BBe59c6FAB939fab970B88381c6F78b8108B","multiTroveGetter":"0xfFdBF22Df526cd3933321164f6e9B5EBe68AD685","uniToken":"0xc4C2Fb02a0AFe9e0DEC452f895a8E3b1621b22dB","lgldToken":"0x89a3A61E86De78347Ed90fCB8Aec3969c2Ac611b","lgldgToken":"0x0A8E56140863f1FB1F7b18235ECbCE88e97B3f49","ldreToken":"0x89a3A61E86De78347Ed90fCB8Aec3969c2Ac611b","ldrerToken":"0x0A8E56140863f1FB1F7b18235ECbCE88e97B3f49"}}')},function(e){e.exports=JSON.parse('{"chainId":42,"version":"5174ecd0da4842157aba989499200d690b7e374f","deploymentDate":1617374516000,"bootstrapPeriod":1209600,"totalStabilityPoolLQTYReward":"32000000","liquidityMiningLQTYRewardRate":"0.257201646090534979","_priceFeedIsTestnet":false,"_uniTokenIsMock":false,"_isDev":false,"startBlock":24134777,"addresses":{"activePool":"0x2FEB8CC8eD32117D1F39168543f29c30fdf10105","borrowerOperations":"0xA289111CC4b306E3F5F15c654D4c318B3dA51813","troveManager":"0x5EBeC1ecc36a760A54E35d474F889EfB9E7eD2aD","collSurplusPool":"0x1Ce340cC663BDbda54ccb6055da4064C0B7f68cd","communityIssuance":"0x7baD384C67302df52Ee78Acc3581c9d9c51F9527","defaultPool":"0x706431F2252ba2e5A9a6F7EEFE5CB4902acc23E7","hintHelpers":"0xEEBfA9A488E9d83cd1a49b838c14D9231F5F2fCb","lockupContractFactory":"0xc34B9083Bf5b5794eFD202A8c3B51A5577e087c1","lqtyStaking":"0x82b7384e360DD3f16ed23D15921BB7a878a08b87","priceFeed":"0xbA49275F8F890E7296F64b3e81F1Ada656030150","inflationFeed":"0xbA49275F8F890E7296F64b3e81F1Ada656030150","inflationFeedProxy":"0xbA49275F8F890E7296F64b3e81F1Ada656030150","sortedTroves":"0x91656701b33eca6425A239930FccAA842D0E2031","stabilityPool":"0x04d630Bff6dea193Fd644dEcfC460db249854a02","gasPool":"0xd97E194C0659F0d7b051EdF3E317BF4F7A675770","unipool":"0xeed1782CaD8bad6eD2072C85e4c5821e67cCf1E1","lusdToken":"0x0b02b94638daa719290b5214825dA625af08A02F","lqtyToken":"0xd8FABEa5752D52Ee0dEbF6c90948F5446694EE7c","lgldToken":"0x88cB29c335Ceb7669B247C066aEaB5938988a385","lgldgToken":"0x88cB29c335Ceb7669B247C066aEaB5938988a385","ldreToken":"0x1fE088255893fe4cF043b46A3Ea682b7B3C43C53","ldrerToken":"0xe262509C4ae44e30D46AC6721CFBF0c96C21aC1b","multiTroveGetter":"0x9c5977268592E964784EFF50043BFFC035B6b0C7","uniToken":"0x6E14b68E16e4211C06bcc8527D6b92A43AA47806"}}')},function(e){e.exports=JSON.parse('{"chainId":4,"version":"5174ecd0da4842157aba989499200d690b7e374f","deploymentDate":1617355618000,"bootstrapPeriod":1209600,"totalStabilityPoolLQTYReward":"32000000","liquidityMiningLQTYRewardRate":"0.257201646090534979","_priceFeedIsTestnet":false,"_uniTokenIsMock":false,"_isDev":false,"startBlock":8341450,"addresses":{"activePool":"0xbA49275F8F890E7296F64b3e81F1Ada656030150","borrowerOperations":"0x91656701b33eca6425A239930FccAA842D0E2031","troveManager":"0x04d630Bff6dea193Fd644dEcfC460db249854a02","collSurplusPool":"0xd97E194C0659F0d7b051EdF3E317BF4F7A675770","communityIssuance":"0xeed1782CaD8bad6eD2072C85e4c5821e67cCf1E1","defaultPool":"0x0b02b94638daa719290b5214825dA625af08A02F","hintHelpers":"0xd8FABEa5752D52Ee0dEbF6c90948F5446694EE7c","lockupContractFactory":"0x9c5977268592E964784EFF50043BFFC035B6b0C7","lqtyStaking":"0x988749E04e5B0863Da4E0Fdb1EaD85C1FA59fCe3","priceFeed":"0x692Cd2D9Df7EFD91Ccd17F9eEFD72BAEE0584DB9","inflationFeed":"0x692Cd2D9Df7EFD91Ccd17F9eEFD72BAEE0584DB9","inflationFeedProxy":"0x692Cd2D9Df7EFD91Ccd17F9eEFD72BAEE0584DB9","sortedTroves":"0xac064890c6343F67450ba7aB97df6De38A8D7da8","stabilityPool":"0xB8eb11f9eFF55378dfB692296C32DF020f5CC7fF","gasPool":"0xbbb26b40c1B32ba1F342DAbC65234516dd29BB44","unipool":"0x866b252Acff4c45d6978032865aFb9923D11992A","lusdToken":"0x9C5AE6852622ddE455B6Fca4C1551FC0352531a3","lqtyToken":"0xF74dcAbeA0954AeB6903c8a71d41e468a6B77357","lgldToken":"0x88cB29c335Ceb7669B247C066aEaB5938988a385","lgldgToken":"0x88cB29c335Ceb7669B247C066aEaB5938988a385","ldreToken":"0x1fE088255893fe4cF043b46A3Ea682b7B3C43C53","ldrerToken":"0xe262509C4ae44e30D46AC6721CFBF0c96C21aC1b","multiTroveGetter":"0x1bE036A6A82b4b774757a48a1bb79653f89eD9fD","uniToken":"0x36A5ec67B9C25D765186FBAd2735f1746bd894D8"}}')},function(e){e.exports=JSON.parse('{"chainId":3,"version":"5174ecd0da4842157aba989499200d690b7e374f","deploymentDate":1617356113000,"bootstrapPeriod":1209600,"totalStabilityPoolLQTYReward":"32000000","liquidityMiningLQTYRewardRate":"0.257201646090534979","_priceFeedIsTestnet":true,"_uniTokenIsMock":false,"_isDev":false,"startBlock":9961294,"addresses":{"activePool":"0x8bE79B54Bff7754B57294077c2B5017AF9f57dC2","borrowerOperations":"0xfe9049E677C5773dd72ac7E19c38c68aB0891744","troveManager":"0xcd89b25a565Ad0895c551DAe040c2b5F9Eb11D64","collSurplusPool":"0x7426EFda9B17992B3F7cE3680D5D128E1F876C05","communityIssuance":"0x94f0835Aa7cEe67fF122419BeE52b82Abe637a16","defaultPool":"0x6412c93AB383B87Af7c5E673fb3a295c8977A3Ed","hintHelpers":"0x82869137C51e0DC1Bf3aeE5bc1f0B73EADfEBB25","lockupContractFactory":"0x65188ae9dDE4A59b73796Eb26AE33a3D5fe9b84d","lqtyStaking":"0x63a7c03b921f5A59D9f583A34585bC6eFc832b59","priceFeed":"0x7151f3828948B8824C677DA8daf7BD13014c1187","inflationFeed":"0x7151f3828948B8824C677DA8daf7BD13014c1187","inflationFeedProxy":"0x7151f3828948B8824C677DA8daf7BD13014c1187","sortedTroves":"0xA401f217DB7d84432C98272F637E9d450c6D16f2","stabilityPool":"0x02dD2a33d0bBF40343CD09941F275978b1cd4ab9","gasPool":"0x8c2706b7bF86576F16Db7C099F5a62E7Ce8F0661","unipool":"0x8C2C33247A691a98d05B60c2D7448687b6C56a86","lusdToken":"0x99Fda92878c1d2f1e0971D1937C50CC578A33E3D","lqtyToken":"0x25fE5Ed43aD2370f31414AC9De11E028A699a40e","lgldToken":"0x88cB29c335Ceb7669B247C066aEaB5938988a385","lgldgToken":"0x88cB29c335Ceb7669B247C066aEaB5938988a385","ldreToken":"0x1fE088255893fe4cF043b46A3Ea682b7B3C43C53","ldrerToken":"0xe262509C4ae44e30D46AC6721CFBF0c96C21aC1b","multiTroveGetter":"0xDA7Aa96fC750B456a63af90D894063009e26f6ba","uniToken":"0x14E87Db22A5a402a0A1461FAE94fade1976AAaF7"}}')},function(e){e.exports=JSON.parse('{"chainId":1,"version":"653ad955a75f2a062cf9e7fdfa2c71913f425161","deploymentDate":1692648587000,"bootstrapPeriod":1209600,"totalStabilityPoolLQTYReward":"32000000","liquidityMiningLQTYRewardRate":"0.367430922986478542","_priceFeedIsTestnet":false,"_uniTokenIsMock":false,"_isDev":false,"startBlock":17965361,"addresses":{"priceFeed":"0x7be8c30dfad51f017a5f81484A9b945492dc1871","sortedTroves":"0x1bAccD443e5D1559A0A90520C3b527D4DA24495b","troveManager":"0x338A0c640067EF1C436d2731DC38F62Fc3AB8806","activePool":"0xB564D3Fd456EBdC92CF4B51d426e862b11c846Be","stabilityPool":"0x297753023cB9F741E812224529eb3A322FfBC93e","gasPool":"0x85dd7996ab66B4fF86BE82E414cC37b56805d4ac","defaultPool":"0x32BFeedbE97e573dEe96a77E8A2Cea09503d9929","collSurplusPool":"0x7c15C91F20cee5aF460e3CAfd4dc0B1302fF632f","borrowerOperations":"0x191df0E31e38Ca0a3d9Aa8E1D5595D715B7FaCaC","hintHelpers":"0x4948264C57985cDC5DA515328C4Af889d00Cba8d","inflationFeedProxy":"0x14cdAf42cF4d6f575252702C24cC64619A3a95D4","inflationFeed":"0x4a056599A8FD5B53081C41c903562337E3700D7a","lusdToken":"0xb5ACeF11b4530A0DfE1B5c53D0e3AeAc23e6f307","unipool":"0xfc514Ae84D2E8b894B7aC5642c0456636fEEEB54","lqtyStaking":"0xD0f970D8e309ad95D46Dd4193B8D91e98a497Ff5","communityIssuance":"0x14Dd52514498065529c6303F140eC6FF05284c87","lqtyToken":"0x886f29b6E0a0461cb5aC6BAF55aE0033CffC48eb","multiTroveGetter":"0x9d0faAbF99F85613f7402A4B6774EB307Af3F892","uniToken":"0x6c719572d4bb92f4d98eA4619Ff89096B4B7a7d2","lgldToken":"0xb5ACeF11b4530A0DfE1B5c53D0e3AeAc23e6f307","lgldgToken":"0x886f29b6E0a0461cb5aC6BAF55aE0033CffC48eb","ldreToken":"0xb5ACeF11b4530A0DfE1B5c53D0e3AeAc23e6f307","ldrerToken":"0x886f29b6E0a0461cb5aC6BAF55aE0033CffC48eb"}}')},function(e){e.exports=JSON.parse('{"chainId":1337802,"version":"5174ecd0da4842157aba989499200d690b7e374f","deploymentDate":1648542144000,"bootstrapPeriod":1209600,"totalStabilityPoolLQTYReward":"32000000","liquidityMiningLQTYRewardRate":"0.257201646090534979","_priceFeedIsTestnet":true,"_uniTokenIsMock":true,"_isDev":false,"startBlock":146577,"addresses":{"activePool":"0xE7d135D2B43EF53D5f644F4A4F39F639174dfFb5","borrowerOperations":"0x98695e9bf7DEb6113a6e5d5920d032bD721Fee6E","troveManager":"0x6645E03DA2a711f780af7cCE1019Cb9a9135C898","collSurplusPool":"0x69E686BBF16f6C04aC2fb49AA0d2f78Ff9f37596","communityIssuance":"0x86F51bB9F0A3Ee1d5CfDD2df6e6282170a02Bb59","defaultPool":"0x480cB1864e570221ABcADd3316D947864D3F264B","hintHelpers":"0x00248273044d46E690e3234cDdd480C5290b325c","lockupContractFactory":"0xc27b50C919B36C1b4C7fA0a74AA65E28C92d87Fc","lqtyStaking":"0xb21a1c4F84A772397FEfb43CAa5a91947F786E1f","priceFeed":"0x92167BE3A0D4c95055342a2fe0bC910f76dE34aC","inflationFeed":"0x92167BE3A0D4c95055342a2fe0bC910f76dE34aC","inflationFeedProxy":"0x92167BE3A0D4c95055342a2fe0bC910f76dE34aC","sortedTroves":"0xAe6b0165E406CAB9FEAa503314DFB19Ed1Ea777a","stabilityPool":"0x8716B3C98A33D0FF1a922063D1D67B7e40feB80f","gasPool":"0x24c925a2570E17718256fe1416dC45837A60b847","unipool":"0x2585B38EFeeB31E4a041686Ef78D925871cD957b","lusdToken":"0xF47816aa488Ae548ECE5D3051Fb8F5411e774f8B","lqtyToken":"0x8CeA94Affd1B7ae5d623A2287403bB33f7Cb83f6","lgldToken":"0x88cB29c335Ceb7669B247C066aEaB5938988a385","lgldgToken":"0x88cB29c335Ceb7669B247C066aEaB5938988a385","ldreToken":"0x1fE088255893fe4cF043b46A3Ea682b7B3C43C53","ldrerToken":"0xe262509C4ae44e30D46AC6721CFBF0c96C21aC1b","multiTroveGetter":"0x59BC9902e0b2c8831E55eF9ee8678e377643c468","uniToken":"0x7b6c5109F353236294123B0a55896b760708008c"}}')},function(e){e.exports=JSON.parse('{"chainId":97,"version":"653ad955a75f2a062cf9e7fdfa2c71913f425161","bootstrapPeriod":0,"deploymentDate":1692271940000,"totalStabilityPoolLQTYReward":"32000000","liquidityMiningLQTYRewardRate":"0.36743092298647856","_priceFeedIsTestnet":false,"_uniTokenIsMock":false,"_isDev":false,"startBlock":32525054,"addresses":{"priceFeed":"0x4E6D7676A1327A9B5B76A35ef281b39d7a08c61C","sortedTroves":"0xA87eBb26FB1adAA11ed8ef222cc135E9a01F7701","troveManager":"0x3E1b2108faE973c8E5Cc11f54f79540E1906D0f3","activePool":"0xfBeD09890BBEB5e120f84605594273822CE30b45","stabilityPool":"0x1C0E6111418AF45B44ceffdB65bbA196386590F8","gasPool":"0xa126f1183e9dE4Ae89e569F26a512Ba4C906ef15","defaultPool":"0xE9Ba280Bd2860F3e10178cb80a6AF6c1e05EC12D","collSurplusPool":"0x4D4E576ddcBafeC0214C2a7dCB755bac5BF8f22E","borrowerOperations":"0xfB3E32b1CA724C72fBd048018aAd7DeDfd51E7DA","inflationFeedProxy":"0x03789254b45C92FDd0351f1c1Fc07b78a68D7670","hintHelpers":"0x53651208Cc9a3dd9f670D21420018c33B0f6d8C5","inflationFeed":"0xc907F2A987a58EB59EFda606080825acf1125D90","lusdToken":"0x498fEBa36c697551574447AdaCec7f1931886775","unipool":"0x334961682892DA23B1f1604BA49C0ECa0833d8Ba","lqtyStaking":"0xD89BE78b72FDEeBC064CDC5B4B9f2AE887E97f01","communityIssuance":"0x319b0D248aB4D56a276d54916f6b16E870b51FdD","lqtyToken":"0x3528Aa2d21F1bc86602609445cb5b8625a1Db018","multiTroveGetter":"0x27148B724214Cebe9f4Acc3538D7c97811e3E543","uniToken":"0x579d703d57F38D0135855cD1d4aD4b7660258452","lgldToken":"0x498fEBa36c697551574447AdaCec7f1931886775","lgldgToken":"0x3528Aa2d21F1bc86602609445cb5b8625a1Db018","ldreToken":"0x498fEBa36c697551574447AdaCec7f1931886775","ldrerToken":"0x3528Aa2d21F1bc86602609445cb5b8625a1Db018"}}')},function(e){e.exports=JSON.parse('{"chainId":56,"version":"653ad955a75f2a062cf9e7fdfa2c71913f425161","deploymentDate":1690575641000,"bootstrapPeriod":1209600,"totalStabilityPoolLQTYReward":"32000000","liquidityMiningLQTYRewardRate":"0.36743092298647856","_priceFeedIsTestnet":false,"_uniTokenIsMock":false,"_isDev":false,"startBlock":30367028,"addresses":{"priceFeed":"0xcC5cF8acE7b45c3645aAd4936196839b9AAda737","sortedTroves":"0x9B8eDb631C97b1a2594602ce6fF1202a1753FD27","troveManager":"0xA4EE1Adde9860094C511F24D764c819f139F2529","activePool":"0xb2af77774a42C50B3745C04C914e8F80Fc91C0c5","stabilityPool":"0x1fae8132B5709A9D1EC9ec760BCFB97b11B6c32c","gasPool":"0x2ae63F715dDDeAf8D0B0a9d419c59DfDe2ad1998","defaultPool":"0xCe2AC5f6cf1E2aE9035ABd1A21947b5ed3B627ef","collSurplusPool":"0xc8895580aCce89Ec30470A40a273fCF924Bb7259","borrowerOperations":"0x3Ac27A17fcDd5c950d4F160c8E1589cAc13Ee56f","hintHelpers":"0x8b74BE5B7AFe93aD25cbCc7A4E74081769F03283","inflationFeed":"0xEc3878d9548A3cd806c1657e9a3ad95CC4adF837","inflationFeedProxy":"0xEc3878d9548A3cd806c1657e9a3ad95CC4adF837","lusdToken":"0x0fB6b79b89Fc91D55A00a8E0aC1b1dC5957944EE","unipool":"0x8c3C6bcb57f55C9E8Ae1B4131f18eB00FaE76eA8","lqtyStaking":"0x33D81B10EEe29f825aAf29497371D73558779cbb","communityIssuance":"0x1a9ea5B4F33b3CA204679B811B397DE1112F3FEF","lqtyToken":"0xD773affB89F9dbEf8b1bcd2003a9De421F979416","multiTroveGetter":"0x07cDaE338866B10d770c7Cd9f5CA8D86d23543Cd","uniToken":"0xD578F7dC841b264CD2aDF0Aba66d7B89A864C2c4","lgldToken":"0x79Db48246c431C3603881C347744EB1366D63Bac","lgldgToken":"0x349bdd558bf034519a7a2559efA20347d8A36493","ldreToken":"0x79Db48246c431C3603881C347744EB1366D63Bac","ldrerToken":"0x349bdd558bf034519a7a2559efA20347d8A36493"}}')},function(e){e.exports=JSON.parse('[{"anonymous":false,"inputs":[{"indexed":false,"internalType":"address","name":"_newActivePoolAddress","type":"address"}],"name":"ActivePoolAddressChanged","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"uint256","name":"_ETH","type":"uint256"}],"name":"ActivePoolETHBalanceUpdated","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"uint256","name":"_LUSDDebt","type":"uint256"}],"name":"ActivePoolLUSDDebtUpdated","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"address","name":"_newBorrowerOperationsAddress","type":"address"}],"name":"BorrowerOperationsAddressChanged","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"address","name":"_newDefaultPoolAddress","type":"address"}],"name":"DefaultPoolAddressChanged","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"uint256","name":"_newBalance","type":"uint256"}],"name":"ETHBalanceUpdated","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"address","name":"_to","type":"address"},{"indexed":false,"internalType":"uint256","name":"_amount","type":"uint256"}],"name":"EtherSent","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"uint256","name":"_newBalance","type":"uint256"}],"name":"LUSDBalanceUpdated","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"previousOwner","type":"address"},{"indexed":true,"internalType":"address","name":"newOwner","type":"address"}],"name":"OwnershipTransferred","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"address","name":"_newStabilityPoolAddress","type":"address"}],"name":"StabilityPoolAddressChanged","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"address","name":"_newTroveManagerAddress","type":"address"}],"name":"TroveManagerAddressChanged","type":"event"},{"inputs":[],"name":"NAME","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"borrowerOperationsAddress","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"_amount","type":"uint256"}],"name":"decreaseLUSDDebt","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"defaultPoolAddress","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"getETH","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"getLUSDDebt","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"_amount","type":"uint256"}],"name":"increaseLUSDDebt","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"isOwner","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"owner","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"_account","type":"address"},{"internalType":"uint256","name":"_amount","type":"uint256"}],"name":"sendETH","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"_borrowerOperationsAddress","type":"address"},{"internalType":"address","name":"_troveManagerAddress","type":"address"},{"internalType":"address","name":"_stabilityPoolAddress","type":"address"},{"internalType":"address","name":"_defaultPoolAddress","type":"address"}],"name":"setAddresses","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"stabilityPoolAddress","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"newOwner","type":"address"}],"name":"transferOwnership","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"troveManagerAddress","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"stateMutability":"payable","type":"receive"}]')},function(e){e.exports=JSON.parse('[{"anonymous":false,"inputs":[{"indexed":false,"internalType":"address","name":"_activePoolAddress","type":"address"}],"name":"ActivePoolAddressChanged","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"address","name":"_collSurplusPoolAddress","type":"address"}],"name":"CollSurplusPoolAddressChanged","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"address","name":"_defaultPoolAddress","type":"address"}],"name":"DefaultPoolAddressChanged","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"address","name":"_gasPoolAddress","type":"address"}],"name":"GasPoolAddressChanged","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"address","name":"_inflationFeedAddress","type":"address"}],"name":"InflationFeedAddressChanged","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"address","name":"_lqtyStakingAddress","type":"address"}],"name":"LQTYStakingAddressChanged","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"_borrower","type":"address"},{"indexed":false,"internalType":"uint256","name":"_LUSDFee","type":"uint256"}],"name":"LUSDBorrowingFeePaid","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"address","name":"_lusdTokenAddress","type":"address"}],"name":"LUSDTokenAddressChanged","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"previousOwner","type":"address"},{"indexed":true,"internalType":"address","name":"newOwner","type":"address"}],"name":"OwnershipTransferred","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"address","name":"_newPriceFeedAddress","type":"address"}],"name":"PriceFeedAddressChanged","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"address","name":"_sortedTrovesAddress","type":"address"}],"name":"SortedTrovesAddressChanged","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"address","name":"_stabilityPoolAddress","type":"address"}],"name":"StabilityPoolAddressChanged","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"_borrower","type":"address"},{"indexed":false,"internalType":"uint256","name":"arrayIndex","type":"uint256"}],"name":"TroveCreated","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"address","name":"_newTroveManagerAddress","type":"address"}],"name":"TroveManagerAddressChanged","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"_borrower","type":"address"},{"indexed":false,"internalType":"uint256","name":"_debt","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"_coll","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"stake","type":"uint256"},{"indexed":false,"internalType":"enum BorrowerOperations.BorrowerOperation","name":"operation","type":"uint8"}],"name":"TroveUpdated","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"address","name":"_address","type":"address"}],"name":"deployerSet","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"bool","name":"_afterPresale","type":"bool"}],"name":"presaleEnded","type":"event"},{"inputs":[],"name":"BORROWING_FEE_FLOOR","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"CCR","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"DECIMAL_PRECISION","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"LUSD_GAS_COMPENSATION","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"MCR","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"MIN_NET_DEBT","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"NAME","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"PERCENT_DIVISOR","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"_100pct","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"activePool","outputs":[{"internalType":"contract IActivePool","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"_upperHint","type":"address"},{"internalType":"address","name":"_lowerHint","type":"address"}],"name":"addColl","outputs":[],"stateMutability":"payable","type":"function"},{"inputs":[{"internalType":"uint256","name":"_maxFeePercentage","type":"uint256"},{"internalType":"uint256","name":"_collWithdrawal","type":"uint256"},{"internalType":"uint256","name":"_LUSDChange","type":"uint256"},{"internalType":"bool","name":"_isDebtIncrease","type":"bool"},{"internalType":"address","name":"_upperHint","type":"address"},{"internalType":"address","name":"_lowerHint","type":"address"}],"name":"adjustTrove","outputs":[],"stateMutability":"payable","type":"function"},{"inputs":[],"name":"afterPresale","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"claimCollateral","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"closeTrove","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"defaultPool","outputs":[{"internalType":"contract IDefaultPool","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"deployer","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"getAfterPresale","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"_debt","type":"uint256"}],"name":"getCompositeDebt","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"pure","type":"function"},{"inputs":[],"name":"getDeployer","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"getEntireSystemColl","outputs":[{"internalType":"uint256","name":"entireSystemColl","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"getEntireSystemDebt","outputs":[{"internalType":"uint256","name":"entireSystemDebt","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"inflationFeed","outputs":[{"internalType":"contract IInflationFeed","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"isOwner","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"lqtyStaking","outputs":[{"internalType":"contract ILQTYStaking","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"lqtyStakingAddress","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"lusdToken","outputs":[{"internalType":"contract ILUSDToken","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"_borrower","type":"address"},{"internalType":"address","name":"_upperHint","type":"address"},{"internalType":"address","name":"_lowerHint","type":"address"}],"name":"moveETHGainToTrove","outputs":[],"stateMutability":"payable","type":"function"},{"inputs":[{"internalType":"uint256","name":"_maxFeePercentage","type":"uint256"},{"internalType":"uint256","name":"_LUSDAmount","type":"uint256"},{"internalType":"address","name":"_upperHint","type":"address"},{"internalType":"address","name":"_lowerHint","type":"address"}],"name":"openTrove","outputs":[],"stateMutability":"payable","type":"function"},{"inputs":[],"name":"owner","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"priceFeed","outputs":[{"internalType":"contract IPriceFeed","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"_LUSDAmount","type":"uint256"},{"internalType":"address","name":"_upperHint","type":"address"},{"internalType":"address","name":"_lowerHint","type":"address"}],"name":"repayLUSD","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"_troveManagerAddress","type":"address"},{"internalType":"address","name":"_activePoolAddress","type":"address"},{"internalType":"address","name":"_defaultPoolAddress","type":"address"},{"internalType":"address","name":"_stabilityPoolAddress","type":"address"},{"internalType":"address","name":"_gasPoolAddress","type":"address"},{"internalType":"address","name":"_collSurplusPoolAddress","type":"address"},{"internalType":"address","name":"_priceFeedAddress","type":"address"},{"internalType":"address","name":"_sortedTrovesAddress","type":"address"},{"internalType":"address","name":"_lusdTokenAddress","type":"address"},{"internalType":"address","name":"_lqtyStakingAddress","type":"address"},{"internalType":"address","name":"_inflationFeedAddress","type":"address"}],"name":"setAddresses","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"_deployer","type":"address"}],"name":"setDeployer","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"sortedTroves","outputs":[{"internalType":"contract ISortedTroves","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"toggleAfterPresale","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"newOwner","type":"address"}],"name":"transferOwnership","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"troveManager","outputs":[{"internalType":"contract ITroveManager","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"_collWithdrawal","type":"uint256"},{"internalType":"address","name":"_upperHint","type":"address"},{"internalType":"address","name":"_lowerHint","type":"address"}],"name":"withdrawColl","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"_maxFeePercentage","type":"uint256"},{"internalType":"uint256","name":"_LUSDAmount","type":"uint256"},{"internalType":"address","name":"_upperHint","type":"address"},{"internalType":"address","name":"_lowerHint","type":"address"}],"name":"withdrawLUSD","outputs":[],"stateMutability":"nonpayable","type":"function"}]')},function(e){e.exports=JSON.parse('[{"inputs":[],"stateMutability":"nonpayable","type":"constructor"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"address","name":"_activePoolAddress","type":"address"}],"name":"ActivePoolAddressChanged","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"uint256","name":"_baseRate","type":"uint256"}],"name":"BaseRateUpdated","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"address","name":"_newBorrowerOperationsAddress","type":"address"}],"name":"BorrowerOperationsAddressChanged","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"address","name":"_collSurplusPoolAddress","type":"address"}],"name":"CollSurplusPoolAddressChanged","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"address","name":"_defaultPoolAddress","type":"address"}],"name":"DefaultPoolAddressChanged","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"address","name":"_gasPoolAddress","type":"address"}],"name":"GasPoolAddressChanged","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"address","name":"_inflationFeedAddress","type":"address"}],"name":"InflationFeedAddressChanged","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"address","name":"_lqtyStakingAddress","type":"address"}],"name":"LQTYStakingAddressChanged","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"address","name":"_lqtyTokenAddress","type":"address"}],"name":"LQTYTokenAddressChanged","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"uint256","name":"_L_ETH","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"_L_LUSDDebt","type":"uint256"}],"name":"LTermsUpdated","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"address","name":"_newLUSDTokenAddress","type":"address"}],"name":"LUSDTokenAddressChanged","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"uint256","name":"_lastFeeOpTime","type":"uint256"}],"name":"LastFeeOpTimeUpdated","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"uint256","name":"_liquidatedDebt","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"_liquidatedColl","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"_collGasCompensation","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"_LUSDGasCompensation","type":"uint256"}],"name":"Liquidation","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"previousOwner","type":"address"},{"indexed":true,"internalType":"address","name":"newOwner","type":"address"}],"name":"OwnershipTransferred","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"address","name":"_newPriceFeedAddress","type":"address"}],"name":"PriceFeedAddressChanged","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"uint256","name":"_attemptedLUSDAmount","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"_actualLUSDAmount","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"_ETHSent","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"_ETHFee","type":"uint256"}],"name":"Redemption","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"address","name":"_sortedTrovesAddress","type":"address"}],"name":"SortedTrovesAddressChanged","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"address","name":"_stabilityPoolAddress","type":"address"}],"name":"StabilityPoolAddressChanged","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"uint256","name":"_totalStakesSnapshot","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"_totalCollateralSnapshot","type":"uint256"}],"name":"SystemSnapshotsUpdated","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"uint256","name":"_newTotalStakes","type":"uint256"}],"name":"TotalStakesUpdated","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"address","name":"_borrower","type":"address"},{"indexed":false,"internalType":"uint256","name":"_newIndex","type":"uint256"}],"name":"TroveIndexUpdated","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"_borrower","type":"address"},{"indexed":false,"internalType":"uint256","name":"_debt","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"_coll","type":"uint256"},{"indexed":false,"internalType":"enum TroveManager.TroveManagerOperation","name":"_operation","type":"uint8"}],"name":"TroveLiquidated","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"uint256","name":"_L_ETH","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"_L_LUSDDebt","type":"uint256"}],"name":"TroveSnapshotsUpdated","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"_borrower","type":"address"},{"indexed":false,"internalType":"uint256","name":"_debt","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"_coll","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"_stake","type":"uint256"},{"indexed":false,"internalType":"enum TroveManager.TroveManagerOperation","name":"_operation","type":"uint8"}],"name":"TroveUpdated","type":"event"},{"inputs":[],"name":"BETA","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"BOOTSTRAP_PERIOD","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"BORROWING_FEE_FLOOR","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"CCR","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"DECIMAL_PRECISION","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"LUSD_GAS_COMPENSATION","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"L_ETH","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"L_LUSDDebt","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"MAX_BORROWING_FEE","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"MCR","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"MINUTE_DECAY_FACTOR","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"MIN_NET_DEBT","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"NAME","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"PERCENT_DIVISOR","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"REDEMPTION_FEE_FLOOR","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"SECONDS_IN_ONE_MINUTE","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"","type":"uint256"}],"name":"TroveOwners","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"","type":"address"}],"name":"Troves","outputs":[{"internalType":"uint256","name":"debt","type":"uint256"},{"internalType":"uint256","name":"coll","type":"uint256"},{"internalType":"uint256","name":"stake","type":"uint256"},{"internalType":"enum TroveManager.Status","name":"status","type":"uint8"},{"internalType":"uint128","name":"arrayIndex","type":"uint128"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"_100pct","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"activePool","outputs":[{"internalType":"contract IActivePool","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"_borrower","type":"address"}],"name":"addTroveOwnerToArray","outputs":[{"internalType":"uint256","name":"index","type":"uint256"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"_borrower","type":"address"}],"name":"applyPendingRewards","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"baseRate","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address[]","name":"_troveArray","type":"address[]"}],"name":"batchLiquidateTroves","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"borrowerOperationsAddress","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"_price","type":"uint256"}],"name":"checkRecoveryMode","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"_borrower","type":"address"}],"name":"closeTrove","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"decayBaseRateFromBorrowing","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"_borrower","type":"address"},{"internalType":"uint256","name":"_collDecrease","type":"uint256"}],"name":"decreaseTroveColl","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"_borrower","type":"address"},{"internalType":"uint256","name":"_debtDecrease","type":"uint256"}],"name":"decreaseTroveDebt","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"defaultPool","outputs":[{"internalType":"contract IDefaultPool","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"_LUSDDebt","type":"uint256"}],"name":"getBorrowingFee","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"_LUSDDebt","type":"uint256"}],"name":"getBorrowingFeeWithDecay","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"getBorrowingRate","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"getBorrowingRateWithDecay","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"_borrower","type":"address"},{"internalType":"uint256","name":"_price","type":"uint256"}],"name":"getCurrentICR","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"getDeploymentStartTime","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"_borrower","type":"address"}],"name":"getEntireDebtAndColl","outputs":[{"internalType":"uint256","name":"debt","type":"uint256"},{"internalType":"uint256","name":"coll","type":"uint256"},{"internalType":"uint256","name":"pendingLUSDDebtReward","type":"uint256"},{"internalType":"uint256","name":"pendingETHReward","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"getEntireSystemColl","outputs":[{"internalType":"uint256","name":"entireSystemColl","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"getEntireSystemDebt","outputs":[{"internalType":"uint256","name":"entireSystemDebt","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"_borrower","type":"address"}],"name":"getNominalICR","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"_borrower","type":"address"}],"name":"getPendingETHReward","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"_borrower","type":"address"}],"name":"getPendingLUSDDebtReward","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"_ETHDrawn","type":"uint256"}],"name":"getRedemptionFeeWithDecay","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"getRedemptionRate","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"getRedemptionRateWithDecay","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"_price","type":"uint256"}],"name":"getTCR","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"_borrower","type":"address"}],"name":"getTroveColl","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"_borrower","type":"address"}],"name":"getTroveDebt","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"_index","type":"uint256"}],"name":"getTroveFromTroveOwnersArray","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"getTroveOwnersCount","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"_borrower","type":"address"}],"name":"getTroveStake","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"_borrower","type":"address"}],"name":"getTroveStatus","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"_borrower","type":"address"}],"name":"hasPendingRewards","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"_borrower","type":"address"},{"internalType":"uint256","name":"_collIncrease","type":"uint256"}],"name":"increaseTroveColl","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"_borrower","type":"address"},{"internalType":"uint256","name":"_debtIncrease","type":"uint256"}],"name":"increaseTroveDebt","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"inflationFeed","outputs":[{"internalType":"contract IInflationFeed","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"isOwner","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"lastETHError_Redistribution","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"lastFeeOperationTime","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"lastLUSDDebtError_Redistribution","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"_borrower","type":"address"}],"name":"liquidate","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"_n","type":"uint256"}],"name":"liquidateTroves","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"lqtyStaking","outputs":[{"internalType":"contract ILQTYStaking","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"lqtyToken","outputs":[{"internalType":"contract ILQTYToken","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"lusdToken","outputs":[{"internalType":"contract ILUSDToken","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"owner","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"priceFeed","outputs":[{"internalType":"contract IPriceFeed","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"_LUSDamount","type":"uint256"},{"internalType":"address","name":"_firstRedemptionHint","type":"address"},{"internalType":"address","name":"_upperPartialRedemptionHint","type":"address"},{"internalType":"address","name":"_lowerPartialRedemptionHint","type":"address"},{"internalType":"uint256","name":"_partialRedemptionHintNICR","type":"uint256"},{"internalType":"uint256","name":"_maxIterations","type":"uint256"},{"internalType":"uint256","name":"_maxFeePercentage","type":"uint256"}],"name":"redeemCollateral","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"_borrower","type":"address"}],"name":"removeStake","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"","type":"address"}],"name":"rewardSnapshots","outputs":[{"internalType":"uint256","name":"ETH","type":"uint256"},{"internalType":"uint256","name":"LUSDDebt","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"_borrowerOperationsAddress","type":"address"},{"internalType":"address","name":"_activePoolAddress","type":"address"},{"internalType":"address","name":"_defaultPoolAddress","type":"address"},{"internalType":"address","name":"_stabilityPoolAddress","type":"address"},{"internalType":"address","name":"_gasPoolAddress","type":"address"},{"internalType":"address","name":"_collSurplusPoolAddress","type":"address"},{"internalType":"address","name":"_priceFeedAddress","type":"address"},{"internalType":"address","name":"_lusdTokenAddress","type":"address"},{"internalType":"address","name":"_sortedTrovesAddress","type":"address"},{"internalType":"address","name":"_lqtyTokenAddress","type":"address"},{"internalType":"address","name":"_lqtyStakingAddress","type":"address"},{"internalType":"address","name":"_inflationFeedAddress","type":"address"}],"name":"setAddresses","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"setPresaleEndTime","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"_borrower","type":"address"},{"internalType":"uint256","name":"_num","type":"uint256"}],"name":"setTroveStatus","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"sortedTroves","outputs":[{"internalType":"contract ISortedTroves","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"stabilityPool","outputs":[{"internalType":"contract IStabilityPool","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"totalCollateralSnapshot","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"totalStakes","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"totalStakesSnapshot","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"newOwner","type":"address"}],"name":"transferOwnership","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"_borrower","type":"address"}],"name":"updateStakeAndTotalStakes","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"_borrower","type":"address"}],"name":"updateTroveRewardSnapshots","outputs":[],"stateMutability":"nonpayable","type":"function"}]')},function(e){e.exports=JSON.parse('[{"inputs":[{"internalType":"address","name":"_troveManagerAddress","type":"address"},{"internalType":"address","name":"_stabilityPoolAddress","type":"address"},{"internalType":"address","name":"_borrowerOperationsAddress","type":"address"}],"stateMutability":"nonpayable","type":"constructor"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"owner","type":"address"},{"indexed":true,"internalType":"address","name":"spender","type":"address"},{"indexed":false,"internalType":"uint256","name":"value","type":"uint256"}],"name":"Approval","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"address","name":"_newBorrowerOperationsAddress","type":"address"}],"name":"BorrowerOperationsAddressChanged","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"address","name":"_user","type":"address"},{"indexed":false,"internalType":"uint256","name":"_amount","type":"uint256"}],"name":"LUSDTokenBalanceUpdated","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"address","name":"_newStabilityPoolAddress","type":"address"}],"name":"StabilityPoolAddressChanged","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"from","type":"address"},{"indexed":true,"internalType":"address","name":"to","type":"address"},{"indexed":false,"internalType":"uint256","name":"value","type":"uint256"}],"name":"Transfer","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"address","name":"_troveManagerAddress","type":"address"}],"name":"TroveManagerAddressChanged","type":"event"},{"inputs":[{"internalType":"address","name":"owner","type":"address"},{"internalType":"address","name":"spender","type":"address"}],"name":"allowance","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"spender","type":"address"},{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"approve","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"account","type":"address"}],"name":"balanceOf","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"borrowerOperationsAddress","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"_account","type":"address"},{"internalType":"uint256","name":"_amount","type":"uint256"}],"name":"burn","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"decimals","outputs":[{"internalType":"uint8","name":"","type":"uint8"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"spender","type":"address"},{"internalType":"uint256","name":"subtractedValue","type":"uint256"}],"name":"decreaseAllowance","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"domainSeparator","outputs":[{"internalType":"bytes32","name":"","type":"bytes32"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"spender","type":"address"},{"internalType":"uint256","name":"addedValue","type":"uint256"}],"name":"increaseAllowance","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"_account","type":"address"},{"internalType":"uint256","name":"_amount","type":"uint256"}],"name":"mint","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"name","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"owner","type":"address"}],"name":"nonces","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"owner","type":"address"},{"internalType":"address","name":"spender","type":"address"},{"internalType":"uint256","name":"amount","type":"uint256"},{"internalType":"uint256","name":"deadline","type":"uint256"},{"internalType":"uint8","name":"v","type":"uint8"},{"internalType":"bytes32","name":"r","type":"bytes32"},{"internalType":"bytes32","name":"s","type":"bytes32"}],"name":"permit","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"permitTypeHash","outputs":[{"internalType":"bytes32","name":"","type":"bytes32"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"_poolAddress","type":"address"},{"internalType":"address","name":"_receiver","type":"address"},{"internalType":"uint256","name":"_amount","type":"uint256"}],"name":"returnFromPool","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"_sender","type":"address"},{"internalType":"address","name":"_poolAddress","type":"address"},{"internalType":"uint256","name":"_amount","type":"uint256"}],"name":"sendToPool","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"stabilityPoolAddress","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"symbol","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"totalSupply","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"recipient","type":"address"},{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"transfer","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"sender","type":"address"},{"internalType":"address","name":"recipient","type":"address"},{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"transferFrom","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"troveManagerAddress","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"version","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"}]')},function(e){e.exports=JSON.parse('[{"anonymous":false,"inputs":[{"indexed":false,"internalType":"address","name":"_newActivePoolAddress","type":"address"}],"name":"ActivePoolAddressChanged","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"address","name":"_newBorrowerOperationsAddress","type":"address"}],"name":"BorrowerOperationsAddressChanged","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"_account","type":"address"},{"indexed":false,"internalType":"uint256","name":"_newBalance","type":"uint256"}],"name":"CollBalanceUpdated","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"address","name":"_to","type":"address"},{"indexed":false,"internalType":"uint256","name":"_amount","type":"uint256"}],"name":"EtherSent","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"previousOwner","type":"address"},{"indexed":true,"internalType":"address","name":"newOwner","type":"address"}],"name":"OwnershipTransferred","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"address","name":"_newTroveManagerAddress","type":"address"}],"name":"TroveManagerAddressChanged","type":"event"},{"inputs":[],"name":"NAME","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"_account","type":"address"},{"internalType":"uint256","name":"_amount","type":"uint256"}],"name":"accountSurplus","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"activePoolAddress","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"borrowerOperationsAddress","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"_account","type":"address"}],"name":"claimColl","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"_account","type":"address"}],"name":"getCollateral","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"getETH","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"isOwner","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"owner","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"_borrowerOperationsAddress","type":"address"},{"internalType":"address","name":"_troveManagerAddress","type":"address"},{"internalType":"address","name":"_activePoolAddress","type":"address"}],"name":"setAddresses","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"newOwner","type":"address"}],"name":"transferOwnership","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"troveManagerAddress","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"stateMutability":"payable","type":"receive"}]')},function(e){e.exports=JSON.parse('[{"inputs":[],"stateMutability":"nonpayable","type":"constructor"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"address","name":"_lqtyTokenAddress","type":"address"}],"name":"LQTYTokenAddressSet","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"previousOwner","type":"address"},{"indexed":true,"internalType":"address","name":"newOwner","type":"address"}],"name":"OwnershipTransferred","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"address","name":"_stabilityPoolAddress","type":"address"}],"name":"StabilityPoolAddressSet","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"uint256","name":"_totalLQTYIssued","type":"uint256"}],"name":"TotalLQTYIssuedUpdated","type":"event"},{"inputs":[],"name":"DECIMAL_PRECISION","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"ISSUANCE_FACTOR","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"LQTYSupplyCap","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"NAME","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"SECONDS_IN_ONE_MINUTE","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"deploymentTime","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"isOwner","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"issueLQTY","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"lqtyToken","outputs":[{"internalType":"contract ILQTYToken","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"owner","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"_account","type":"address"},{"internalType":"uint256","name":"_LQTYamount","type":"uint256"}],"name":"sendLQTY","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"_lqtyTokenAddress","type":"address"},{"internalType":"address","name":"_stabilityPoolAddress","type":"address"}],"name":"setAddresses","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"stabilityPoolAddress","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"totalLQTYIssued","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"newOwner","type":"address"}],"name":"transferOwnership","outputs":[],"stateMutability":"nonpayable","type":"function"}]')},function(e){e.exports=JSON.parse('[{"anonymous":false,"inputs":[{"indexed":false,"internalType":"address","name":"_newActivePoolAddress","type":"address"}],"name":"ActivePoolAddressChanged","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"address","name":"_newDefaultPoolAddress","type":"address"}],"name":"DefaultPoolAddressChanged","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"uint256","name":"_ETH","type":"uint256"}],"name":"DefaultPoolETHBalanceUpdated","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"uint256","name":"_LUSDDebt","type":"uint256"}],"name":"DefaultPoolLUSDDebtUpdated","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"uint256","name":"_newBalance","type":"uint256"}],"name":"ETHBalanceUpdated","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"address","name":"_to","type":"address"},{"indexed":false,"internalType":"uint256","name":"_amount","type":"uint256"}],"name":"EtherSent","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"uint256","name":"_newBalance","type":"uint256"}],"name":"LUSDBalanceUpdated","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"previousOwner","type":"address"},{"indexed":true,"internalType":"address","name":"newOwner","type":"address"}],"name":"OwnershipTransferred","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"address","name":"_newStabilityPoolAddress","type":"address"}],"name":"StabilityPoolAddressChanged","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"address","name":"_newTroveManagerAddress","type":"address"}],"name":"TroveManagerAddressChanged","type":"event"},{"inputs":[],"name":"NAME","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"activePoolAddress","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"_amount","type":"uint256"}],"name":"decreaseLUSDDebt","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"getETH","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"getLUSDDebt","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"_amount","type":"uint256"}],"name":"increaseLUSDDebt","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"isOwner","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"owner","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"_amount","type":"uint256"}],"name":"sendETHToActivePool","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"_troveManagerAddress","type":"address"},{"internalType":"address","name":"_activePoolAddress","type":"address"}],"name":"setAddresses","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"newOwner","type":"address"}],"name":"transferOwnership","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"troveManagerAddress","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"stateMutability":"payable","type":"receive"}]')},function(e){e.exports=JSON.parse('[{"inputs":[{"internalType":"address","name":"_communityIssuanceAddress","type":"address"},{"internalType":"address","name":"_lqtyStakingAddress","type":"address"},{"internalType":"address","name":"_bountyAddress","type":"address"},{"internalType":"address","name":"_lpRewardsAddress","type":"address"},{"internalType":"address","name":"_multisigAddress","type":"address"}],"stateMutability":"nonpayable","type":"constructor"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"owner","type":"address"},{"indexed":true,"internalType":"address","name":"spender","type":"address"},{"indexed":false,"internalType":"uint256","name":"value","type":"uint256"}],"name":"Approval","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"from","type":"address"},{"indexed":true,"internalType":"address","name":"to","type":"address"},{"indexed":false,"internalType":"uint256","name":"value","type":"uint256"}],"name":"Transfer","type":"event"},{"inputs":[],"name":"ONE_YEAR_IN_SECONDS","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"owner","type":"address"},{"internalType":"address","name":"spender","type":"address"}],"name":"allowance","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"spender","type":"address"},{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"approve","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"account","type":"address"}],"name":"balanceOf","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"communityIssuanceAddress","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"decimals","outputs":[{"internalType":"uint8","name":"","type":"uint8"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"spender","type":"address"},{"internalType":"uint256","name":"subtractedValue","type":"uint256"}],"name":"decreaseAllowance","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"domainSeparator","outputs":[{"internalType":"bytes32","name":"","type":"bytes32"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"getLpRewardsEntitlement","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"spender","type":"address"},{"internalType":"uint256","name":"addedValue","type":"uint256"}],"name":"increaseAllowance","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"lqtyStakingAddress","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"multisigAddress","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"name","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"owner","type":"address"}],"name":"nonces","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"owner","type":"address"},{"internalType":"address","name":"spender","type":"address"},{"internalType":"uint256","name":"amount","type":"uint256"},{"internalType":"uint256","name":"deadline","type":"uint256"},{"internalType":"uint8","name":"v","type":"uint8"},{"internalType":"bytes32","name":"r","type":"bytes32"},{"internalType":"bytes32","name":"s","type":"bytes32"}],"name":"permit","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"permitTypeHash","outputs":[{"internalType":"bytes32","name":"","type":"bytes32"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"_sender","type":"address"},{"internalType":"uint256","name":"_amount","type":"uint256"}],"name":"sendToLQTYStaking","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"symbol","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"totalSupply","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"recipient","type":"address"},{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"transfer","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"sender","type":"address"},{"internalType":"address","name":"recipient","type":"address"},{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"transferFrom","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"version","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"}]')},function(e){e.exports=JSON.parse('[{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"previousOwner","type":"address"},{"indexed":true,"internalType":"address","name":"newOwner","type":"address"}],"name":"OwnershipTransferred","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"address","name":"_sortedTrovesAddress","type":"address"}],"name":"SortedTrovesAddressChanged","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"address","name":"_troveManagerAddress","type":"address"}],"name":"TroveManagerAddressChanged","type":"event"},{"inputs":[],"name":"BORROWING_FEE_FLOOR","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"CCR","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"DECIMAL_PRECISION","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"LUSD_GAS_COMPENSATION","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"MCR","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"MIN_NET_DEBT","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"NAME","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"PERCENT_DIVISOR","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"_100pct","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"activePool","outputs":[{"internalType":"contract IActivePool","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"_coll","type":"uint256"},{"internalType":"uint256","name":"_debt","type":"uint256"},{"internalType":"uint256","name":"_price","type":"uint256"},{"internalType":"uint256","name":"_targetPeg","type":"uint256"}],"name":"computeCR","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"pure","type":"function"},{"inputs":[{"internalType":"uint256","name":"_coll","type":"uint256"},{"internalType":"uint256","name":"_debt","type":"uint256"}],"name":"computeNominalCR","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"pure","type":"function"},{"inputs":[],"name":"defaultPool","outputs":[{"internalType":"contract IDefaultPool","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"_CR","type":"uint256"},{"internalType":"uint256","name":"_numTrials","type":"uint256"},{"internalType":"uint256","name":"_inputRandomSeed","type":"uint256"}],"name":"getApproxHint","outputs":[{"internalType":"address","name":"hintAddress","type":"address"},{"internalType":"uint256","name":"diff","type":"uint256"},{"internalType":"uint256","name":"latestRandomSeed","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"getEntireSystemColl","outputs":[{"internalType":"uint256","name":"entireSystemColl","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"getEntireSystemDebt","outputs":[{"internalType":"uint256","name":"entireSystemDebt","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"_LUSDamount","type":"uint256"},{"internalType":"uint256","name":"_price","type":"uint256"},{"internalType":"uint256","name":"_maxIterations","type":"uint256"}],"name":"getRedemptionHints","outputs":[{"internalType":"address","name":"firstRedemptionHint","type":"address"},{"internalType":"uint256","name":"partialRedemptionHintNICR","type":"uint256"},{"internalType":"uint256","name":"truncatedLUSDamount","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"isOwner","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"owner","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"priceFeed","outputs":[{"internalType":"contract IPriceFeed","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"_sortedTrovesAddress","type":"address"},{"internalType":"address","name":"_troveManagerAddress","type":"address"}],"name":"setAddresses","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"sortedTroves","outputs":[{"internalType":"contract ISortedTroves","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"newOwner","type":"address"}],"name":"transferOwnership","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"troveManager","outputs":[{"internalType":"contract ITroveManager","name":"","type":"address"}],"stateMutability":"view","type":"function"}]')},function(e){e.exports=JSON.parse('[{"anonymous":false,"inputs":[{"indexed":false,"internalType":"address","name":"_activePoolAddress","type":"address"}],"name":"ActivePoolAddressSet","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"address","name":"_borrowerOperationsAddress","type":"address"}],"name":"BorrowerOperationsAddressSet","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"address","name":"_account","type":"address"},{"indexed":false,"internalType":"uint256","name":"_amount","type":"uint256"}],"name":"EtherSent","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"uint256","name":"_F_ETH","type":"uint256"}],"name":"F_ETHUpdated","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"uint256","name":"_F_LUSD","type":"uint256"}],"name":"F_LUSDUpdated","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"address","name":"_lqtyTokenAddress","type":"address"}],"name":"LQTYTokenAddressSet","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"address","name":"_lusdTokenAddress","type":"address"}],"name":"LUSDTokenAddressSet","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"previousOwner","type":"address"},{"indexed":true,"internalType":"address","name":"newOwner","type":"address"}],"name":"OwnershipTransferred","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"staker","type":"address"},{"indexed":false,"internalType":"uint256","name":"newStake","type":"uint256"}],"name":"StakeChanged","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"address","name":"_staker","type":"address"},{"indexed":false,"internalType":"uint256","name":"_F_ETH","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"_F_LUSD","type":"uint256"}],"name":"StakerSnapshotsUpdated","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"staker","type":"address"},{"indexed":false,"internalType":"uint256","name":"LUSDGain","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"ETHGain","type":"uint256"}],"name":"StakingGainsWithdrawn","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"uint256","name":"_totalLQTYStaked","type":"uint256"}],"name":"TotalLQTYStakedUpdated","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"address","name":"_troveManager","type":"address"}],"name":"TroveManagerAddressSet","type":"event"},{"inputs":[],"name":"DECIMAL_PRECISION","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"F_ETH","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"F_LUSD","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"NAME","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"activePoolAddress","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"_LUSDFee","type":"uint256"}],"name":"airdropF_LUSD","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"borrowerOperationsAddress","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"_user","type":"address"}],"name":"getPendingETHGain","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"_user","type":"address"}],"name":"getPendingLUSDGain","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"_ETHFee","type":"uint256"}],"name":"increaseF_ETH","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"_LUSDFee","type":"uint256"}],"name":"increaseF_LUSD","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"isOwner","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"lqtyToken","outputs":[{"internalType":"contract ILQTYToken","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"lusdToken","outputs":[{"internalType":"contract ILUSDToken","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"owner","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"_lqtyTokenAddress","type":"address"},{"internalType":"address","name":"_lusdTokenAddress","type":"address"},{"internalType":"address","name":"_troveManagerAddress","type":"address"},{"internalType":"address","name":"_borrowerOperationsAddress","type":"address"},{"internalType":"address","name":"_activePoolAddress","type":"address"}],"name":"setAddresses","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"","type":"address"}],"name":"snapshots","outputs":[{"internalType":"uint256","name":"F_ETH_Snapshot","type":"uint256"},{"internalType":"uint256","name":"F_LUSD_Snapshot","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"_LQTYamount","type":"uint256"}],"name":"stake","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"","type":"address"}],"name":"stakes","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"totalLQTYStaked","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"newOwner","type":"address"}],"name":"transferOwnership","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"troveManagerAddress","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"_LQTYamount","type":"uint256"}],"name":"unstake","outputs":[],"stateMutability":"nonpayable","type":"function"},{"stateMutability":"payable","type":"receive"}]')},function(e){e.exports=JSON.parse('[{"inputs":[{"internalType":"contract TroveManager","name":"_troveManager","type":"address"},{"internalType":"contract ISortedTroves","name":"_sortedTroves","type":"address"}],"stateMutability":"nonpayable","type":"constructor"},{"inputs":[{"internalType":"int256","name":"_startIdx","type":"int256"},{"internalType":"uint256","name":"_count","type":"uint256"}],"name":"getMultipleSortedTroves","outputs":[{"components":[{"internalType":"address","name":"owner","type":"address"},{"internalType":"uint256","name":"debt","type":"uint256"},{"internalType":"uint256","name":"coll","type":"uint256"},{"internalType":"uint256","name":"stake","type":"uint256"},{"internalType":"uint256","name":"snapshotETH","type":"uint256"},{"internalType":"uint256","name":"snapshotLUSDDebt","type":"uint256"}],"internalType":"struct MultiTroveGetter.CombinedTroveData[]","name":"_troves","type":"tuple[]"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"sortedTroves","outputs":[{"internalType":"contract ISortedTroves","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"troveManager","outputs":[{"internalType":"contract TroveManager","name":"","type":"address"}],"stateMutability":"view","type":"function"}]')},function(e){e.exports=JSON.parse('[{"anonymous":false,"inputs":[{"indexed":false,"internalType":"uint256","name":"_lastGoodPrice","type":"uint256"}],"name":"LastGoodPriceUpdated","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"previousOwner","type":"address"},{"indexed":true,"internalType":"address","name":"newOwner","type":"address"}],"name":"OwnershipTransferred","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"enum PriceFeed.Status","name":"newStatus","type":"uint8"}],"name":"PriceFeedStatusChanged","type":"event"},{"inputs":[],"name":"DECIMAL_PRECISION","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"ETHUSD_TELLOR_REQ_ID","outputs":[{"internalType":"bytes32","name":"","type":"bytes32"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"MAX_PRICE_DEVIATION_FROM_PREVIOUS_ROUND","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"MAX_PRICE_DIFFERENCE_BETWEEN_ORACLES","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"NAME","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"TARGET_DIGITS","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"TELLOR_DIGITS","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"TIMEOUT","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"fetchPrice","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"inflationFeed","outputs":[{"internalType":"contract IInflationFeed","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"isOwner","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"lastGoodPrice","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"owner","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"priceAggregator","outputs":[{"internalType":"contract AggregatorV3Interface","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"_priceAggregatorAddress","type":"address"},{"internalType":"address","name":"_tellorCallerAddress","type":"address"},{"internalType":"address","name":"_inflationFeedAddress","type":"address"}],"name":"setAddresses","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"status","outputs":[{"internalType":"enum PriceFeed.Status","name":"","type":"uint8"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"tellorCaller","outputs":[{"internalType":"contract ITellorCaller","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"newOwner","type":"address"}],"name":"transferOwnership","outputs":[],"stateMutability":"nonpayable","type":"function"}]')},function(e){e.exports=JSON.parse('[{"anonymous":false,"inputs":[{"indexed":false,"internalType":"uint256","name":"_lastGoodPrice","type":"uint256"}],"name":"LastGoodPriceUpdated","type":"event"},{"inputs":[],"name":"fetchPrice","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"getPrice","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"price","type":"uint256"}],"name":"setPrice","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"nonpayable","type":"function"}]')},function(e){e.exports=JSON.parse('[{"anonymous":false,"inputs":[{"indexed":false,"internalType":"address","name":"_borrowerOperationsAddress","type":"address"}],"name":"BorrowerOperationsAddressChanged","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"address","name":"_id","type":"address"},{"indexed":false,"internalType":"uint256","name":"_NICR","type":"uint256"}],"name":"NodeAdded","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"address","name":"_id","type":"address"}],"name":"NodeRemoved","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"previousOwner","type":"address"},{"indexed":true,"internalType":"address","name":"newOwner","type":"address"}],"name":"OwnershipTransferred","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"address","name":"_sortedDoublyLLAddress","type":"address"}],"name":"SortedTrovesAddressChanged","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"address","name":"_troveManagerAddress","type":"address"}],"name":"TroveManagerAddressChanged","type":"event"},{"inputs":[],"name":"NAME","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"borrowerOperationsAddress","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"_id","type":"address"}],"name":"contains","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"data","outputs":[{"internalType":"address","name":"head","type":"address"},{"internalType":"address","name":"tail","type":"address"},{"internalType":"uint256","name":"maxSize","type":"uint256"},{"internalType":"uint256","name":"size","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"_NICR","type":"uint256"},{"internalType":"address","name":"_prevId","type":"address"},{"internalType":"address","name":"_nextId","type":"address"}],"name":"findInsertPosition","outputs":[{"internalType":"address","name":"","type":"address"},{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"getFirst","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"getLast","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"getMaxSize","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"_id","type":"address"}],"name":"getNext","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"_id","type":"address"}],"name":"getPrev","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"getSize","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"_id","type":"address"},{"internalType":"uint256","name":"_NICR","type":"uint256"},{"internalType":"address","name":"_prevId","type":"address"},{"internalType":"address","name":"_nextId","type":"address"}],"name":"insert","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"isEmpty","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"isFull","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"isOwner","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"owner","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"_id","type":"address"},{"internalType":"uint256","name":"_newNICR","type":"uint256"},{"internalType":"address","name":"_prevId","type":"address"},{"internalType":"address","name":"_nextId","type":"address"}],"name":"reInsert","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"_id","type":"address"}],"name":"remove","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"_size","type":"uint256"},{"internalType":"address","name":"_troveManagerAddress","type":"address"},{"internalType":"address","name":"_borrowerOperationsAddress","type":"address"}],"name":"setParams","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"newOwner","type":"address"}],"name":"transferOwnership","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"troveManager","outputs":[{"internalType":"contract ITroveManager","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"_NICR","type":"uint256"},{"internalType":"address","name":"_prevId","type":"address"},{"internalType":"address","name":"_nextId","type":"address"}],"name":"validInsertPosition","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"}]')},function(e){e.exports=JSON.parse('[{"anonymous":false,"inputs":[{"indexed":false,"internalType":"address","name":"_newActivePoolAddress","type":"address"}],"name":"ActivePoolAddressChanged","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"address","name":"_newBorrowerOperationsAddress","type":"address"}],"name":"BorrowerOperationsAddressChanged","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"address","name":"_newCommunityIssuanceAddress","type":"address"}],"name":"CommunityIssuanceAddressChanged","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"address","name":"_newDefaultPoolAddress","type":"address"}],"name":"DefaultPoolAddressChanged","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"_depositor","type":"address"},{"indexed":false,"internalType":"uint256","name":"_P","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"_S","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"_G","type":"uint256"}],"name":"DepositSnapshotUpdated","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"_depositor","type":"address"},{"indexed":false,"internalType":"uint256","name":"_ETH","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"_LUSDLoss","type":"uint256"}],"name":"ETHGainWithdrawn","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"uint128","name":"_currentEpoch","type":"uint128"}],"name":"EpochUpdated","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"address","name":"_to","type":"address"},{"indexed":false,"internalType":"uint256","name":"_amount","type":"uint256"}],"name":"EtherSent","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"_frontEnd","type":"address"},{"indexed":false,"internalType":"uint256","name":"_kickbackRate","type":"uint256"}],"name":"FrontEndRegistered","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"_frontEnd","type":"address"},{"indexed":false,"internalType":"uint256","name":"_P","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"_G","type":"uint256"}],"name":"FrontEndSnapshotUpdated","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"_frontEnd","type":"address"},{"indexed":false,"internalType":"uint256","name":"_newFrontEndStake","type":"uint256"},{"indexed":false,"internalType":"address","name":"_depositor","type":"address"}],"name":"FrontEndStakeChanged","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"_depositor","type":"address"},{"indexed":true,"internalType":"address","name":"_frontEnd","type":"address"}],"name":"FrontEndTagSet","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"uint256","name":"_G","type":"uint256"},{"indexed":false,"internalType":"uint128","name":"_epoch","type":"uint128"},{"indexed":false,"internalType":"uint128","name":"_scale","type":"uint128"}],"name":"G_Updated","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"_depositor","type":"address"},{"indexed":false,"internalType":"uint256","name":"_LQTY","type":"uint256"}],"name":"LQTYPaidToDepositor","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"_frontEnd","type":"address"},{"indexed":false,"internalType":"uint256","name":"_LQTY","type":"uint256"}],"name":"LQTYPaidToFrontEnd","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"address","name":"_newLUSDTokenAddress","type":"address"}],"name":"LUSDTokenAddressChanged","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"previousOwner","type":"address"},{"indexed":true,"internalType":"address","name":"newOwner","type":"address"}],"name":"OwnershipTransferred","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"uint256","name":"_P","type":"uint256"}],"name":"P_Updated","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"address","name":"_newPriceFeedAddress","type":"address"}],"name":"PriceFeedAddressChanged","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"uint256","name":"_S","type":"uint256"},{"indexed":false,"internalType":"uint128","name":"_epoch","type":"uint128"},{"indexed":false,"internalType":"uint128","name":"_scale","type":"uint128"}],"name":"S_Updated","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"uint128","name":"_currentScale","type":"uint128"}],"name":"ScaleUpdated","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"address","name":"_newSortedTrovesAddress","type":"address"}],"name":"SortedTrovesAddressChanged","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"uint256","name":"_newBalance","type":"uint256"}],"name":"StabilityPoolETHBalanceUpdated","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"uint256","name":"_newBalance","type":"uint256"}],"name":"StabilityPoolLUSDBalanceUpdated","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"address","name":"_newTroveManagerAddress","type":"address"}],"name":"TroveManagerAddressChanged","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"_depositor","type":"address"},{"indexed":false,"internalType":"uint256","name":"_newDeposit","type":"uint256"}],"name":"UserDepositChanged","type":"event"},{"inputs":[],"name":"BORROWING_FEE_FLOOR","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"CCR","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"DECIMAL_PRECISION","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"LUSD_GAS_COMPENSATION","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"MCR","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"MIN_NET_DEBT","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"NAME","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"P","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"PERCENT_DIVISOR","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"SCALE_FACTOR","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"_100pct","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"activePool","outputs":[{"internalType":"contract IActivePool","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"borrowerOperations","outputs":[{"internalType":"contract IBorrowerOperations","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"communityIssuance","outputs":[{"internalType":"contract ICommunityIssuance","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"currentEpoch","outputs":[{"internalType":"uint128","name":"","type":"uint128"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"currentScale","outputs":[{"internalType":"uint128","name":"","type":"uint128"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"defaultPool","outputs":[{"internalType":"contract IDefaultPool","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"","type":"address"}],"name":"depositSnapshots","outputs":[{"internalType":"uint256","name":"S","type":"uint256"},{"internalType":"uint256","name":"P","type":"uint256"},{"internalType":"uint256","name":"G","type":"uint256"},{"internalType":"uint128","name":"scale","type":"uint128"},{"internalType":"uint128","name":"epoch","type":"uint128"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"","type":"address"}],"name":"deposits","outputs":[{"internalType":"uint256","name":"initialValue","type":"uint256"},{"internalType":"address","name":"frontEndTag","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint128","name":"","type":"uint128"},{"internalType":"uint128","name":"","type":"uint128"}],"name":"epochToScaleToG","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint128","name":"","type":"uint128"},{"internalType":"uint128","name":"","type":"uint128"}],"name":"epochToScaleToSum","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"","type":"address"}],"name":"frontEndSnapshots","outputs":[{"internalType":"uint256","name":"S","type":"uint256"},{"internalType":"uint256","name":"P","type":"uint256"},{"internalType":"uint256","name":"G","type":"uint256"},{"internalType":"uint128","name":"scale","type":"uint128"},{"internalType":"uint128","name":"epoch","type":"uint128"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"","type":"address"}],"name":"frontEndStakes","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"","type":"address"}],"name":"frontEnds","outputs":[{"internalType":"uint256","name":"kickbackRate","type":"uint256"},{"internalType":"bool","name":"registered","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"_frontEnd","type":"address"}],"name":"getCompoundedFrontEndStake","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"_depositor","type":"address"}],"name":"getCompoundedLUSDDeposit","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"_depositor","type":"address"}],"name":"getDepositorETHGain","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"_depositor","type":"address"}],"name":"getDepositorLQTYGain","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"getETH","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"getEntireSystemColl","outputs":[{"internalType":"uint256","name":"entireSystemColl","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"getEntireSystemDebt","outputs":[{"internalType":"uint256","name":"entireSystemDebt","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"_frontEnd","type":"address"}],"name":"getFrontEndLQTYGain","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"getTotalLUSDDeposits","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"isOwner","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"lastETHError_Offset","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"lastLQTYError","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"lastLUSDLossError_Offset","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"lusdToken","outputs":[{"internalType":"contract ILUSDToken","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"_debtToOffset","type":"uint256"},{"internalType":"uint256","name":"_collToAdd","type":"uint256"}],"name":"offset","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"owner","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"priceFeed","outputs":[{"internalType":"contract IPriceFeed","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"_amount","type":"uint256"},{"internalType":"address","name":"_frontEndTag","type":"address"}],"name":"provideToSP","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"_kickbackRate","type":"uint256"}],"name":"registerFrontEnd","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"_borrowerOperationsAddress","type":"address"},{"internalType":"address","name":"_troveManagerAddress","type":"address"},{"internalType":"address","name":"_activePoolAddress","type":"address"},{"internalType":"address","name":"_lusdTokenAddress","type":"address"},{"internalType":"address","name":"_sortedTrovesAddress","type":"address"},{"internalType":"address","name":"_priceFeedAddress","type":"address"},{"internalType":"address","name":"_communityIssuanceAddress","type":"address"}],"name":"setAddresses","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"sortedTroves","outputs":[{"internalType":"contract ISortedTroves","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"newOwner","type":"address"}],"name":"transferOwnership","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"troveManager","outputs":[{"internalType":"contract ITroveManager","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"_upperHint","type":"address"},{"internalType":"address","name":"_lowerHint","type":"address"}],"name":"withdrawETHGainToTrove","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"_amount","type":"uint256"}],"name":"withdrawFromSP","outputs":[],"stateMutability":"nonpayable","type":"function"},{"stateMutability":"payable","type":"receive"}]')},function(e){e.exports=JSON.parse("[]")},function(e){e.exports=JSON.parse('[{"inputs":[{"internalType":"address","name":"_oracleId","type":"address"},{"internalType":"string","name":"_jobId","type":"string"},{"internalType":"address","name":"_token","type":"address"}],"stateMutability":"nonpayable","type":"constructor"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"bytes32","name":"id","type":"bytes32"}],"name":"ChainlinkCancelled","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"bytes32","name":"id","type":"bytes32"}],"name":"ChainlinkFulfilled","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"bytes32","name":"id","type":"bytes32"}],"name":"ChainlinkRequested","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"uint256","name":"_lastTargetPeg","type":"uint256"}],"name":"LastTargetPegUpdated","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"previousOwner","type":"address"},{"indexed":true,"internalType":"address","name":"newOwner","type":"address"}],"name":"OwnershipTransferred","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"string","name":"_jobId","type":"string"}],"name":"jobIdChanged","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"address","name":"_token","type":"address"}],"name":"linkTokenChanged","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"address","name":"_oracleId","type":"address"}],"name":"oracleChanged","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"uint256","name":"_txWindowStart","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"_txWindowEnd","type":"uint256"}],"name":"ownerFunctionsStart","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"uint256","name":"_newPeg","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"_targetPeg","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"_counter","type":"uint256"}],"name":"pegOutsideOfRange","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"uint256","name":"_fee","type":"uint256"}],"name":"truflationFeeChanged","type":"event"},{"inputs":[],"name":"DECIMAL_PRECISION","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"MAX_PEG_VARIANCE","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"NAME","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"TARGET_DIGITS","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"_fee","type":"uint256"}],"name":"changeFee","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"string","name":"_jobId","type":"string"}],"name":"changeJobId","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"_oracle","type":"address"}],"name":"changeOracle","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"counter","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"currentIndex","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"fee","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"bytes32","name":"_requestId","type":"bytes32"},{"internalType":"bytes","name":"_inflation","type":"bytes"}],"name":"fulfillInflationWei","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"getCurrentIndex","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"getInitialized","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"getLinkToken","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"getTargetPeg","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"initialized","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"isOwner","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"jobId","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"lastUpdateTime","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"oracleId","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"owner","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"ownerTxDelay","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"pegUpdateDelay","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"_token","type":"address"}],"name":"setLinkToken","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"startOwnerFunctionsWindow","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"startingIndex","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"targetPeg","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"newOwner","type":"address"}],"name":"transferOwnership","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"txWindowEnd","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"txWindowStart","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"updateTargetPeg","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"withdrawLink","outputs":[],"stateMutability":"nonpayable","type":"function"}]')},function(e){e.exports=JSON.parse('[{"anonymous":false,"inputs":[{"indexed":false,"internalType":"uint256","name":"_lastTargetPeg","type":"uint256"}],"name":"LastTargetPegUpdated","type":"event"},{"inputs":[],"name":"currentIndex","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"getCurrentIndex","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"getInitialized","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"getTargetPeg","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"initialized","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"_targetPeg","type":"uint256"}],"name":"setTargetPeg","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"targetPeg","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"updateTargetPeg","outputs":[],"stateMutability":"nonpayable","type":"function"}]')},function(e){e.exports=JSON.parse('[{"anonymous":false,"inputs":[{"indexed":false,"internalType":"address","name":"_inflationFeedAddress","type":"address"}],"name":"InflationFeedAddressChanged","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"uint256","name":"_lastTargetPeg","type":"uint256"}],"name":"LastTargetPegUpdated","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"previousOwner","type":"address"},{"indexed":true,"internalType":"address","name":"newOwner","type":"address"}],"name":"OwnershipTransferred","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"uint256","name":"_txWindowStart","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"_txWindowEnd","type":"uint256"}],"name":"ownerFunctionsStart","type":"event"},{"inputs":[],"name":"DECIMAL_PRECISION","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"NAME","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"getCurrentIndex","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"getInitialized","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"getTargetPeg","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"inflationFeed","outputs":[{"internalType":"contract IInflationFeed","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"isOwner","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"owner","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"ownerTxDelay","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"_inflationFeedAddress","type":"address"}],"name":"setInflationFeed","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"startOwnerFunctionsWindow","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"newOwner","type":"address"}],"name":"transferOwnership","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"txWindowEnd","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"txWindowStart","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"updateTargetPeg","outputs":[],"stateMutability":"nonpayable","type":"function"}]')},function(e){e.exports=JSON.parse('[{"anonymous":false,"inputs":[{"indexed":false,"internalType":"address","name":"_lqtyTokenAddress","type":"address"}],"name":"LQTYTokenAddressChanged","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"previousOwner","type":"address"},{"indexed":true,"internalType":"address","name":"newOwner","type":"address"}],"name":"OwnershipTransferred","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"uint256","name":"reward","type":"uint256"}],"name":"RewardAdded","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"user","type":"address"},{"indexed":false,"internalType":"uint256","name":"reward","type":"uint256"}],"name":"RewardPaid","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"user","type":"address"},{"indexed":false,"internalType":"uint256","name":"amount","type":"uint256"}],"name":"Staked","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"address","name":"_uniTokenAddress","type":"address"}],"name":"UniTokenAddressChanged","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"user","type":"address"},{"indexed":false,"internalType":"uint256","name":"amount","type":"uint256"}],"name":"Withdrawn","type":"event"},{"inputs":[],"name":"NAME","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"account","type":"address"}],"name":"balanceOf","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"claimReward","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"duration","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"account","type":"address"}],"name":"earned","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"isOwner","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"lastTimeRewardApplicable","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"lastUpdateTime","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"lqtyToken","outputs":[{"internalType":"contract ILQTYToken","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"owner","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"periodFinish","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"rewardPerToken","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"rewardPerTokenStored","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"rewardRate","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"","type":"address"}],"name":"rewards","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"_lqtyTokenAddress","type":"address"},{"internalType":"address","name":"_uniTokenAddress","type":"address"},{"internalType":"uint256","name":"_duration","type":"uint256"}],"name":"setParams","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"stake","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"totalSupply","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"newOwner","type":"address"}],"name":"transferOwnership","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"uniToken","outputs":[{"internalType":"contract IERC20","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"","type":"address"}],"name":"userRewardPerTokenPaid","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"withdraw","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"withdrawAndClaim","outputs":[],"stateMutability":"nonpayable","type":"function"}]')},function(e){e.exports=JSON.parse('[{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"owner","type":"address"},{"indexed":true,"internalType":"address","name":"spender","type":"address"},{"indexed":false,"internalType":"uint256","name":"value","type":"uint256"}],"name":"Approval","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"from","type":"address"},{"indexed":true,"internalType":"address","name":"to","type":"address"},{"indexed":false,"internalType":"uint256","name":"value","type":"uint256"}],"name":"Transfer","type":"event"},{"inputs":[{"internalType":"address","name":"owner","type":"address"},{"internalType":"address","name":"spender","type":"address"}],"name":"allowance","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"spender","type":"address"},{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"approve","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"account","type":"address"}],"name":"balanceOf","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"totalSupply","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"recipient","type":"address"},{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"transfer","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"sender","type":"address"},{"internalType":"address","name":"recipient","type":"address"},{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"transferFrom","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"nonpayable","type":"function"}]')},function(e){e.exports=JSON.parse('[{"inputs":[{"internalType":"string","name":"name","type":"string"},{"internalType":"string","name":"symbol","type":"string"},{"internalType":"address","name":"initialAccount","type":"address"},{"internalType":"uint256","name":"initialBalance","type":"uint256"}],"stateMutability":"payable","type":"constructor"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"owner","type":"address"},{"indexed":true,"internalType":"address","name":"spender","type":"address"},{"indexed":false,"internalType":"uint256","name":"value","type":"uint256"}],"name":"Approval","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"from","type":"address"},{"indexed":true,"internalType":"address","name":"to","type":"address"},{"indexed":false,"internalType":"uint256","name":"value","type":"uint256"}],"name":"Transfer","type":"event"},{"inputs":[{"internalType":"address","name":"owner","type":"address"},{"internalType":"address","name":"spender","type":"address"}],"name":"allowance","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"spender","type":"address"},{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"approve","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"owner","type":"address"},{"internalType":"address","name":"spender","type":"address"},{"internalType":"uint256","name":"value","type":"uint256"}],"name":"approveInternal","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"account","type":"address"}],"name":"balanceOf","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"account","type":"address"},{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"burn","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"decimals","outputs":[{"internalType":"uint8","name":"","type":"uint8"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"spender","type":"address"},{"internalType":"uint256","name":"subtractedValue","type":"uint256"}],"name":"decreaseAllowance","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"spender","type":"address"},{"internalType":"uint256","name":"addedValue","type":"uint256"}],"name":"increaseAllowance","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"account","type":"address"},{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"mint","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"name","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"symbol","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"totalSupply","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"recipient","type":"address"},{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"transfer","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"sender","type":"address"},{"internalType":"address","name":"recipient","type":"address"},{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"transferFrom","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"from","type":"address"},{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"value","type":"uint256"}],"name":"transferInternal","outputs":[],"stateMutability":"nonpayable","type":"function"}]')},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t._connectToMulticall=void 0;const a=n(45),i=[{constant:!0,inputs:[],name:"getCurrentBlockTimestamp",outputs:[{name:"timestamp",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"}],r={1:"0xeefba1e63905ef1d7acba5a8513c70307c1ce441",3:"0x53c43764255c17bd724f74c4ef150724ac50a3ed",4:"0x42ad527de7d4e9d9d011ac45b31d8551f8fe9821",5:"0xcA11bde05977b3631167028862bE2a173976CA11",42:"0x2cc8688c5f75e365aaeeb4ea8d6a480405a48d2a",56:"0x1Ee38d535d541c55C9dae27B12edf090C608E6Fb",97:"0x6e5BB1a5Ad6F68A8D7D6A5e47750eC15773d6042"};t._connectToMulticall=(e,t)=>(e=>e in r)(t)?new a.Contract(r[t],i,e):void 0},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ObservableEthersLiquity=void 0;const a=n(67),i=e=>{let t,n=0;return(...a)=>{const i=a[a.length-1];void 0!==i.blockNumber&&i.blockNumber>n&&(n=i.blockNumber),void 0!==t&&clearTimeout(t),t=setTimeout((()=>{e(n),t=void 0}),50)}};t.ObservableEthersLiquity=class{constructor(e){this._readable=e}watchTotalRedistributed(e){const{activePool:t,defaultPool:n}=a._getContracts(this._readable.connection),r=t.filters.EtherSent(),s=i((t=>{this._readable.getTotalRedistributed({blockTag:t}).then(e)})),o=(e,t,a)=>{e===n.address&&s(a)};return t.on(r,o),()=>{t.removeListener(r,o)}}watchTroveWithoutRewards(e,t){null!==t&&void 0!==t||(t=a._requireAddress(this._readable.connection));const{troveManager:n,borrowerOperations:r}=a._getContracts(this._readable.connection),s=n.filters.TroveUpdated(t),o=r.filters.TroveUpdated(t),l=i((n=>{this._readable.getTroveBeforeRedistribution(t,{blockTag:n}).then(e)}));return n.on(s,l),r.on(o,l),()=>{n.removeListener(s,l),r.removeListener(o,l)}}watchNumberOfTroves(e){const{troveManager:t}=a._getContracts(this._readable.connection),{TroveUpdated:n}=t.filters,r=n(),s=i((t=>{this._readable.getNumberOfTroves({blockTag:t}).then(e)}));return t.on(r,s),()=>{t.removeListener(r,s)}}watchPrice(e){throw new Error("Method not implemented.")}watchTotal(e){const{troveManager:t}=a._getContracts(this._readable.connection),{TroveUpdated:n}=t.filters,r=n(),s=i((t=>{this._readable.getTotal({blockTag:t}).then(e)}));return t.on(r,s),()=>{t.removeListener(r,s)}}watchStabilityDeposit(e,t){null!==t&&void 0!==t||(t=a._requireAddress(this._readable.connection));const{activePool:n,stabilityPool:r}=a._getContracts(this._readable.connection),{UserDepositChanged:s}=r.filters,{EtherSent:o}=n.filters,l=s(t),d=o(),c=i((n=>{this._readable.getStabilityDeposit(t,{blockTag:n}).then(e)})),u=(e,t,n)=>{e===r.address&&c(n)};return r.on(l,c),n.on(d,u),()=>{r.removeListener(l,c),n.removeListener(d,u)}}watchLUSDInStabilityPool(e){const{lusdToken:t,stabilityPool:n}=a._getContracts(this._readable.connection),{Transfer:r}=t.filters,s=[r(n.address),r(null,n.address)],o=i((t=>{this._readable.getLUSDInStabilityPool({blockTag:t}).then(e)}));return s.forEach((e=>t.on(e,o))),()=>s.forEach((e=>t.removeListener(e,o)))}watchLUSDBalance(e,t){null!==t&&void 0!==t||(t=a._requireAddress(this._readable.connection));const{lusdToken:n}=a._getContracts(this._readable.connection),{Transfer:r}=n.filters,s=[r(t),r(null,t)],o=i((n=>{this._readable.getLUSDBalance(t,{blockTag:n}).then(e)}));return s.forEach((e=>n.on(e,o))),()=>s.forEach((e=>n.removeListener(e,o)))}watchLGLDBalance(e,t){null!==t&&void 0!==t||(t=a._requireAddress(this._readable.connection));const{lgldToken:n}=a._getContracts(this._readable.connection),{Transfer:r}=n.filters,s=[r(t),r(null,t)],o=i((n=>{this._readable.getLGLDBalance(t,{blockTag:n}).then(e)}));return s.forEach((e=>n.on(e,o))),()=>s.forEach((e=>n.removeListener(e,o)))}watchLDREBalance(e,t){null!==t&&void 0!==t||(t=a._requireAddress(this._readable.connection));const{ldreToken:n}=a._getContracts(this._readable.connection),{Transfer:r}=n.filters,s=[r(t),r(null,t)],o=i((n=>{this._readable.getLDREBalance(t,{blockTag:n}).then(e)}));return s.forEach((e=>n.on(e,o))),()=>s.forEach((e=>n.removeListener(e,o)))}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.logsToString=void 0;const a=n(27),i=n(35),r=n(5),s=(e,t)=>{const n=[],a=[];return e.forEach((e=>{const i=((e,t)=>{const{address:n}=e;if(n in t)try{return{address:n,logDescription:t[n].parseLog(e)}}catch(a){console.warn("Failed to parse log:"),console.warn(e),console.warn("Caught:"),console.warn(a)}})(e,t);i?n.push(i):a.push(e)})),[n,a]},o=a.BigNumber.from(10).pow(9),l=(e,t)=>{const n=Object.entries(e.args).filter((([e])=>!e.match(/^[0-9]/))).map((([e,n])=>`${e}: ${((e,t)=>a.BigNumber.isBigNumber(e)?e.gte(o)?`${r.Decimal.fromBigNumberString(e.toHexString())}e18`:e.toString():"string"===typeof e?e===i.AddressZero?"address(0)":t&&e in t?t[e]:e:String(e))(n,t)}`));return`${e.name}({ ${n.join(", ")} })`};t.logsToString=(e,t)=>{const n=t,a=(e=>Object.fromEntries(Object.entries(e).map((([,e])=>[e.address,e.interface]))))(n),i=(e=>Object.fromEntries(Object.entries(e).map((([e,t])=>[t.address,e]))))(n),r={[e.from]:"user",...i},[o,d]=s(e.logs,a);return d.length>0&&(console.warn("Warning: not all logs were parsed. Unparsed logs:"),console.warn(d)),o.length>0?`Logs of tx ${e.transactionHash}:\n`+o.map((({address:e,logDescription:t})=>`  ${i[e]}.${l(t,r)}`)).join("\n"):`No logs were parsed in tx ${e.transactionHash}`}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.EthersLiquity=t.EthersTransactionFailedError=void 0;const a=n(5),i=n(67),r=n(148),s=n(146),o=n(149);class l extends a.TransactionFailedError{constructor(e,t){super("EthersTransactionFailedError",e,t)}}t.EthersTransactionFailedError=l;const d=async e=>{const t=await e.waitForReceipt();if("succeeded"!==t.status)throw new l("Transaction failed",t);return t.details};class c{constructor(e){this._readable=e,this.connection=e.connection,this.populate=new r.PopulatableEthersLiquity(e),this.send=new o.SendableEthersLiquity(this.populate)}static _from(e){return i._usingStore(e)?new u(s.ReadableEthersLiquity._from(e)):new c(s.ReadableEthersLiquity._from(e))}static async connect(e,t){return c._from(await i._connect(e,t))}hasStore(){return!1}getTotalRedistributed(e){return this._readable.getTotalRedistributed(e)}getTroveBeforeRedistribution(e,t){return this._readable.getTroveBeforeRedistribution(e,t)}getTrove(e,t){return this._readable.getTrove(e,t)}getNumberOfTroves(e){return this._readable.getNumberOfTroves(e)}getPrice(e){return this._readable.getPrice(e)}getTargetPeg(e){return this._readable.getTargetPeg(e)}getAfterPresale(e){return this._readable.getAfterPresale(e)}getOwnerOfBorrowOptions(e){return this._readable.getOwnerOfBorrowOptions(e)}getCurrentIndex(e){return this._readable.getCurrentIndex(e)}_getActivePool(e){return this._readable._getActivePool(e)}_getDefaultPool(e){return this._readable._getDefaultPool(e)}getTotal(e){return this._readable.getTotal(e)}getStabilityDeposit(e,t){return this._readable.getStabilityDeposit(e,t)}getRemainingStabilityPoolLQTYReward(e){return this._readable.getRemainingStabilityPoolLQTYReward(e)}getLUSDInStabilityPool(e){return this._readable.getLUSDInStabilityPool(e)}getLUSDBalance(e,t){return this._readable.getLUSDBalance(e,t)}getLQTYBalance(e,t){return this._readable.getLQTYBalance(e,t)}getLGLDBalance(e,t){return this._readable.getLGLDBalance(e,t)}getLGLDGBalance(e,t){return this._readable.getLGLDGBalance(e,t)}getLDREBalance(e,t){return this._readable.getLDREBalance(e,t)}getLDRERBalance(e,t){return this._readable.getLDRERBalance(e,t)}getUniTokenBalance(e,t){return this._readable.getUniTokenBalance(e,t)}getUniTokenAllowance(e,t){return this._readable.getUniTokenAllowance(e,t)}_getRemainingLiquidityMiningLQTYRewardCalculator(e){return this._readable._getRemainingLiquidityMiningLQTYRewardCalculator(e)}getRemainingLiquidityMiningLQTYReward(e){return this._readable.getRemainingLiquidityMiningLQTYReward(e)}getLiquidityMiningStake(e,t){return this._readable.getLiquidityMiningStake(e,t)}getTotalStakedUniTokens(e){return this._readable.getTotalStakedUniTokens(e)}getLiquidityMiningLQTYReward(e,t){return this._readable.getLiquidityMiningLQTYReward(e,t)}getCollateralSurplusBalance(e,t){return this._readable.getCollateralSurplusBalance(e,t)}getTroves(e,t){return this._readable.getTroves(e,t)}_getBlockTimestamp(e){return this._readable._getBlockTimestamp(e)}_getFeesFactory(e){return this._readable._getFeesFactory(e)}getFees(e){return this._readable.getFees(e)}getLQTYStake(e,t){return this._readable.getLQTYStake(e,t)}getUnipoolStake(e,t){return this._readable.getUnipoolStake(e,t)}getTotalStakedLQTY(e){return this._readable.getTotalStakedLQTY(e)}getFrontendStatus(e,t){return this._readable.getFrontendStatus(e,t)}openTrove(e,t,n){return this.send.openTrove(e,t,n).then(d)}closeTrove(e){return this.send.closeTrove(e).then(d)}adjustTrove(e,t,n){return this.send.adjustTrove(e,t,n).then(d)}depositCollateral(e,t){return this.send.depositCollateral(e,t).then(d)}withdrawCollateral(e,t){return this.send.withdrawCollateral(e,t).then(d)}borrowLUSD(e,t,n){return this.send.borrowLUSD(e,t,n).then(d)}repayLUSD(e,t){return this.send.repayLUSD(e,t).then(d)}setPrice(e,t){return this.send.setPrice(e,t).then(d)}updateTargetPeg(e){return this.send.updateTargetPeg(e).then(d)}toggleAfterPresale(e){return this.send.toggleAfterPresale(e).then(d)}liquidate(e,t){return this.send.liquidate(e,t).then(d)}liquidateUpTo(e,t){return this.send.liquidateUpTo(e,t).then(d)}depositLUSDInStabilityPool(e,t,n){return this.send.depositLUSDInStabilityPool(e,t,n).then(d)}withdrawLUSDFromStabilityPool(e,t){return this.send.withdrawLUSDFromStabilityPool(e,t).then(d)}withdrawGainsFromStabilityPool(e){return this.send.withdrawGainsFromStabilityPool(e).then(d)}transferCollateralGainToTrove(e){return this.send.transferCollateralGainToTrove(e).then(d)}sendLUSD(e,t,n){return this.send.sendLUSD(e,t,n).then(d)}sendLQTY(e,t,n){return this.send.sendLQTY(e,t,n).then(d)}redeemLUSD(e,t,n){return this.send.redeemLUSD(e,t,n).then(d)}claimCollateralSurplus(e){return this.send.claimCollateralSurplus(e).then(d)}stakeLQTY(e,t){return this.send.stakeLQTY(e,t).then(d)}unstakeLQTY(e,t){return this.send.unstakeLQTY(e,t).then(d)}withdrawGainsFromStaking(e){return this.send.withdrawGainsFromStaking(e).then(d)}registerFrontend(e,t){return this.send.registerFrontend(e,t).then(d)}_mintUniToken(e,t,n){return this.send._mintUniToken(e,t,n).then(d)}approveUniTokens(e,t){return this.send.approveUniTokens(e,t).then(d)}stakeUniTokens(e,t){return this.send.stakeUniTokens(e,t).then(d)}unstakeUniTokens(e,t){return this.send.unstakeUniTokens(e,t).then(d)}withdrawLQTYRewardFromLiquidityMining(e){return this.send.withdrawLQTYRewardFromLiquidityMining(e).then(d)}exitLiquidityMining(e){return this.send.exitLiquidityMining(e).then(d)}}t.EthersLiquity=c;class u extends c{constructor(e){super(e),this.store=e.store}hasStore(e){return void 0===e||e===this.connection.useStore}}},,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t){},,,function(e,t){},,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useLiquityReducer=void 0;const a=n(1),i=n(161),r=n(121);t.useLiquityReducer=(e,t)=>{const n=r.useLiquityStore(),s=a.useRef(n),o=a.useRef(t(n.state)),[,l]=a.useReducer((()=>({})),{}),d=a.useCallback((t=>{const n=e(o.current,t);i.equals(n,o.current)||(o.current=n,l())}),[e]);return a.useEffect((()=>n.subscribe((e=>d({type:"updateStore",...e})))),[n,d]),s.current!==n&&(o.current=t(n.state),s.current=n),[o.current,d]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useLiquitySelector=void 0;const a=n(1),i=n(161),r=n(121);t.useLiquitySelector=e=>{const t=r.useLiquityStore(),[,n]=a.useReducer((()=>({})),{});return a.useEffect((()=>t.subscribe((({newState:t,oldState:a})=>{i.equals(e(t),e(a))||n()}))),[t,e]),e(t.state)}},,function(e,t,n){},,,,,,,function(e,t,n){"use strict";n.r(t);var a={};n.r(a),n.d(a,"PENDING_BONDS",(function(){return Ne})),n.d(a,"BONDS",(function(){return qe})),n.d(a,"NOT_BONDED_YET",(function(){return Ye})),n.d(a,"BONDS_NAVIGATION",(function(){return Ge})),n.d(a,"BOND_CREATED",(function(){return Qe})),n.d(a,"AVAILABLE_BONDS",(function(){return We})),n.d(a,"BOND_ASSET",(function(){return Ze})),n.d(a,"BOND_NFT",(function(){return He})),n.d(a,"BREAK_EVEN_TIME",(function(){return Ve})),n.d(a,"OPTIMUM_REBOND_TIME",(function(){return ze})),n.d(a,"REBOND_RETURN",(function(){return $e})),n.d(a,"REBOND_TIME_ROI",(function(){return Je})),n.d(a,"OPTIMUM_APY",(function(){return Ke})),n.d(a,"OPTIMUM_ACCRUAL",(function(){return Xe})),n.d(a,"BOND_DEPOSIT",(function(){return et})),n.d(a,"ACCRUED_AMOUNT",(function(){return tt})),n.d(a,"MARKET_VALUE",(function(){return nt})),n.d(a,"BOND_AGE",(function(){return at})),n.d(a,"BOND_RETURN",(function(){return it})),n.d(a,"BOND_STATUS",(function(){return rt})),n.d(a,"PENDING_STATUS",(function(){return st})),n.d(a,"CANCELLED_STATUS",(function(){return ot})),n.d(a,"CLAIMED_STATUS",(function(){return lt})),n.d(a,"CANCEL_BOND",(function(){return dt})),n.d(a,"CLAIM_BOND",(function(){return ct})),n.d(a,"BLUSD_MARKET_PRICE",(function(){return ut})),n.d(a,"BLUSD_FAIR_PRICE",(function(){return pt})),n.d(a,"TOTAL_BONDS_STATISTIC",(function(){return yt})),n.d(a,"PENDING_BONDS_STATISTIC",(function(){return bt})),n.d(a,"CANCELLED_BONDS_STATISTIC",(function(){return mt})),n.d(a,"CLAIMED_BONDS_STATISTIC",(function(){return ht})),n.d(a,"BLUSD_SUPPLY",(function(){return ft})),n.d(a,"BLUSD_FLOOR_PRICE",(function(){return Tt})),n.d(a,"BLUSD_WIND_DOWN_PRICE",(function(){return gt})),n.d(a,"BLUSD_APR",(function(){return vt})),n.d(a,"BLUSD_LP_APR",(function(){return wt})),n.d(a,"BLUSD_YIELD_AMPLIFICATION",(function(){return _t})),n.d(a,"TREASURY_TOTAL",(function(){return jt})),n.d(a,"TREASURY_PENDING",(function(){return xt})),n.d(a,"TREASURY_ACQUIRED",(function(){return Ot})),n.d(a,"TREASURY_PERMANENT",(function(){return St})),n.d(a,"ESTIMATES_ONLY_NOTICE",(function(){return Et})),n.d(a,"INFINITE_ESTIMATION",(function(){return Dt}));var i=n(1),r=n.n(i),s=n(86),o=n.n(s),l=n(170),d=n.n(l),c=(n(204),n(8)),u=n(313),p=n(314),y=n(88),b=n(62),m=n(89),h=n(9);const f={frontendTag:"0x0B323f86f3558989756cE771D37E16247984f4EA",testnetOnly:!1,infuraApiKey:"df2021a443ca46a78571e29a466f72ce",bscmainnetQuickNodeUrl:"wss://neat-white-glade.bsc.quiknode.pro/a901a0bfe9f45d9de9b610efe424279c6f4de515",bsctestnetQuickNodeUrl:"wss://damp-magical-asphalt.bsc-testnet.quiknode.pro/64c8ae73caa4371f753aef9a6994d974b3afb5eb"};function T(e,t){return t in e}let g;const v=async()=>{try{return(e=>{const t={...f};if("object"===typeof e&&null!==e){if(T(e,"frontendTag")&&""!==e.frontendTag){const{frontendTag:n}=e;"string"===typeof n&&Object(h.isAddress)(n)?t.frontendTag=Object(h.getAddress)(n):(console.error("Malformed frontendTag:"),console.log(n))}if(T(e,"infuraApiKey")&&""!==e.infuraApiKey){const{infuraApiKey:n}=e;"string"===typeof n?t.infuraApiKey=n:(console.error("Malformed infuraApiKey:"),console.log(n))}if(T(e,"testnetOnly")){const{testnetOnly:n}=e;"boolean"===typeof n?t.testnetOnly=n:(console.error("Malformed testnetOnly:"),console.log(n))}if(T(e,"bscmainnetQuickNodeUrl")){const{bscmainnetQuickNodeUrl:n}=e;"string"===typeof n?t.bscmainnetQuickNodeUrl=n:(console.error("Malformed bscmainnetQuickNodeUrl:"),console.log(n))}if(T(e,"bsctestnetQuickNodeUrl")){const{bsctestnetQuickNodeUrl:n}=e;"string"===typeof n?t.bsctestnetQuickNodeUrl=n:(console.error("Malformed bsctestnetQuickNodeUrl:"),console.log(n))}}else console.error("Malformed config:"),console.log(e);return t})({frontendTag:Object({NODE_ENV:"production",PUBLIC_URL:".",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_VERSION:"020711d75e96966f2d58f9938f2698908c51260f"}).REACT_APP_FRONTEND_TAG?Object({NODE_ENV:"production",PUBLIC_URL:".",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_VERSION:"020711d75e96966f2d58f9938f2698908c51260f"}).REACT_APP_FRONTEND_TAG:f.frontendTag,infuraApiKey:Object({NODE_ENV:"production",PUBLIC_URL:".",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_VERSION:"020711d75e96966f2d58f9938f2698908c51260f"}).REACT_APP_INFURA_API_KEY?Object({NODE_ENV:"production",PUBLIC_URL:".",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_VERSION:"020711d75e96966f2d58f9938f2698908c51260f"}).REACT_APP_INFURA_API_KEY:f.infuraApiKey,testnetOnly:JSON.parse(Object({NODE_ENV:"production",PUBLIC_URL:".",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_VERSION:"020711d75e96966f2d58f9938f2698908c51260f"}).REACT_APP_TESTNET_ONLY?Object({NODE_ENV:"production",PUBLIC_URL:".",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_VERSION:"020711d75e96966f2d58f9938f2698908c51260f"}).REACT_APP_TESTNET_ONLY:"false"),bscmainnetQuickNodeUrl:Object({NODE_ENV:"production",PUBLIC_URL:".",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_VERSION:"020711d75e96966f2d58f9938f2698908c51260f"}).REACT_APP_BSC_MAINNET_QUICKNODE_URL?Object({NODE_ENV:"production",PUBLIC_URL:".",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_VERSION:"020711d75e96966f2d58f9938f2698908c51260f"}).REACT_APP_BSC_MAINNET_QUICKNODE_URL:f.bscmainnetQuickNodeUrl,bsctestnetQuickNodeUrl:Object({NODE_ENV:"production",PUBLIC_URL:".",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_VERSION:"020711d75e96966f2d58f9938f2698908c51260f"}).REACT_APP_BSC_TESTNET_QUICKNODE_URL?Object({NODE_ENV:"production",PUBLIC_URL:".",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_VERSION:"020711d75e96966f2d58f9938f2698908c51260f"}).REACT_APP_BSC_TESTNET_QUICKNODE_URL:f.bsctestnetQuickNodeUrl})}catch(e){return console.error(e),{...f}}},w=()=>(g||(g=v()),g);var _=n(0);const j=Object(i.createContext)(void 0),x=["homestead","kovan","rinkeby","ropsten","goerli","bnb","bnbt"],O=({children:e,loader:t,unsupportedNetworkFallback:n,unsupportedMainnetFallback:a})=>{const{library:r,account:s,chainId:o}=Object(c.b)(),[l,d]=Object(i.useState)(),u=Object(i.useMemo)((()=>{if(l&&r&&s&&o)try{return Object(m._connectByChainId)(r,r.getSigner(s),o,{userAddress:s,frontendTag:l.frontendTag,useStore:"blockPolled"})}catch(e){console.log("error",e)}}),[l,r,s,o]);if(Object(i.useEffect)((()=>{w().then(d)}),[]),Object(i.useEffect)((()=>{if(l&&u){const{provider:e,chainId:t}=u;if(Object(y.isBatchedProvider)(e)&&e.chainId!==t&&(e.chainId=t),Object(y.isWebSocketAugmentedProvider)(e)){const n=Object(b.a)(t);return n.name&&x.includes(n.name)?e.openWebSocket(...((e,t)=>"bnb"===e?[(null===t||void 0===t?void 0:t.bscmainnetQuickNodeUrl)||"",e]:"bnbt"===e?[(null===t||void 0===t?void 0:t.bsctestnetQuickNodeUrl)||"",e]:[`wss://${"homestead"===e?"mainnet":e}.infura.io/ws/v3/${(null===t||void 0===t?void 0:t.infuraApiKey)||""}`,e])(n.name,l)):u._isDev&&e.openWebSocket(`ws://${window.location.hostname}:8546`,t),()=>{e.closeWebSocket()}}}}),[l,u]),!l||!r||!s||!o)return Object(_.jsx)(_.Fragment,{children:t});if(l.testnetOnly&&1===o)return Object(_.jsx)(_.Fragment,{children:a});if(!u)return n?Object(_.jsx)(_.Fragment,{children:n(o)}):null;const p=m.EthersLiquity._from(u);return p.store.logging=!0,Object(_.jsx)(j.Provider,{value:{config:l,account:s,provider:r,liquity:p},children:e})},S=()=>{const e=Object(i.useContext)(j);if(!e)throw new Error("You must provide a LiquityContext via LiquityProvider");return e};const E=new(n(185).a)({});var D=n(64),C=n(17),L=n(126),A=n(173);D.b.add(C.l,C.h,C.i,C.p,C.v,C.z,C.A,C.g,C.y,C.u,C.j,C.k,L.a,C.m,C.B,C.D,C.q,C.n,C.x,C.o,C.d,C.b,C.c,C.a,C.w,C.s,C.t,C.f,L.b,C.e,C.r,C.C);const k=e=>{switch(e){case"clipboard":return["far","clipboard"];case"question-circle":return["far","question-circle"];case"globe":return["fas","globe"];case"video":return["fas","video"];default:return e}},I=({name:e,style:t,...n})=>Object(_.jsx)(A.a,{style:t,icon:k(e),...n}),R=e=>{switch(e){case"success":return Object(_.jsx)(I,{name:"check-circle",color:"success","aria-label":"Success"});case"warning":return Object(_.jsx)(I,{name:"exclamation-triangle",color:"warning","aria-label":"Warning"});case"danger":return Object(_.jsx)(I,{name:"exclamation-triangle",color:"danger","aria-label":"Danger"});case"info":return Object(_.jsx)(I,{name:"info-circle",color:"info","aria-label":"Info"})}return null},M=({intent:e,title:t,icon:n,cancelLabel:a,onCancel:i,children:r})=>Object(_.jsxs)(u.d,{sx:{p:0,borderRadius:"4px"},children:[e?Object(_.jsx)(u.b,{sx:{height:"4px",bg:e,borderRadius:"3px 3px 0 0"}}):null,Object(_.jsxs)(u.f,{sx:{justifyContent:"space-between",alignItems:"center",borderBottom:1,borderColor:"muted",p:[3,4],pb:3},children:[n||R(e),Object(_.jsx)(u.h,{as:"h1",sx:{textAlign:"center",fontSize:[2,3],px:[3,0]},children:t}),Object(_.jsx)(u.c,{variant:"icon",onClick:i,children:Object(_.jsx)(I,{name:"times",size:"lg","aria-label":a||"Cancel"})})]}),r]}),P=({title:e,cancelLabel:t,onCancel:n,retryLabel:a,onRetry:i,children:r})=>Object(_.jsxs)(M,{intent:"danger",title:e,cancelLabel:t,onCancel:n,children:[Object(_.jsx)(u.b,{sx:{p:[3,4]},children:r}),Object(_.jsxs)(u.f,{sx:{p:[3,4],borderTop:1,borderColor:"muted",justifyContent:"flex-end",flexDirection:["column","row"],alignItems:"center"},children:[Object(_.jsx)(u.c,{variant:"danger",sx:{mr:[0,3],mb:[2,0],width:["100%","auto"]},onClick:n,children:t||"Cancel"}),Object(_.jsx)(u.c,{sx:{width:["100%","auto"]},onClick:i,children:a||"Retry"})]})]}),B=({title:e,icon:t,waitReason:n,cancelLabel:a,onCancel:i,children:r})=>Object(_.jsxs)(M,{title:e,icon:t,cancelLabel:a,onCancel:i,children:[r,Object(_.jsx)(u.b,{sx:{px:[3,4],pb:[3,4]},children:Object(_.jsxs)(u.f,{sx:{flexDirection:["column","row"],bg:"muted",p:[3,4],alignItems:["center","auto"]},children:[Object(_.jsx)(u.p,{size:"3em",sx:{mr:[0,3],mb:[2,0]}}),Object(_.jsx)(u.f,{sx:{flexDirection:"column",alignItems:["center","flex-start"]},children:n})]})})]}),U=({title:e,icon:t,onCancel:n,children:a})=>Object(_.jsx)(B,{title:e,icon:t,waitReason:Object(_.jsxs)(_.Fragment,{children:[Object(_.jsx)(u.q,{sx:{fontWeight:"bold"},children:"Waiting for connection confirmation..."}),Object(_.jsx)(u.q,{children:"This won\u2019t cost you any fee"})]}),cancelLabel:"Cancel connection",onCancel:n,children:Object(_.jsx)(u.b,{sx:{p:[3,4]},children:a})}),F=()=>Object(_.jsxs)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[Object(_.jsx)("title",{children:"MetaMask extension icon"}),Object(_.jsx)("path",{d:"M8.49025 3.49976L1.49216 0.499756L0.492432 3.49976L2.49189 11.9998L21.4867 11.4998L23.4861 3.49976L21.9866 0.499756L15.4883 3.49976H8.49025Z",fill:"#763D16"}),Object(_.jsx)("path",{d:"M6.99048 11.9998H17.9875V18.9998H6.99048V11.9998Z",fill:"#333333"}),Object(_.jsx)("rect",{x:"7.99023",y:"16.9998",width:"5.99836",height:"3",fill:"#333333"}),Object(_.jsx)("path",{d:"M1.58124 10.6642C1.72755 10.8311 1.76935 11.0607 1.70665 11.2485L0.222731 15.8398C0.18093 15.9651 0.18093 16.0903 0.222731 16.1946L1.51854 20.6398C1.62304 20.9738 1.95745 21.1616 2.27095 21.0572L6.7227 19.8259C6.9108 19.7633 7.1198 19.8259 7.287 19.9511L8.06031 20.5772C8.08121 20.5981 8.08121 20.5981 8.10211 20.5981L10.0249 21.9338C10.1294 21.9964 10.2548 22.0381 10.3802 22.0381H13.5989C13.7243 22.0381 13.8497 21.9964 13.9542 21.9338L15.877 20.5981C15.8979 20.5981 15.8979 20.5772 15.9188 20.5772L16.6921 19.9511C16.8384 19.8259 17.0474 19.7842 17.2564 19.8259L21.7081 21.0572C22.0426 21.1407 22.377 20.9529 22.4606 20.6398L23.7564 16.1946C23.7982 16.0694 23.7982 15.9442 23.7564 15.8398L22.2725 11.2485C22.2098 11.0398 22.2516 10.8311 22.3979 10.6642L23.9863 3.54766C24.0072 3.44331 24.0072 3.33897 23.9654 3.23462L23.0249 0.417226C22.9204 0.0833133 22.5442 -0.0836433 22.2098 0.0415742L15.2709 2.6294C15.2082 2.65027 15.1246 2.67114 15.0619 2.67114H8.91722C8.83362 2.67114 8.77092 2.65027 8.70822 2.6294L1.76935 0.0415742C1.43494 -0.0836433 1.05874 0.0833133 0.954238 0.417226L0.0346286 3.23462C-0.00717182 3.3181 -0.00717182 3.44331 0.0137284 3.54766L1.58124 10.6642ZM13.996 14.2537L14.5185 13.1685C14.5812 13.0433 14.7484 12.9807 14.8738 13.0433L16.1278 13.6068C16.3577 13.7111 16.3368 14.0451 16.086 14.1285L14.3304 14.6503C14.1005 14.7129 13.8915 14.4833 13.996 14.2537ZM13.8915 6.71984C13.7661 6.61549 13.7661 6.40679 13.9124 6.32331L21.8126 0.918096C21.9381 0.834618 22.1262 0.876357 22.1889 1.04331L23.1712 3.73549C23.1921 3.77723 23.1921 3.81897 23.1712 3.88157L21.5618 10.0798C21.52 10.2051 21.3946 10.2677 21.2692 10.2259L16.922 9.05723C16.8802 9.05723 16.8593 9.03636 16.8384 9.01549L13.8915 6.71984ZM10.0667 19.5338L10.213 18.3233C10.213 18.2607 10.2548 18.1981 10.3175 18.1564L10.6101 17.9477C10.6519 17.9268 10.6937 17.9059 10.7355 17.9059H13.2018C13.2436 17.9059 13.3063 17.9268 13.3272 17.9477L13.6198 18.1564C13.6825 18.1981 13.7034 18.2607 13.7243 18.3233L13.8497 19.5338C13.8706 19.6798 13.7452 19.8051 13.6198 19.8051H10.2757C10.1712 19.8051 10.0667 19.6798 10.0667 19.5338ZM7.85131 13.6068L9.10532 13.0433C9.25162 12.9807 9.39792 13.0433 9.46062 13.1685L9.98313 14.2537C10.0876 14.4624 9.87863 14.692 9.64873 14.6294L7.87221 14.1077C7.64231 14.0451 7.62141 13.7111 7.85131 13.6068ZM0.807936 3.86071C0.787036 3.81897 0.807936 3.75636 0.807936 3.71462L1.79025 1.04331C1.85295 0.897226 2.04105 0.834618 2.16645 0.918096L10.0667 6.32331C10.213 6.42766 10.213 6.61549 10.0876 6.71984L7.1407 9.01549C7.1198 9.03636 7.078 9.05723 7.0571 9.05723L2.70986 10.2259C2.58445 10.2677 2.45905 10.2051 2.41725 10.0798L0.807936 3.86071Z",fill:"#F36D34"})]}),N=({children:e})=>Object(_.jsx)(u.e,{variant:"modalOverlay",children:Object(_.jsx)(u.e,{variant:"modal",children:e})}),q=(e,t)=>{switch(t.type){case"startActivating":return{type:"activating",connector:t.connector};case"finishActivating":return{type:"active",connector:"inactive"===e.type?E:e.connector};case"fail":if("inactive"!==e.type)return{type:t.error.message.match(/user rejected/i)?"rejectedByUser":t.error.message.match(/already pending/i)?"alreadyPending":"failed",connector:e.connector};break;case"retry":if("inactive"!==e.type)return{type:"activating",connector:e.connector};break;case"cancel":case"deactivate":return{type:"inactive"}}return console.warn("Ignoring connectionReducer action:"),console.log(t),console.log("  in state:"),console.log(e),e},Y=({children:e,loader:t})=>{const{activate:n,deactivate:a,active:r,error:s}=Object(c.b)(),o=function(){const{activate:e,active:t}=Object(c.b)(),[n,a]=Object(i.useState)(!1);return Object(i.useEffect)((()=>{(async()=>{try{if(!await E.isAuthorized())throw new Error("Unauthorized");await e(E,void 0,!0)}catch{a(!0)}})()}),[e]),Object(i.useEffect)((()=>{t&&a(!0)}),[t]),n}(),[l,d]=Object(i.useReducer)(q,{type:"inactive"}),p=(()=>{var e,t;return null!==(e=null===(t=window.ethereum)||void 0===t?void 0:t.isMetaMask)&&void 0!==e&&e})();return Object(i.useEffect)((()=>{s&&(d({type:"fail",error:s}),a())}),[s,a]),Object(i.useEffect)((()=>{d(r?{type:"finishActivating"}:{type:"deactivate"})}),[r]),o?"active"===l.type?Object(_.jsx)(_.Fragment,{children:e}):Object(_.jsxs)(_.Fragment,{children:[Object(_.jsx)(u.f,{sx:{height:"100vh",justifyContent:"center",alignItems:"center"},children:Object(_.jsx)(u.c,{onClick:()=>{d({type:"startActivating",connector:E}),n(E)},children:p?Object(_.jsxs)(_.Fragment,{children:[Object(_.jsx)(F,{}),Object(_.jsx)(u.b,{sx:{ml:2},children:"Connect to MetaMask"})]}):Object(_.jsxs)(_.Fragment,{children:[Object(_.jsx)(I,{name:"plug",size:"lg"}),Object(_.jsx)(u.b,{sx:{ml:2},children:"Connect wallet"})]})})}),"failed"===l.type&&Object(_.jsx)(N,{children:Object(_.jsxs)(P,{title:p?"Failed to connect to MetaMask":"Failed to connect wallet",onCancel:()=>d({type:"cancel"}),onRetry:()=>{d({type:"retry"}),n(l.connector)},children:[Object(_.jsx)(u.b,{sx:{textAlign:"center"},children:"You might need to install MetaMask or use a different browser."}),Object(_.jsxs)(u.l,{sx:{lineHeight:3},href:"https://metamask.io/download.html",target:"_blank",children:["Learn more ",Object(_.jsx)(I,{size:"xs",name:"external-link-alt"})]})]})}),"activating"===l.type&&Object(_.jsx)(N,{children:Object(_.jsx)(U,{title:p?"Confirm connection in MetaMask":"Confirm connection in your wallet",icon:p?Object(_.jsx)(F,{}):Object(_.jsx)(I,{name:"wallet",size:"lg"}),onCancel:()=>d({type:"cancel"}),children:Object(_.jsxs)(u.q,{sx:{textAlign:"center"},children:["Confirm the request that's just appeared.",p?Object(_.jsx)(_.Fragment,{children:" If you can't see a request, open your MetaMask extension via your browser."}):Object(_.jsx)(_.Fragment,{children:" If you can't see a request, you might have to open your wallet."})]})})}),"rejectedByUser"===l.type&&Object(_.jsx)(N,{children:Object(_.jsx)(P,{title:"Cancel connection?",onCancel:()=>d({type:"cancel"}),onRetry:()=>{d({type:"retry"}),n(l.connector)},children:Object(_.jsx)(u.q,{children:"To use LendrUSD, you need to connect your wallet."})})}),"alreadyPending"===l.type&&Object(_.jsx)(N,{children:Object(_.jsx)(P,{title:"Connection already requested",onCancel:()=>d({type:"cancel"}),onRetry:()=>{d({type:"retry"}),n(l.connector)},children:Object(_.jsx)(u.q,{children:"Please check your wallet and accept the connection request before retrying."})})})]}):Object(_.jsx)(_.Fragment,{children:t})};var G=n(2),Q=n(85),W=(n(153),n(184));const Z=({link:e})=>Object(_.jsxs)(u.l,{href:e,target:"_blank",children:["Learn more ",Object(_.jsx)(I,{size:"xs",name:"external-link-alt"})]}),H=({children:e,message:t,placement:n="top",link:a})=>Object(_.jsx)(W.a,{interactive:!0,placement:n,content:Object(_.jsxs)(u.d,{variant:"tooltip",children:[t,a&&Object(_.jsx)(u.b,{mt:1,children:Object(_.jsx)(Z,{link:a})})]}),children:Object(_.jsx)("span",{children:e})});var V=n(90);const z={strokeLinecap:"butt",pathColor:"white",trailColor:"rgba(255, 255, 255, 0.33)"},$={strokeWidth:10,styles:Object(V.b)({...z,pathTransitionDuration:30})},J={strokeWidth:10,styles:Object(V.b)({...z,pathTransitionDuration:.75})},K=Object(i.memo)(V.a,(({value:e},{value:t})=>e===t)),X=({state:e})=>{const[t,n]=Object(i.useState)(0);return Object(i.useEffect)((()=>{"confirmed"===e?setTimeout((()=>n(1)),40):setTimeout((()=>n(.67)),20)}),[e]),"confirmed"===e?Object(_.jsx)(K,{value:t,maxValue:1,...J,children:Object(_.jsx)(I,{name:"check",color:"white",size:"lg"})}):"failed"===e||"cancelled"===e?Object(_.jsx)(K,{value:0,maxValue:1,...J,children:Object(_.jsx)(I,{name:"times",color:"white",size:"lg"})}):Object(_.jsx)(K,{value:t,maxValue:1,...$,children:Object(_.jsx)(I,{name:"cog",color:"white",size:"lg",spin:!0})})},ee=({state:e,message:t,style:n})=>"idle"===e||"waitingForApproval"===e?null:Object(_.jsxs)(u.f,{sx:{alignItems:"center",bg:"confirmed"===e?"success":"cancelled"===e?"warning":"failed"===e?"danger":"primary",p:3,pl:4,position:"fixed",width:"100vw",bottom:0,overflow:"hidden",...n},children:[Object(_.jsx)(u.b,{sx:{mr:3,width:"40px",height:"40px"},children:Object(_.jsx)(X,{state:e})}),Object(_.jsx)(u.q,{sx:{fontSize:3,color:"white"},children:"waitingForConfirmation"===e?"Waiting for confirmation":"cancelled"===e?"Cancelled":"failed"===e?t||"Transaction failed. Please try again.":"Confirmed"})]}),te=r.a.createContext(void 0),ne=({children:e})=>{const t=Object(i.useState)({type:"idle"});return Object(_.jsx)(te.Provider,{value:t,children:e})},ae=()=>{const e=Object(i.useContext)(te);if(!e)throw new Error("You must provide a TransactionContext via TransactionProvider");return e},ie=e=>{const[t]=ae();return"idle"!==t.type&&("string"===typeof e?t.id===e:t.id.match(e))?t:{type:"idle"}},re=(e,t)=>{const[n,a]=ae();return[Object(i.useCallback)((async()=>{a({type:"waitingForApproval",id:e});try{const n=await t();a({type:"waitingForConfirmation",id:e,tx:n})}catch(n){(e=>"object"===typeof e&&null!==e&&"message"in e&&"string"===typeof e.message)(n)&&n.message.includes("User denied transaction signature")?a({type:"cancelled",id:e}):(console.error(n),a({type:"failed",id:e,error:new Error("Failed to send transaction (try again)")}))}}),[t,e,a]),n]};function se({id:e,tooltip:t,tooltipPlacement:n,showFailure:a,requires:i,send:s,children:o}){var l;const[d,c]=re(e,s),u=r.a.Children.only(o),p=(i||[]).filter((([e])=>!e)).map((([,e])=>e));"waitingForApproval"!==c.type&&"waitingForConfirmation"!==c.type||p.push("You must wait for confirmation");const y="asChildText"===(a=p.length>0?null!==(l=a)&&void 0!==l?l:t?"asTooltip":"asChildText":void 0)?r.a.cloneElement(u,{disabled:!0,variant:"danger"},p[0]):"asTooltip"===a?r.a.cloneElement(u,{disabled:!0}):r.a.cloneElement(u,{onClick:d});return"asTooltip"===a&&(t=p[0]),t?Object(_.jsx)(_.Fragment,{children:Object(_.jsx)(H,{message:t,placement:n||"right",children:y})}):y}const oe=()=>{const{provider:e}=S(),[t,n]=ae(),a="idle"!==t.type?t.id:void 0,r="waitingForConfirmation"===t.type?t.tx:void 0;return Object(i.useEffect)((()=>{if(a&&r){let t=!1,i=!1;const s=r.rawSentTransaction.hash,o=async()=>{try{const o=await r.waitForReceipt();if(t)return;const{confirmations:l}=o.rawReceipt,d=o.rawReceipt.blockNumber+l-1;if(console.log(`Block #${d} ${l}-confirms tx ${s}`),console.log(`Finish monitoring tx ${s}`),i=!0,"succeeded"===o.status)console.log(`${o}`),n({type:"confirmedOneShot",id:a});else{const i=await(async(e,t)=>{try{const n=await e.call(t,t.blockNumber);if(Object(G.hexDataLength)(n)%32===4&&"0x08c379a0"===Object(G.hexDataSlice)(n,0,4))return Q.b.decode(["string"],Object(G.hexDataSlice)(n,4))[0]}catch{return}})(e,o.rawReceipt);if(t)return;console.error(`Tx ${s} failed`),i&&console.error(`Revert reason: ${i}`),n({type:"failed",id:a,error:new Error(i?`Reverted: ${i}`:"Failed")})}}catch(o){if(t)return;i=!0,o instanceof m.EthersTransactionCancelledError?(console.log(`Cancelled tx ${s}`),n({type:"cancelled",id:a})):(console.error(`Failed to get receipt for tx ${s}`),console.error(o),n({type:"failed",id:a,error:new Error("Failed")}))}};return console.log(`Start monitoring tx ${s}`),o(),()=>{i||(n({type:"idle"}),console.log(`Cancel monitoring tx ${s}`),t=!0)}}}),[e,a,r,n]),Object(i.useEffect)((()=>{if("confirmedOneShot"===t.type&&a)n({type:"confirmed",id:a});else if("confirmed"===t.type||"failed"===t.type||"cancelled"===t.type){let e=!1;return setTimeout((()=>{e||n({type:"idle"})}),5e3),()=>{e=!0}}}),[t.type,n,a]),"idle"===t.type||"waitingForApproval"===t.type?null:Object(_.jsx)(ee,{state:t.type,message:"failed"===t.type?t.error.message:void 0})},le="#1542cd",de="#6887e7",ce={primary:le,secondary:"#186bdc",accent:"#2eb6ea",success:"#28c081",warning:"#fd9d28",danger:"#dc2c10",dangerHover:"#ff755f",info:le,invalid:"pink",text:"#293147",background:"white",muted:"#eaebed",highlight:"#efeffe",disabledOverlay:"rgba(255, 255, 255, 0.5)",modalOverlay:"rgba(0, 0, 0, 0.8)",infoOverlay:"rgba(255, 255, 255, 0.8)",cardInfoStart:"#d4d9fc",cardInfoEnd:"#cae9f9",modes:{dark:{primary:de,secondary:"#5067af",accent:"#2EA5C4",success:"#2AAF6E",warning:"#FFA03C",danger:"#E62E0B",dangerHover:"#FF8A7A",info:de,invalid:"#FF7E7E",text:"#FFFFFF",background:"#1A202C",muted:"#35528c",highlight:"#FFB8A8",disabledOverlay:"rgba(0, 0, 0, 0.5)",modalOverlay:"rgba(255, 255, 255, 0.8)",infoOverlay:"rgba(0, 0, 0, 0.8)",cardInfoStart:"#6492ee",cardInfoEnd:"#1a202c"}}},ue={display:"flex",alignItems:"center",justifyContent:"center",":enabled":{cursor:"pointer"}},pe={...ue,px:"32px",py:"12px",color:"white",border:1,fontWeight:"bold",":disabled":{opacity:.5}},ye=(e,t)=>({color:e,borderColor:e,background:"none",":enabled:hover":{color:"background",bg:t,borderColor:t}}),be={...ue,padding:0,width:"40px",height:"40px",background:"none",":disabled":{color:"text",opacity:.25}},me=18.7167,he=[0,3,4],fe=[3,3,4],Te={position:"relative",mt:fe,border:1,boxShadow:[1,null,2]},ge={...Te,padding:3,borderColor:"rgba(122,199,240,0.4)",background:"linear-gradient(200deg, var(--theme-ui-colors-cardInfoStart), var(--theme-ui-colors-cardInfoEnd))",h2:{mb:2,fontSize:me}},ve={display:"block",width:"auto",flexShrink:0,padding:2,fontSize:3},we={...ve,bg:"background",border:1,borderColor:"muted",borderRadius:0,boxShadow:[1,2]},_e={position:"fixed",left:0,top:0,width:"100vw",height:"100vh"},je={background:"linear-gradient(90deg, var(--theme-ui-colors-background), var(--theme-ui-colors-muted))"};var xe={breakpoints:["48em","52em","64em"],space:[0,4,8,16,32,64,128,256,512],fonts:{body:["system-ui","-apple-system","BlinkMacSystemFont",'"Segoe UI"',"Roboto",'"Helvetica Neue"',"sans-serif"].join(", "),heading:"inherit",monospace:"Menlo, monospace"},fontSizes:[12,14,16,20,24,32,48,64,96],fontWeights:{body:400,heading:600,light:200,medium:500,bold:600},lineHeights:{body:1.5,heading:1.25},colors:ce,borders:[0,"1px solid","2px solid"],shadows:["0","0px 4px 8px rgba(41, 49, 71, 0.1)","0px 8px 16px rgba(41, 49, 71, 0.1)"],text:{address:{fontFamily:"monospace",fontSize:1}},buttons:{primary:{...pe,bg:"primary",borderColor:"primary",":enabled:hover":{bg:"secondary",borderColor:"secondary"}},outline:{...pe,...ye("primary","secondary")},cancel:{...pe,...ye("text","text"),opacity:.8},danger:{...pe,bg:"danger",borderColor:"danger",":enabled:hover":{bg:"dangerHover",borderColor:"dangerHover"}},icon:{...be,color:"primary",":enabled:hover":{color:"accent"}},dangerIcon:{...be,color:"danger",":enabled:hover":{color:"dangerHover"}},titleIcon:{...be,color:"text",":enabled:hover":{color:"success"}},close:{cursor:"pointer"}},cards:{primary:{...Te,padding:0,borderColor:"muted",bg:"background","> h2":{display:"flex",justifyContent:"space-between",alignItems:"center",height:"56px",pl:3,py:2,pr:2,bg:"muted",fontSize:me}},info:{...ge,display:["none","block"]},infoPopup:{...ge,position:"fixed",top:0,right:3,left:3,mt:"72px",height:"80%",overflowY:"scroll"},tooltip:{fontWeight:"body",marginY:1,a:{color:"accent",":hover":{opacity:.8}}}},forms:{label:{...ve},radioLabel:{mr:4,width:"unset",svg:{mr:1}},unit:{...we,textAlign:"center",bg:"muted"},input:{...we,flex:1},editor:{}},layout:{header:{display:"flex",justifyContent:"space-between",alignItems:"stretch",position:["fixed","relative"],top:0,zIndex:1,px:[2,"12px","12px",5],py:[2,"12px","12px"],...je,boxShadow:[1,"none"]},footer:{display:"flex",alignItems:"center",justifyContent:"center",mt:fe,px:3,minHeight:"72px",bg:"muted"},main:{width:"100%",maxWidth:"1280px",mx:"auto",mt:["40px",0],mb:["40px","40px"],px:he},columns:{display:"flex",flexWrap:"wrap",justifyItems:"center"},left:{pr:he,width:["100%","58%"]},right:{width:["100%","42%"]},actions:{justifyContent:"flex-end",mt:2,button:{ml:2}},disabledOverlay:{position:"absolute",left:0,top:0,width:"100%",height:"100%",bg:"disabledOverlay"},modalOverlay:{..._e,bg:"modalOverlay",display:"flex",justifyContent:"center",alignItems:"center"},modal:{padding:3,width:["100%","40em"]},infoOverlay:{..._e,display:["block","none"],bg:"infoOverlay"},infoMessage:{display:"flex",justifyContent:"center",m:3,alignItems:"center",minWidth:"128px"},sidenav:{display:["flex","none"],flexDirection:"column",p:0,m:0,borderColor:"muted",mr:"25vw",height:"100%",...je},badge:{border:0,borderRadius:3,p:1,px:2,backgroundColor:"muted",color:"slate",fontSize:1,fontWeight:"body"}},styles:{root:{fontFamily:"body",lineHeight:"body",fontWeight:"body",height:"100%","#root":{height:"100%"}},a:{color:"primary",":hover":{color:"accent"},textDecoration:"none",fontWeight:"bold"},progress:{color:"success"}},links:{nav:{px:2,py:1,fontWeight:"medium",fontSize:2,textTransform:"uppercase",letterSpacing:"2px",width:["100%","auto"],mt:[3,"auto"]}}},Oe=n(174),Se=n(108),Ee=n(28),De=n(36),Ce=n(5),Le=n(6);const Ae="USRE",ke="LNDRr",Ie="LP Tokens",Re="LNDR",Me="bUSDL",Pe={1:"ETH",5:"tETH",56:"BNB",97:"tBNB",17:"dETH"},Be=e=>e.substr(0,6)+"..."+e.substr(-4);var Ue=n(177);var Fe=function(){const{library:e}=Object(c.b)();return t=>{!async function(){if("true"!==Object({NODE_ENV:"production",PUBLIC_URL:".",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_VERSION:"020711d75e96966f2d58f9938f2698908c51260f"}).REACT_APP_DEMO_MODE&&e&&e.provider.request)try{var n;await(null===(n=e.provider)||void 0===n?void 0:n.request({method:"wallet_switchEthereumChain",params:[{chainId:`0x${Ue[t].chainId.toString(16)}`}]}))}catch{var a;await(null===(a=e.provider)||void 0===a?void 0:a.request({method:"wallet_addEthereumChain",params:[{chainId:`0x${Ue[t].chainId.toString(16)}`,chainName:Ue[t].chainName,nativeCurrency:Ue[t].nativeCurrency,rpcUrls:[Ue[t].chainRpcUrl],blockExplorerUrls:Ue[t].chainBlockExplorerUrls}]}))}}()}};const Ne={term:"Pending bonds",description:"Your active bonds which are accruing bUSDL and can be claimed or cancelled."},qe={term:"Bonds",description:"List of your pending bonds and bonds you have claimed or cancelled in the past."},Ye={term:"You don't have any pending bonds.",description:"You can bond USRE to obtain Boosted USRE (bUSDL) - a yield-amplified version of USRE."},Ge={term:"Bonds"},Qe={term:"Bond created",description:"The date you created your bond. The bUSDL accrual starts at 0 and increases over time."},We={term:"Available bonds",description:"The types of bonds you can create."},Ze={term:"Asset",description:"The type of token accepted for bonding."},He={term:"NFT",description:"Bonds are represented as unique visual NFTs. The NFT image evolves when your bond is claimed or cancelled."},Ve={term:"Break-even time",description:"Estimated time at which the bond will have accrued enough bUSDL to offset the USRE cost of the bond, under current market prices."},ze={term:"Rebond time",description:"Estimated optimum time to claim the bond, sell the bUSDL for USRE, and then bond again, to maximize your return under current market prices."},$e={term:`${ze.term} return`,description:`Estimated return from selling your accrued bUSDL to USRE at the ${ze.term}, minus the initial USRE cost of the bond, under current market prices.`},Je={term:`${ze.term} ROI`,description:`Estimated ROI of selling your accrued bUSDL to USRE at the ${ze.term}, minus the initial USRE cost of the bond, under current market prices.`},Ke={term:"Max APR",description:`Estimated APY of continuously bonding and claiming at the ${ze.term}, under current market prices. Rebonding at other times could lead to a lower APY.`},Xe={term:"Rebond accrual",description:`The required amount of bUSDL to accrue for the ${ze.term}, under current market prices.`,link:"https://docs.chickenbonds.org/faq/economic-design#_44lrt4qpho3a"},et={term:"Deposit",description:"The amount deposited into the bond, which can be fully recovered by cancelling the bond."},tt={term:"Accruing",description:"The amount of bUSDL this bond has accrued so far."},nt={term:"Accrued value",description:"Current market value of the accrued bUSDL. The bUSDL market price can fluctuate but will always be higher than the floor price under rational market conditions."},at={term:"Age",description:"Time elapsed since the creation of the bond."},it={term:"Claim-now return",description:"Expected USRE gained from claiming the bond now and selling the bUSDL for USRE and deducting the initial cost of the bond, under current market prices.",link:"https://docs.chickenbonds.org/faq/economic-design#_44lrt4qpho3a"},rt={term:"Status",description:"One of three values: Pending, Cancelled, or Claimed."},st={term:"Pending",description:"An active bond which is accruding bUSDL and can be cancelled or claimed."},ot={term:"Cancelled",description:"A bond which you cancelled."},lt={term:"Claimed",description:"A bond which you claimed."},dt={term:"Cancel bond",description:"A bond can be cancelled at any time to recover the initially deposited USRE amount while forgoing the accrued bUSDL.",link:"https://docs.chickenbonds.org/faq/basic-usage#_rwpo6dhx26fq"},ct={term:"Claim bond",description:"A bond can be claimed at any time to forgo the initially deposited USRE amount and gain the accrued bUSDL.",link:"https://docs.chickenbonds.org/faq/basic-usage#_2c022erjceom"},ut={term:"Market price",description:"The current price of bUSDL according to the bUSDL Curve pool."},pt={term:"Fair price",description:"An estimated range of the market price of bUSDL based on the current yield amplification. The lower bound excludes the Pending bucket, the upper bound factors all buckets.",link:"https://docs.chickenbonds.org/faq/economic-design#how-is-the-fair-price-calculated"},yt={term:"Total bonds",description:"The total number of bonds including: cancelled, claimed and pending."},bt={term:"Pending bonds",description:"The current number of active bonds in the system which are not yet claimed or cancelled."},mt={term:"Cancelled bonds",description:"The total number of bonds which were cancelled."},ht={term:"Claimed bonds",description:"The total number of bonds which were claimed."},ft={term:"Total supply",description:"The total amount of bUSDL in circulation. Not including pending bonds accrued bUSDL."},Tt={term:"Floor price",description:"The amount of USRE that an arbitrageur could redeem bUSDL for thus creating a lower bound bUSDL market price.",link:"https://docs.chickenbonds.org/faq/economic-design#_c2c3valbf2bj-1"},gt={term:"Net asset value",description:"The protocol supports a graceful wind down mechanism for migration purposes, whereby Yearn Finance governance can trigger a special function which moves the Permanent bucket USRE into the Reserve, thus enabling all bUSDL to be redeemed for a higher floor price.",link:"https://docs.chickenbonds.org/faq/potential-future-system-migration#what-is-the-wind-down-functionality"},vt={term:"bUSDL APR",description:"The APR of bUSDL, based on the yield generated from each bucket in the Treasury.",link:"https://docs.chickenbonds.org/faq/economic-design#_c2c3valbf2bj"},wt={term:"LP APR",description:"The APR from providing liquidity to the bUSDL/USRE-3CRV pool. A combination of USRE rewards from Chicken-in fees and Curve rewards.",link:"https://docs.chickenbonds.org/faq/economic-design#_1qcmo1v5zahs"},_t={term:"Yield amplification",description:"The bUSDL token generates a yield which is a multiple of the Stability Pool yield. It is derived from the total protocol yield which is being diverted to the Reserve bucket.",link:"https://docs.chickenbonds.org/faq/economic-design#yield-amplification"},jt={term:"Total",description:"The total amount of USRE held by the protocol within the three buckets (Pending, Reserve, Permanent).",link:"https://docs.chickenbonds.org/faq/technical-design#_ydtvzh456fiz"},xt={term:"Pending",description:"Contains the deposited USRE of the users while they bond. Pending bonds can be claimed or cancelled any time, moving the USRE into the Reserve and Permanent buckets, or back to the bonder, respectively.",link:"https://docs.chickenbonds.org/faq/technical-design#_ydtvzh456fiz"},Ot={term:"Reserve",description:"Contains a portion of the USRE obtained from claimed bonds and captures the yield from the entire Treasury. It acts as a reserve backing the bUSDL supply. bUSDL can be redeemed for a pro-rata share of the USRE held in the Reserve bucket.",link:"https://docs.chickenbonds.org/faq/technical-design#_ydtvzh456fiz"},St={term:"Permanent",description:"Contains a portion of the USRE obtained from claimed bonds which contributes a permanent price premium over USRE. The USRE in this bucket is not redeemable.",link:"https://docs.chickenbonds.org/faq/technical-design#_ydtvzh456fiz"},Et={description:"These metrics are estimations based on the current bUSDL market price",link:"https://docs.chickenbonds.org/faq/economic-design#_lnta1xbq350e"},Dt={description:"The bUSDL market price premium is currently too low to make bonding profitable. Bonds will be profitable again if the premium returns. Buying bUSDL from the market currently generates a higher return than bonding.",link:"https://docs.chickenbonds.org/faq/basic-usage#what-should-the-market-price-be-in-order-for-bonding-to-be-profitable"},Ct=Object(i.createContext)(null),Lt=()=>{const e=Object(i.useContext)(Ct);if(null===e)throw new Error("You must add a <BondViewProvider> into the React tree");return e},At=(st.term,ot.term,lt.term,{BLUSD_AMM_ADDRESS:null,BLUSD_AMM_STAKING_ADDRESS:null,BLUSD_TOKEN_ADDRESS:null,BOND_NFT_ADDRESS:null,CHICKEN_BOND_MANAGER_ADDRESS:null,LUSD_OVERRIDE_ADDRESS:null,BLUSD_LP_ZAP_ADDRESS:null}),kt={},It=Object(i.createContext)(void 0),Rt=()=>{const e=Object(i.useContext)(It);if(void 0===e)throw new Error("You must add a <BondAddressesProvider> into the React tree");return e},Mt=({children:e})=>{var t;const{chainId:n}=Object(c.b)(),a=void 0!==n&&null!==(t=kt[n])&&void 0!==t?t:At;return Object(_.jsx)(It.Provider,{value:a,children:e})},Pt=({accountBalance:e,lusdBalance:t,lqtyBalance:n,uniTokenBalance:a})=>({accountBalance:e,lusdBalance:t,lqtyBalance:n,uniTokenBalance:a}),Bt=()=>{const{library:e,account:t,chainId:n}=Object(c.b)(),[a,r]=Object(i.useState)(),{accountBalance:s,lusdBalance:o,lqtyBalance:l,uniTokenBalance:d}=Object(Le.useLiquitySelector)(Pt),{bLusdBalance:p,lusdBalance:y}=Lt(),{LUSD_OVERRIDE_ADDRESS:b}=Rt(),m=Fe();return Object(i.useEffect)((()=>{e&&(async()=>{if(e)try{const t=await e.getNetwork();r(t.name)}catch(t){console.error("Error getting chainId:",t)}})()}),[e]),Object(i.useEffect)((()=>{a&&m(a)}),[a]),Object(_.jsxs)(u.b,{sx:{display:["none","flex"]},children:[Object(_.jsxs)(u.f,{sx:{alignItems:"center"},children:[Object(_.jsx)(I,{name:"globe",size:"lg"}),Object(_.jsx)(u.f,{sx:{ml:3,mr:4,flexDirection:"column"},children:Object(_.jsxs)(u.o,{value:a,onChange:e=>r(e.target.value),sx:{display:"block",paddingRight:"30px",width:"fit-content",border:0},children:[Object(_.jsx)("option",{value:"bnb",style:{color:"black"},children:"BNB Smart Chain"}),Object(_.jsx)("option",{value:"homestead",style:{color:"black"},children:"Ethereum"}),Object(_.jsx)("option",{value:"bnbt",style:{color:"black"},children:"BSC Testnet"}),Object(_.jsx)("option",{value:"goerli",style:{color:"black"},children:"Goerli Testnet"}),Object(_.jsx)("option",{disabled:!0,children:"More Coming Soon"})]})})]}),Object(_.jsxs)(u.f,{sx:{alignItems:"center"},children:[Object(_.jsx)(I,{name:"user-circle",size:"lg"}),Object(_.jsxs)(u.f,{sx:{ml:3,mr:4,flexDirection:"column"},children:[Object(_.jsx)(u.h,{sx:{fontSize:1},children:"Connected as"}),Object(_.jsx)(u.q,{as:"span",sx:{fontSize:1},children:Be(null!==t&&void 0!==t?t:"")})]})]}),Object(_.jsxs)(u.f,{sx:{alignItems:"center"},children:[Object(_.jsx)(I,{name:"wallet",size:"lg"}),[[`${Pe[n||1]}`,s]].map((([e,t],n)=>Object(_.jsxs)(u.f,{sx:{ml:3,flexDirection:"column"},children:[Object(_.jsx)(u.h,{sx:{fontSize:1},children:e}),Object(_.jsx)(u.q,{sx:{fontSize:1},children:t.prettify()})]},n)))]})]})};var Ut=n(142);const Ft=({link:e,placement:t="right",tooltip:n,size:a="1x"})=>Object(_.jsxs)(H,{message:n,placement:t,link:e,children:["\xa0",Object(_.jsx)(I,{name:"question-circle",size:a})]}),Nt=({lexicon:e,children:t})=>Object(_.jsxs)(u.f,{sx:{borderBottom:1,borderColor:"rgba(0, 0, 0, 0.1)"},children:[Object(_.jsxs)(u.f,{sx:{alignItems:"center",justifyContent:"flex-start",flex:1.2,fontWeight:200},children:[Object(_.jsx)(u.f,{children:e.term}),e.term&&Object(_.jsx)(Ft,{size:"xs",tooltip:e.description,link:e.link})]}),Object(_.jsx)(u.f,{sx:{justifyContent:"flex-end",flex:1,alignItems:"center"},children:t})]}),qt={term:"Borrowing Fee",description:"The Borrowing Fee is a one-off fee charged as a percentage of the borrowed amount (in USRE) and is part of a Trove's debt. The fee varies between 0.5% and 5% depending on USRE redemption volumes."},Yt=e=>({term:"TVL",description:`The Total Value Locked (TVL) is the total value of ${Pe[e||1]} locked as collateral in the system, given in ${Pe[e||1]} and USD.`}),Gt={term:"Staked LNDRr",description:"The total amount of LNDRr that is staked for earning fee revenue."},Qt=e=>({term:"Total Collateral Ratio",description:`The ratio of the Dollar value of the entire system collateral at the current ${Pe[e||1]}:USD price, to the entire system debt.`}),Wt={term:"Recovery Mode",description:"Recovery Mode is activated when the Total Collateral Ratio (TCR) falls below 150%. When active, your Trove can be liquidated if its collateral ratio is below the TCR. The maximum collateral you can lose from liquidation is capped at 110% of your Trove's debt. Operations are also restricted that would negatively impact the TCR."},Zt={term:"USRE in Stability Pool",description:"The total USRE currently held in the Stability Pool, expressed as an amount and a fraction of the USRE supply."},Ht={term:"Kickback Rate",description:"The fraction of LNDRr that will be paid out to Stability Pool stakers using this frontend. 100% = No fee. </br>Note: this fee ONLY applies to staking rewards, and is NOT taken from your staked amount."},Vt=e=>({term:Pe[e||1],description:"Native token of this blockchain."}),zt={term:"USRE",description:"Lendr Network's stablecoin for the US real estate market."},$t={term:"LNDRr",description:"The Lendr reward token for the LendrUSRE stablecoin (USRE). Stake this token to receive fees from the LendrUSRE lending system."},Jt={term:"Troves",description:"The total number of active Troves in the system."},Kt={term:"USRE supply",description:"The total USRE minted by the Liquity Protocol."},Xt={term:"Price Target",description:"The target price peg for USRE calculated using our custom USD Housing Index (CPI US Housing below)."},en={term:"CPI US Housing",description:"Our custom unbiased US Housing Index based on over 10 million data points from 30+ verified sources."},tn=({accountBalance:e,lusdBalance:t,lqtyBalance:n,lgldBalance:a,lgldgBalance:i,ldreBalance:r,ldrerBalance:s})=>({accountBalance:e,lusdBalance:t,lqtyBalance:n,lgldBalance:a,lgldgBalance:i,ldreBalance:r,ldrerBalance:s}),nn=()=>{const{chainId:e}=Object(c.b)(),{accountBalance:t,lusdBalance:n,lqtyBalance:a,lgldBalance:i,lgldgBalance:r,ldreBalance:s,ldrerBalance:o}=Object(Le.useLiquitySelector)(tn);return Object(_.jsxs)(u.b,{sx:{mb:3},children:[Object(_.jsx)(u.h,{children:"My Wallet Balances"}),Object(_.jsx)(Nt,{lexicon:Vt(e),children:t.prettify(4)}),Object(_.jsx)(Nt,{lexicon:zt,children:n.prettify()}),Object(_.jsx)(Nt,{lexicon:$t,children:a.prettify()})]})},an=({numberOfTroves:e,price:t,total:n,lusdInStabilityPool:a,borrowingRate:i,redemptionRate:r,totalStakedLQTY:s,frontend:o,targetPeg:l,currentIndex:d})=>({numberOfTroves:e,price:t,targetPeg:l,currentIndex:d,total:n,lusdInStabilityPool:a,borrowingRate:i,redemptionRate:r,totalStakedLQTY:s,kickbackRate:"registered"===o.status?o.kickbackRate:null}),rn=({variant:e="info",showBalances:t})=>{const{liquity:{connection:{version:n,deploymentDate:a,frontendTag:i}}}=S(),{numberOfTroves:r,price:s,targetPeg:o,currentIndex:l,lusdInStabilityPool:d,total:p,borrowingRate:y,totalStakedLQTY:b,kickbackRate:m}=Object(Le.useLiquitySelector)(an),h=p.debt.nonZero&&new Ce.Percent(d.div(p.debt)),f=new Ce.Percent(p.collateralRatio(s)),T=new Ce.Percent(y),g=i===Ut.a?"100":null===m||void 0===m?void 0:m.mul(100).prettify(),{chainId:v}=Object(c.b)();return Object(_.jsxs)(u.d,{variant:e,children:[Object(_.jsx)(nn,{}),Object(_.jsx)(u.h,{children:"LendrUSRE Statistics"}),Object(_.jsx)(u.h,{as:"h2",sx:{mt:3,fontWeight:"body"},children:"Protocol"}),Object(_.jsx)(Nt,{lexicon:Xt,children:o.toString(8)}),Object(_.jsx)(Nt,{lexicon:en,children:l.toString(8)}),Object(_.jsx)(Nt,{lexicon:qt,children:T.toString(2)}),Object(_.jsxs)(Nt,{lexicon:Yt(v),children:[p.collateral.shorten()," ",Object(_.jsxs)(u.q,{sx:{fontSize:1},children:["\xa0",Pe[v||1]]}),Object(_.jsxs)(u.q,{sx:{fontSize:1},children:["\xa0($",Ce.Decimal.from(p.collateral.mul(s)).shorten(),")"]})]}),Object(_.jsx)(Nt,{lexicon:Jt,children:Ce.Decimal.from(r).prettify(0)}),Object(_.jsx)(Nt,{lexicon:Kt,children:p.debt.shorten()}),h&&Object(_.jsxs)(Nt,{lexicon:Zt,children:[d.shorten(),Object(_.jsxs)(u.q,{sx:{fontSize:1},children:["\xa0(",h.toString(1),")"]})]}),Object(_.jsx)(Nt,{lexicon:Gt,children:b.shorten()}),Object(_.jsx)(Nt,{lexicon:Qt(v),children:f.prettify()}),Object(_.jsx)(Nt,{lexicon:Wt,children:p.collateralRatioIsBelowCritical(s)?Object(_.jsx)(u.b,{color:"danger",children:"Yes"}):"No"}),Object(_.jsx)(u.h,{as:"h2",sx:{mt:3,fontWeight:"body"},children:"Frontend"}),g&&Object(_.jsxs)(Nt,{lexicon:Ht,children:[g,"%"]})]})},sn=({total:e,price:t})=>({total:e,price:t}),on=()=>{const{price:e,total:t}=Object(Le.useLiquitySelector)(sn),[n,a]=Object(i.useState)(!1),r=Object(i.useRef)(null);return Object(_.jsxs)(_.Fragment,{children:[Object(_.jsxs)(u.c,{onClick:()=>a(!n),variant:"icon",sx:{position:"relative",display:["block","none"]},children:[Object(_.jsx)(I,{name:"info-circle",size:"2x"}),t.collateralRatioIsBelowCritical(e)&&Object(_.jsx)(u.f,{sx:{position:"absolute",right:0,top:0,width:"100%",height:"100%",alignItems:"flex-start",justifyContent:"flex-end",pt:"2px",color:"danger"},children:Object(_.jsx)(I,{name:"exclamation-circle",size:"xs"})})]}),n&&Object(_.jsx)(u.e,{variant:"infoOverlay",ref:r,onClick:e=>{e.target===r.current&&a(!1)},children:Object(_.jsx)(rn,{variant:"infoPopup",showBalances:!0})})]})},ln=({height:e,...t})=>Object(_.jsx)(u.b,{sx:{lineHeight:0},...t,children:Object(_.jsx)(u.l,{href:"https://lendr.network/",target:"_blank",children:Object(_.jsx)(u.i,{src:"./lusd-icon.png",sx:{height:e}})})}),dn=e=>Object(_.jsx)(Se.b,{exact:!0,...e}),cn=e=>Object(_.jsx)(u.m,{...e,as:dn}),un=()=>Object(_.jsxs)(u.b,{as:"nav",sx:{display:["none","flex"],alignItems:"center",flex:1},children:[Object(_.jsxs)(u.f,{children:[Object(_.jsx)(u.m,{href:"https://usdl.lendr.network/#/lendrusd",children:"LendrUSD"}),Object(_.jsx)(cn,{to:"/lendrgold",children:"LendrGold"}),Object(_.jsx)(cn,{to:"/lendrre",children:"LendrUSRE"})]}),Object(_.jsx)(u.f,{sx:{justifyContent:"flex-end",mr:3,flex:1},children:Object(_.jsx)(u.l,{href:"https://lendr.network/how-it-works/",target:"_blank",sx:{color:"inherit "},children:"Video Guides"})})]}),pn=()=>{const[e,t]=Object(i.useState)(!1),n=Object(i.useRef)(null);return e?Object(_.jsx)(u.e,{variant:"infoOverlay",ref:n,onClick:e=>{e.target===n.current&&t(!1)},sx:{zIndex:999999},children:Object(_.jsxs)(u.f,{variant:"layout.sidenav",children:[Object(_.jsx)(u.c,{sx:{position:"fixed",right:"25vw",m:2},variant:"icon",onClick:()=>t(!1),children:Object(_.jsx)(I,{name:"times",size:"2x"})}),Object(_.jsx)(ln,{height:"32px",p:2}),Object(_.jsxs)(u.b,{as:"nav",sx:{m:3,mt:1,p:0},onClick:()=>t(!1),children:[Object(_.jsx)(u.m,{href:"https://usdl.lendr.network/#/lendrusd",children:"LendrUSD"}),Object(_.jsx)(cn,{to:"/lendrgold",children:"LendrGold"}),Object(_.jsx)(cn,{to:"/lendrre",children:"LendrUSRE"})]}),Object(_.jsx)(u.b,{sx:{my:[2,3],width:"100%",height:"0px",borderTop:["1px solid lightgrey","none"]}}),Object(_.jsx)(u.b,{sx:{margin:"25px",mt:1,p:0},children:Object(_.jsx)(u.l,{href:"https://lendr.network/how-it-works/",target:"_blank",sx:{color:"inherit "},children:"Video Guides"})})]})}):Object(_.jsx)(u.c,{sx:{display:["flex","none"]},variant:"icon",onClick:()=>t(!0),children:Object(_.jsx)(I,{name:"bars",size:"lg"})})};var yn,bn,mn,hn,fn,Tn,gn,vn,wn,_n,jn,xn,On,Sn,En,Dn,Cn,Ln=n(178);function An(){return(An=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function kn({title:e,titleId:t,...n},a){return i.createElement("svg",An({className:"sun",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",x:"0px",y:"0px",viewBox:"0 0 496 496",style:{enableBackground:"new 0 0 496 496"},xmlSpace:"preserve",ref:a,"aria-labelledby":t},n),e?i.createElement("title",{id:t},e):null,yn||(yn=i.createElement("rect",{x:152.994,y:58.921,transform:"matrix(0.3827 0.9239 -0.9239 0.3827 168.6176 -118.5145)",width:40.001,height:16})),bn||(bn=i.createElement("rect",{x:46.9,y:164.979,transform:"matrix(0.9239 0.3827 -0.3827 0.9239 71.29 -12.4346)",width:40.001,height:16})),mn||(mn=i.createElement("rect",{x:46.947,y:315.048,transform:"matrix(0.9239 -0.3827 0.3827 0.9239 -118.531 50.2116)",width:40.001,height:16})),hn||(hn=i.createElement("rect",{x:164.966,y:409.112,transform:"matrix(-0.9238 -0.3828 0.3828 -0.9238 168.4872 891.7491)",width:16,height:39.999})),fn||(fn=i.createElement("rect",{x:303.031,y:421.036,transform:"matrix(-0.3827 -0.9239 0.9239 -0.3827 50.2758 891.6655)",width:40.001,height:16})),Tn||(Tn=i.createElement("rect",{x:409.088,y:315.018,transform:"matrix(-0.9239 -0.3827 0.3827 -0.9239 701.898 785.6559)",width:40.001,height:16})),gn||(gn=i.createElement("rect",{x:409.054,y:165.011,transform:"matrix(-0.9239 0.3827 -0.3827 -0.9239 891.6585 168.6574)",width:40.001,height:16})),vn||(vn=i.createElement("rect",{x:315.001,y:46.895,transform:"matrix(0.9238 0.3828 -0.3828 0.9238 50.212 -118.5529)",width:16,height:39.999})),wn||(wn=i.createElement("path",{d:"M248,88c-88.224,0-160,71.776-160,160s71.776,160,160,160s160-71.776,160-160S336.224,88,248,88z M248,392 c-79.4,0-144-64.6-144-144s64.6-144,144-144s144,64.6,144,144S327.4,392,248,392z"})),_n||(_n=i.createElement("rect",{x:240,width:16,height:72})),jn||(jn=i.createElement("rect",{x:62.097,y:90.096,transform:"matrix(0.7071 0.7071 -0.7071 0.7071 98.0963 -40.6334)",width:71.999,height:16})),xn||(xn=i.createElement("rect",{y:240,width:72,height:16})),On||(On=i.createElement("rect",{x:90.091,y:361.915,transform:"matrix(-0.7071 -0.7071 0.7071 -0.7071 -113.9157 748.643)",width:16,height:71.999})),Sn||(Sn=i.createElement("rect",{x:240,y:424,width:16,height:72})),En||(En=i.createElement("rect",{x:361.881,y:389.915,transform:"matrix(-0.7071 -0.7071 0.7071 -0.7071 397.8562 960.6281)",width:71.999,height:16})),Dn||(Dn=i.createElement("rect",{x:424,y:240,width:72,height:16})),Cn||(Cn=i.createElement("rect",{x:389.911,y:62.091,transform:"matrix(0.7071 0.7071 -0.7071 0.7071 185.9067 -252.6357)",width:16,height:71.999})))}const In=i.forwardRef(kn);var Rn;n.p;function Mn(){return(Mn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function Pn({title:e,titleId:t,...n},a){return i.createElement("svg",Mn({className:"moon",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",x:"0px",y:"0px",viewBox:"0 0 49.739 49.739",style:{enableBackground:"new 0 0 49.739 49.739"},xmlSpace:"preserve",ref:a,"aria-labelledby":t},n),e?i.createElement("title",{id:t},e):null,Rn||(Rn=i.createElement("path",{d:"M25.068,48.889c-9.173,0-18.017-5.06-22.396-13.804C-3.373,23.008,1.164,8.467,13.003,1.979l2.061-1.129l-0.615,2.268        c-1.479,5.459-0.899,11.25,1.633,16.306c2.75,5.493,7.476,9.587,13.305,11.526c5.831,1.939,12.065,1.492,17.559-1.258v0        c0.25-0.125,0.492-0.258,0.734-0.391l2.061-1.13l-0.585,2.252c-1.863,6.873-6.577,12.639-12.933,15.822        C32.639,48.039,28.825,48.888,25.068,48.889z M12.002,4.936c-9.413,6.428-12.756,18.837-7.54,29.253        c5.678,11.34,19.522,15.945,30.864,10.268c5.154-2.582,9.136-7.012,11.181-12.357c-5.632,2.427-11.882,2.702-17.752,0.748        c-6.337-2.108-11.473-6.557-14.463-12.528C11.899,15.541,11.11,10.16,12.002,4.936z"})))}const Bn=i.forwardRef(Pn);n.p,n(300);const Un=({dark:e,onClick:t})=>Object(_.jsxs)(_.Fragment,{children:[Object(_.jsx)("input",{type:"checkbox",id:"darkmode-toggle",onChange:t,checked:e}),Object(_.jsxs)("label",{htmlFor:"darkmode-toggle",id:"darkmod-label",children:[Object(_.jsx)(In,{}),Object(_.jsx)(Bn,{})]})]}),Fn=()=>{const[e,t]=Object(Ln.b)();return Object(_.jsx)(Un,{onClick:()=>{t("default"===e?"dark":"default")},dark:"dark"===e})},Nn=({frontend:e})=>({frontend:e}),qn=({children:e})=>{const{config:{frontendTag:t}}=S(),{frontend:n}=Object(Le.useLiquitySelector)(Nn),a=t===Ut.a||"registered"===n.status;return Object(_.jsxs)(u.e,{variant:"header",children:[Object(_.jsxs)(u.f,{sx:{alignItems:"center",flex:1},children:[Object(_.jsx)(ln,{height:"32px"}),Object(_.jsx)(u.b,{sx:{mx:[2,3],width:"0px",height:"100%",borderLeft:["none","1px solid lightgrey"]}}),a&&Object(_.jsxs)(_.Fragment,{children:[Object(_.jsx)(pn,{}),Object(_.jsx)(un,{})]}),Object(_.jsx)(u.b,{sx:{mx:[2,3],width:"0px",height:"100%",borderLeft:["none","1px solid lightgrey"]}})]}),Object(_.jsxs)(u.f,{children:[Object(_.jsx)(u.l,{sx:{position:"relative",mr:2,mt:"3px",display:["block","none"]},href:"https://lendr.network/how-it-works/",target:"_blank",children:Object(_.jsx)(I,{name:"video",size:"2x"})}),e,Object(_.jsx)(u.b,{sx:{height:"100%",marginLeft:["0px","0px","15px"],borderLeft:["none","1px solid lightgrey"]},children:Object(_.jsx)(u.f,{sx:{alignItems:"center",height:"100%"},children:Object(_.jsx)(Fn,{})})})]})]})},Yn=({children:e})=>Object(_.jsx)(u.b,{sx:{display:"flex",flexDirection:"column",justifyContent:"space-around",mb:[2,3],p:3,border:1,borderRadius:"8px",borderColor:"accent",boxShadow:2,bg:"rgba(46, 182, 234, 0.05)"},children:Object(_.jsxs)(u.f,{sx:{alignItems:"center"},children:[Object(_.jsx)(I,{name:"info-circle",size:"lg"}),Object(_.jsx)(u.q,{sx:{ml:2},children:e})]})}),Gn=({children:e})=>Object(_.jsx)(u.q,{sx:{fontWeight:"bold",whiteSpace:"nowrap"},children:e}),Qn=({sx:e,label:t,labelId:n,labelFor:a,children:i,infoIcon:r})=>Object(_.jsxs)(u.f,{sx:{alignItems:"stretch",position:"relative",width:"100%",...e},children:[Object(_.jsx)(u.k,{id:n,htmlFor:a,sx:{p:0,pl:3,pt:"12px",position:"absolute",fontSize:1,border:1,borderColor:"transparent"},children:Object(_.jsxs)(u.f,{sx:{alignItems:"center"},children:[t,r&&r]})}),i]}),Wn=({sx:e,value:t})=>Object(_.jsxs)(u.q,{sx:e,children:["(","++"===t?Object(_.jsx)(I,{name:"angle-double-up"}):"--"===t?Object(_.jsx)(I,{name:"angle-double-down"}):(null===t||void 0===t?void 0:t.startsWith("+"))?Object(_.jsxs)(_.Fragment,{children:[Object(_.jsx)(I,{name:"angle-up"})," ",t.substr(1)]}):(null===t||void 0===t?void 0:t.startsWith("-"))?Object(_.jsxs)(_.Fragment,{children:[Object(_.jsx)(I,{name:"angle-down"})," ",t.substr(1)]}):t,")"]}),Zn=({sx:e,inputId:t,labelledBy:n,amount:a,unit:i,color:r,pendingAmount:s,pendingColor:o,onClick:l,children:d})=>Object(_.jsxs)(u.f,{id:t,"aria-labelledby":n,onClick:l,sx:{justifyContent:"space-between",alignItems:"center",...l?{cursor:"text"}:{},...Hn,...e},children:[a&&Object(_.jsxs)(u.f,{sx:{alignItems:"center"},children:[Object(_.jsx)(u.q,{sx:{color:r,fontWeight:"medium"},children:a}),i&&Object(_.jsxs)(_.Fragment,{children:["\xa0",Object(_.jsx)(u.q,{sx:{fontWeight:"light",opacity:.8},children:i})]}),s&&Object(_.jsxs)(_.Fragment,{children:["\xa0",Object(_.jsx)(Wn,{sx:{color:o,opacity:.8,fontSize:"0.666em"},value:s})]})]}),d]}),Hn={flexGrow:1,mb:0,pl:3,pr:"11px",pb:0,pt:"28px",fontSize:3,border:1,borderColor:"transparent"},Vn={flexGrow:1,mb:[2,3],pl:3,pr:"11px",pb:2,pt:"28px",fontSize:4,boxShadow:[1,2],border:1,borderColor:"muted"},zn=({label:e,labelId:t,labelFor:n,infoIcon:a,amount:i,children:r,...s})=>Object(_.jsx)(Qn,{label:e,labelId:t,labelFor:n,infoIcon:a,sx:{mt:[-2,-3],pb:[2,3]},children:i?Object(_.jsx)(Zn,{amount:i,...s,children:r}):r}),$n=({inputId:e,children:t,sx:n,...a})=>Object(_.jsx)(Zn,{sx:{...Vn,boxShadow:0,...n},labelledBy:`${e}-label`,inputId:e,...a,children:t}),Jn=({inputId:e,label:t,amount:n,children:a,...i})=>Object(_.jsx)(Qn,{labelId:`${e}-label`,label:t,children:n?Object(_.jsx)($n,{inputId:e,amount:n,...i,children:a}):a}),Kn=({label:e,inputId:t,unit:n,amount:a,color:r,pendingAmount:s,pendingColor:o,editingState:l,editedAmount:d,setEditedAmount:c,maxAmount:p,maxedOut:y})=>{const[b,m]=l,[h,f]=Object(i.useState)(!1);return b===t?Object(_.jsx)(Qn,{label:e,labelFor:t,unit:n,children:Object(_.jsx)(u.j,{autoFocus:!0,id:t,type:"number",step:"any",defaultValue:d,invalid:h,onChange:e=>{try{c(e.target.value),f(!1)}catch{f(!0)}},onBlur:()=>{m(void 0),f(!1)},variant:"editor",sx:{...Vn,fontWeight:"medium",bg:h?"invalid":"background"}})}):Object(_.jsx)(Qn,{labelId:`${t}-label`,label:e,unit:n,children:Object(_.jsx)(Zn,{sx:{...Vn,bg:h?"invalid":"background"},labelledBy:`${t}-label`,onClick:()=>m(t),inputId:t,amount:a,unit:n,color:r,pendingAmount:s,pendingColor:o,invalid:h,children:p&&Object(_.jsx)(u.c,{sx:{fontSize:1,p:1,px:3},onClick:e=>{c(p),e.stopPropagation()},disabled:y,children:"max"})})})},Xn=()=>Object(_.jsx)(u.e,{variant:"disabledOverlay",sx:{p:"14px",display:"flex",justifyContent:"flex-end"},children:Object(_.jsx)(u.p,{size:"28px",sx:{color:"text"}})}),ea=({value:e,change:t})=>{var n,a,i,r,s;const o=new Ce.Percent(null!==e&&void 0!==e?e:{toString:()=>"N/A"}),l=t&&new Ce.Percent(t);return Object(_.jsxs)(_.Fragment,{children:[Object(_.jsxs)(u.f,{children:[Object(_.jsx)(u.b,{sx:{mt:[2,0],ml:3,mr:-2,fontSize:"24px"},children:Object(_.jsx)(I,{name:"heartbeat"})}),Object(_.jsx)(zn,{label:"Collateral ratio",inputId:"trove-collateral-ratio",amount:o.prettify(),color:(null===e||void 0===e?void 0:e.gt(Ce.CRITICAL_COLLATERAL_RATIO))?"success":(null===e||void 0===e?void 0:e.gt(1.2))?"warning":(null===e||void 0===e?void 0:e.lte(1.2))?"danger":"muted",pendingAmount:(null===t||void 0===t||null===(n=t.positive)||void 0===n||null===(a=n.absoluteValue)||void 0===a?void 0:a.gt(10))?"++":(null===t||void 0===t||null===(i=t.negative)||void 0===i||null===(r=i.absoluteValue)||void 0===r?void 0:r.gt(10))?"--":null===l||void 0===l||null===(s=l.nonZeroish(2))||void 0===s?void 0:s.prettify(),pendingColor:(null===t||void 0===t?void 0:t.positive)?"success":"danger",infoIcon:Object(_.jsx)(Ft,{tooltip:Object(_.jsxs)(u.d,{variant:"tooltip",sx:{width:"220px"},children:["The ratio between the dollar value of the collateral and the debt (in ",Ae,") you are depositing. While the Minimum Collateral Ratio is 110% during normal operation, it is recommended to keep the Collateral Ratio always above 150% to avoid liquidation under Recovery Mode. A Collateral Ratio above 200% or 250% is recommended for additional safety."]})})})]}),(null===e||void 0===e?void 0:e.lt(1.5))&&Object(_.jsx)(Yn,{children:"Keeping your CR above 150% can help avoid liquidation under Recovery Mode."})]})},ta=({price:e})=>({price:e}),na=({children:e,original:t,edited:n,fee:a,borrowingRate:i,changePending:r})=>{const{price:s}=Object(Le.useLiquitySelector)(ta),{chainId:o}=Object(c.b)(),l=new Ce.Percent(i),d=t.isEmpty?void 0:t.collateralRatio(s),p=n.isEmpty?void 0:n.collateralRatio(s),y=Ce.Difference.between(p,d),b=o||1;return Object(_.jsxs)(u.d,{children:[Object(_.jsx)(u.h,{children:"Trove (Loans)"}),Object(_.jsxs)(u.b,{sx:{p:[2,3]},children:[Object(_.jsx)(zn,{label:"Collateral",inputId:"trove-collateral",amount:n.collateral.prettify(4),unit:Pe[b]}),Object(_.jsx)(zn,{label:"Debt",inputId:"trove-debt",amount:n.debt.prettify(),unit:Ae}),t.isEmpty&&Object(_.jsx)(zn,{label:"Liquidation Reserve",inputId:"trove-liquidation-reserve",amount:`${Ce.LUSD_LIQUIDATION_RESERVE[b]}`,unit:Ae,infoIcon:Object(_.jsx)(Ft,{tooltip:Object(_.jsx)(u.d,{variant:"tooltip",sx:{width:"200px"},children:"An amount set aside to cover the liquidator\u2019s gas costs if your Trove needs to be liquidated. The amount increases your debt and is refunded if you close your Trove by fully paying off its net debt."})})}),Object(_.jsx)(zn,{label:"Borrowing Fee",inputId:"trove-borrowing-fee",amount:a.toString(2),pendingAmount:l.toString(2),unit:Ae,infoIcon:Object(_.jsx)(Ft,{tooltip:Object(_.jsx)(u.d,{variant:"tooltip",sx:{width:"240px"},children:"Borrowing fees are sent directly to stakers. This amount is deducted from the borrowed amount as a one-time fee. There are no recurring fees for borrowing, which is thus interest-free."})})}),Object(_.jsx)(ea,{value:p,change:y}),e]}),r&&Object(_.jsx)(Xn,{})]})},aa=({children:e,transactionId:t,change:n,maxBorrowingRate:a,borrowingFeeDecayToleranceMinutes:i})=>{const{liquity:r}=S(),[s]=re(t,"creation"===n.type?r.send.openTrove.bind(r.send,n.params,{maxBorrowingRate:a,borrowingFeeDecayToleranceMinutes:i}):"closure"===n.type?r.send.closeTrove.bind(r.send):r.send.adjustTrove.bind(r.send,n.params,{maxBorrowingRate:a,borrowingFeeDecayToleranceMinutes:i}));return Object(_.jsx)(u.c,{onClick:s,children:e})},ia=Object(i.createContext)(null),ra=()=>{const e=Object(i.useContext)(ia);if(null===e)throw new Error("You must add a <TroveViewProvider> into the React tree");return e},sa=({children:e})=>Object(_.jsx)(u.b,{sx:{display:"flex",flexDirection:"column",justifyContent:"space-around",mb:[2,3],p:3,border:1,borderRadius:"8px",borderColor:"danger",boxShadow:2,bg:"rgba(220, 44, 16, 0.05)"},children:Object(_.jsxs)(u.f,{sx:{alignItems:"center"},children:[Object(_.jsx)(I,{name:"exclamation-triangle",size:"lg"}),Object(_.jsx)(u.q,{sx:{ml:2},children:e})]})}),oa=new Ce.Percent(Ce.MINIMUM_COLLATERAL_RATIO).toString(0),la=new Ce.Percent(Ce.CRITICAL_COLLATERAL_RATIO).toString(0),da=({params:e})=>{const{chainId:t}=Object(c.b)();return Object(_.jsxs)(Yn,{children:[e.depositCollateral&&e.borrowLUSD?Object(_.jsxs)(_.Fragment,{children:["You will deposit ",Object(_.jsxs)(Gn,{children:[e.depositCollateral.prettify()," ",Pe[t||1]]})," and receive"," ",Object(_.jsxs)(Gn,{children:[e.borrowLUSD.prettify()," ",Ae]})]}):e.repayLUSD&&e.withdrawCollateral?Object(_.jsxs)(_.Fragment,{children:["You will pay"," ",Object(_.jsxs)(Gn,{children:[e.repayLUSD.prettify()," ",Ae]})," ","and receive ",Object(_.jsxs)(Gn,{children:[e.withdrawCollateral.prettify()," ",Pe[t||1]]})]}):e.depositCollateral&&e.repayLUSD?Object(_.jsxs)(_.Fragment,{children:["You will deposit ",Object(_.jsxs)(Gn,{children:[e.depositCollateral.prettify()," ",Pe[t||1]]})," and pay"," ",Object(_.jsxs)(Gn,{children:[e.repayLUSD.prettify()," ",Ae]})]}):e.borrowLUSD&&e.withdrawCollateral?Object(_.jsxs)(_.Fragment,{children:["You will receive ",Object(_.jsxs)(Gn,{children:[e.withdrawCollateral.prettify()," ",Pe[t||1]]})," and"," ",Object(_.jsxs)(Gn,{children:[e.borrowLUSD.prettify()," ",Ae]})]}):e.depositCollateral?Object(_.jsxs)(_.Fragment,{children:["You will deposit ",Object(_.jsxs)(Gn,{children:[e.depositCollateral.prettify()," ",Pe[t||1]]})]}):e.withdrawCollateral?Object(_.jsxs)(_.Fragment,{children:["You will receive ",Object(_.jsxs)(Gn,{children:[e.withdrawCollateral.prettify()," ",Pe[t||1]]})]}):e.borrowLUSD?Object(_.jsxs)(_.Fragment,{children:["You will receive"," ",Object(_.jsxs)(Gn,{children:[e.borrowLUSD.prettify()," ",Ae]})]}):Object(_.jsxs)(_.Fragment,{children:["You will pay"," ",Object(_.jsxs)(Gn,{children:[e.repayLUSD.prettify()," ",Ae]})]}),"."]})},ca=({price:e,total:t,accountBalance:n,lusdBalance:a,numberOfTroves:i})=>({price:e,total:t,accountBalance:n,lusdBalance:a,numberOfTroves:i}),ua=(e,t,n,a,i,r)=>{const{total:s,price:o}=a,l=e.whatChanged(t,n);if(!l)return[void 0,void 0];const d=e.apply(l,n),c=s.collateralRatioIsBelowCritical(o),u=s.subtract(e).add(d).collateralRatioIsBelowCritical(o),p={...a,originalTrove:e,resultingTrove:d,recoveryMode:c,wouldTriggerRecoveryMode:u};if("invalidCreation"===l.type)return[void 0,Object(_.jsxs)(sa,{children:["Total debt must be at least"," ",Object(_.jsxs)(Gn,{children:[Ce.LUSD_MINIMUM_DEBT[r].toString()," ",Ae]}),"."]})];const y="creation"===l.type?pa(l.params,p,i,r):"closure"===l.type?ba(l.params,p):ya(l.params,p,i,r);return y?[void 0,y]:[l,Object(_.jsx)(da,{params:l.params})]},pa=({depositCollateral:e,borrowLUSD:t},{resultingTrove:n,recoveryMode:a,wouldTriggerRecoveryMode:i,accountBalance:r,price:s},o,l)=>{if(t.lt(Ce.LUSD_MINIMUM_NET_DEBT[l]))return Object(_.jsxs)(sa,{children:["You must borrow at least"," ",Object(_.jsxs)(Gn,{children:[Ce.LUSD_MINIMUM_NET_DEBT[l].toString()," ",Ae]}),"."]});if(a){if(!n.isOpenableInRecoveryMode(s))return Object(_.jsxs)(sa,{children:["You're not allowed to open a Trove with less than ",Object(_.jsx)(Gn,{children:la})," Collateral Ratio during recovery mode. Please increase your Trove's Collateral Ratio."]})}else{if(n.collateralRatioIsBelowMinimum(s))return Object(_.jsxs)(sa,{children:["Collateral ratio must be at least ",Object(_.jsx)(Gn,{children:oa}),"."]});if(i)return Object(_.jsxs)(sa,{children:["You're not allowed to open a Trove that would cause the Total Collateral Ratio to fall below ",Object(_.jsx)(Gn,{children:la}),". Please increase your Trove's Collateral Ratio."]})}return e.gt(r)?Object(_.jsxs)(sa,{children:["The amount you're trying to deposit exceeds your balance by"," ",Object(_.jsxs)(Gn,{children:[e.sub(r).prettify()," ",o]}),"."]}):null},ya=({depositCollateral:e,withdrawCollateral:t,borrowLUSD:n,repayLUSD:a},{originalTrove:i,resultingTrove:r,recoveryMode:s,wouldTriggerRecoveryMode:o,price:l,accountBalance:d,lusdBalance:c},u,p)=>{if(s){if(t)return Object(_.jsx)(sa,{children:"You're not allowed to withdraw collateral during recovery mode."});if(n){if(r.collateralRatioIsBelowCritical(l))return Object(_.jsxs)(sa,{children:["Your collateral ratio must be at least ",Object(_.jsx)(Gn,{children:la})," to borrow during recovery mode. Please improve your collateral ratio."]});if(r.collateralRatio(l).lt(i.collateralRatio(l)))return Object(_.jsx)(sa,{children:"You're not allowed to decrease your collateral ratio during recovery mode."})}}else{if(r.collateralRatioIsBelowMinimum(l))return Object(_.jsxs)(sa,{children:["Collateral ratio must be at least ",Object(_.jsx)(Gn,{children:oa}),"."]});if(o)return Object(_.jsxs)(sa,{children:["The adjustment you're trying to make would cause the Total Collateral Ratio to fall below"," ",Object(_.jsx)(Gn,{children:la}),". Please increase your Trove's Collateral Ratio."]})}if(a){if(r.debt.lt(Ce.LUSD_MINIMUM_DEBT[p]))return Object(_.jsxs)(sa,{children:["Total debt must be at least"," ",Object(_.jsxs)(Gn,{children:[Ce.LUSD_MINIMUM_DEBT[p].toString()," ",Ae]}),"."]});if(a.gt(c))return Object(_.jsxs)(sa,{children:["The amount you're trying to repay exceeds your balance by"," ",Object(_.jsxs)(Gn,{children:[a.sub(c).prettify()," ",Ae]}),"."]})}return(null===e||void 0===e?void 0:e.gt(d))?Object(_.jsxs)(sa,{children:["The amount you're trying to deposit exceeds your balance by"," ",Object(_.jsxs)(Gn,{children:[e.sub(d).prettify()," ",u]}),"."]}):null},ba=({repayLUSD:e},{recoveryMode:t,wouldTriggerRecoveryMode:n,numberOfTroves:a,lusdBalance:i})=>1===a?Object(_.jsx)(sa,{children:"You're not allowed to close your Trove when there are no other Troves in the system."}):t?Object(_.jsx)(sa,{children:"You're not allowed to close your Trove during recovery mode."}):(null===e||void 0===e?void 0:e.gt(i))?Object(_.jsxs)(sa,{children:["You need"," ",Object(_.jsxs)(Gn,{children:[e.sub(i).prettify()," ",Ae]})," ","more to close your Trove."]}):n?Object(_.jsxs)(sa,{children:["You're not allowed to close a Trove if it would cause the Total Collateralization Ratio to fall below ",Object(_.jsx)(Gn,{children:la}),". Please wait until the Total Collateral Ratio increases."]}):null,ma=({trove:e})=>({chainId:1,original:e,edited:new Ce.Trove(1,e.collateral,e.debt),changePending:!1,debtDirty:!1,addedMinimumDebt:!1}),ha=e=>t=>wa(t,e),fa=ha({type:"addMinimumDebt"}),Ta=ha({type:"removeMinimumDebt"}),ga=ha({type:"finishChange"}),va=ha({type:"revert"}),wa=(e,t)=>{const{original:n,edited:a,changePending:i,debtDirty:r,addedMinimumDebt:s}=e;switch(t.type){case"setChainId":return console.log("setting ChainId"),{...e,chainId:t.newValue};case"startChange":return console.log("starting change"),{...e,changePending:!0};case"finishChange":return{...e,changePending:!1};case"setCollateral":{const n=Ce.Decimal.from(t.newValue),i={...e,edited:a.setCollateral(n)};if(!r){if(a.isEmpty&&n.nonZero)return fa(i);if(s&&n.isZero)return Ta(i)}return i}case"setDebt":return{...e,edited:a.setDebt(t.newValue),debtDirty:!0};case"addMinimumDebt":return{...e,edited:a.setDebt(Ce.LUSD_MINIMUM_DEBT[e.chainId]),addedMinimumDebt:!0};case"removeMinimumDebt":return{...e,edited:a.setDebt(0),addedMinimumDebt:!1};case"revert":return{...e,edited:new Ce.Trove(e.chainId,n.collateral,n.debt),debtDirty:!1,addedMinimumDebt:!1};case"updateStore":{const{newState:{trove:r},stateChange:{troveBeforeRedistribution:s}}=t,o={...e,original:r};if(i&&s)return ga(va(o));const l=n.whatChanged(a,0);return"creation"===(null===l||void 0===l?void 0:l.type)&&!r.isEmpty||"closure"===(null===l||void 0===l?void 0:l.type)&&r.isEmpty?va(o):{...o,edited:r.apply(l,0)}}}},_a=(e,t,n)=>{const a=e.whatChanged(t,n);return a&&"invalidCreation"!==a.type&&a.params.borrowLUSD?a.params.borrowLUSD.mul(n):Ce.Decimal.ZERO},ja=e=>({fees:e.fees,validationContext:ca(e)}),xa=new RegExp("^trove-"),Oa=({collateral:e,debt:t})=>{const[{original:n,edited:a,changePending:r},s]=Object(Le.useLiquityReducer)(wa,ma),{fees:o,validationContext:l}=Object(Le.useLiquitySelector)(ja),{chainId:d}=Object(c.b)(),p=d||1;Object(i.useEffect)((()=>{d&&s({type:"setChainId",newValue:p})}),[d]),Object(i.useEffect)((()=>{void 0!==e&&s({type:"setCollateral",newValue:e}),void 0!==t&&s({type:"setDebt",newValue:t})}),[e,t,s]);const y=o.borrowingRate(),b=y.add(.005),[m,h]=ua(n,a,y,l,Pe[p],p),{dispatchEvent:f}=ra(),T=Object(i.useCallback)((()=>{f("CANCEL_ADJUST_TROVE_PRESSED")}),[f]),g=n.isEmpty,v=ie(xa);return Object(i.useEffect)((()=>{"waitingForApproval"===v.type||"waitingForConfirmation"===v.type?s({type:"startChange"}):"failed"===v.type||"cancelled"===v.type?s({type:"finishChange"}):"confirmedOneShot"===v.type&&("trove-closure"===v.id?f("TROVE_CLOSED"):f("TROVE_ADJUSTED"))}),[v,s,f]),Object(_.jsxs)(na,{original:n,edited:a,fee:_a(n,a,y),borrowingRate:y,changePending:r,dispatch:s,children:[null!==h&&void 0!==h?h:g?Object(_.jsxs)(Yn,{children:["Start by entering the amount of ",Pe[p]," you'd like to deposit as collateral."]}):Object(_.jsx)(Yn,{children:"Adjust your Trove by modifying its collateral, debt, or both."}),Object(_.jsxs)(u.f,{variant:"layout.actions",children:[Object(_.jsx)(u.c,{variant:"cancel",onClick:T,children:"Cancel"}),m?Object(_.jsx)(aa,{transactionId:`trove-${m.type}`,change:m,maxBorrowingRate:b,borrowingFeeDecayToleranceMinutes:60,children:"Confirm"}):Object(_.jsx)(u.c,{disabled:!0,children:"Confirm"})]})]})},Sa=({trove:e,price:t})=>({trove:e,price:t}),Ea=()=>{const{dispatchEvent:e}=ra(),{chainId:t}=Object(c.b)(),n=Object(i.useCallback)((()=>{e("ADJUST_TROVE_PRESSED")}),[e]),a=Object(i.useCallback)((()=>{e("CLOSE_TROVE_PRESSED")}),[e]),{trove:r,price:s}=Object(Le.useLiquitySelector)(Sa);return Object(_.jsxs)(u.d,{children:[Object(_.jsx)(u.h,{children:"Trove (Loans)"}),Object(_.jsxs)(u.b,{sx:{p:[2,3]},children:[Object(_.jsxs)(u.b,{children:[Object(_.jsx)(Jn,{label:"Collateral",inputId:"trove-collateral",amount:r.collateral.prettify(4),unit:Pe[t||1]}),Object(_.jsx)(Jn,{label:"Debt",inputId:"trove-debt",amount:r.debt.prettify(),unit:Ae}),Object(_.jsx)(ea,{value:r.collateralRatio(s)})]}),Object(_.jsxs)(u.f,{variant:"layout.actions",children:[Object(_.jsx)(u.c,{variant:"outline",onClick:a,children:"Close Trove"}),Object(_.jsxs)(u.c,{onClick:n,children:[Object(_.jsx)(I,{name:"pen",size:"sm"}),"\xa0Adjust"]})]})]})]})},Da=({title:e,children:t,icon:n})=>Object(_.jsxs)(u.b,{sx:{mx:1,mb:3},children:[Object(_.jsxs)(u.f,{sx:{alignItems:"center",mb:"10px"},children:[Object(_.jsx)(u.b,{sx:{mr:"12px",fontSize:"20px"},children:n||Object(_.jsx)(I,{name:"info-circle"})}),Object(_.jsx)(u.h,{as:"h3",children:e})]}),Object(_.jsx)(u.q,{sx:{fontSize:2},children:t})]}),Ca=({afterPresale:e,owner:t})=>({afterPresale:e,owner:t}),La=e=>{const{dispatchEvent:t}=ra(),{account:n}=Object(c.b)(),{afterPresale:a,owner:r}=Object(Le.useLiquitySelector)(Ca),[s,o]=Object(i.useState)(a||r===n),l=Object(i.useCallback)((()=>{a||r===n?(o(!0),t("OPEN_TROVE_PRESSED")):o(!1)}),[a,r,t,o]);return Object(_.jsxs)(u.d,{children:[Object(_.jsx)(u.h,{children:"Trove (Loans)"}),Object(_.jsxs)(u.b,{sx:{p:[2,3]},children:[Object(_.jsxs)(Da,{title:"You haven't borrowed any USRE yet.",children:["You can borrow ",Ae," by opening a Trove."]}),!s&&Object(_.jsx)(sa,{children:"Troves cannot be opened before the presale ends."}),Object(_.jsx)(u.f,{variant:"layout.actions",children:Object(_.jsx)(u.c,{onClick:l,children:"Open Trove"})})]})]})},Aa=(e,t)=>e&&t?e.eq(t):!e&&!t,ka=e=>{const[t,n]=Object(i.useState)(e);return Object(i.useEffect)((()=>{var a,i;!!t!==!!e?n(e):!t||!e||(i=e,(a=t).type===i.type&&Aa(a.params.borrowLUSD,i.params.borrowLUSD)&&Aa(a.params.repayLUSD,i.params.repayLUSD)&&Aa(a.params.depositCollateral,i.params.depositCollateral)&&Aa(a.params.withdrawCollateral,i.params.withdrawCollateral))||n(e)}),[t,e]),t},Ia=({children:e})=>Object(_.jsx)(u.b,{sx:{display:"flex",flexDirection:"column",justifyContent:"space-around",mb:[2,3],p:3,border:1,borderRadius:"8px",borderColor:"warning",boxShadow:2},children:Object(_.jsxs)(u.f,{sx:{alignItems:"center"},children:[Object(_.jsx)(I,{name:"exclamation-triangle",size:"lg"}),Object(_.jsx)(u.q,{sx:{ml:2},children:e})]})}),Ra=({troveChange:e,maxBorrowingRate:t,borrowingFeeDecayToleranceMinutes:n,gasEstimationState:a,setGasEstimationState:r})=>{const{liquity:s}=S();return Object(i.useEffect)((()=>{if(e&&"closure"!==e.type){r({type:"inProgress"});let a=!1;const i=setTimeout((async()=>{const i=await("creation"===e.type?s.populate.openTrove(e.params,{maxBorrowingRate:t,borrowingFeeDecayToleranceMinutes:n}):s.populate.adjustTrove(e.params,{maxBorrowingRate:t,borrowingFeeDecayToleranceMinutes:n}));a||(r({type:"complete",populatedTx:i}),console.log("Estimated TX cost: "+Ce.Decimal.from(`${i.rawPopulatedTransaction.gasLimit}`).prettify(0)))}),333);return()=>{clearTimeout(i),a=!0}}r({type:"idle"})}),[e]),e&&"complete"===a.type&&void 0!==a.populatedTx.gasHeadroom&&a.populatedTx.gasHeadroom>=2e5?"creation"===e.type?Object(_.jsx)(Ia,{children:"The cost of opening a Trove in this collateral ratio range is rather high. To lower it, choose a slightly different collateral ratio."}):Object(_.jsx)(Ia,{children:"The cost of adjusting a Trove into this collateral ratio range is rather high. To lower it, choose a slightly different collateral ratio."}):null},Ma=e=>{const{fees:t,price:n,accountBalance:a}=e;return{fees:t,price:n,accountBalance:a,validationContext:ca(e)}},Pa="trove-creation",Ba=Ce.Decimal.from(.1),Ua=()=>{const{dispatchEvent:e}=ra(),{fees:t,price:n,accountBalance:a,validationContext:r}=Object(Le.useLiquitySelector)(Ma),s=t.borrowingRate(),o=Object(i.useState)(),{chainId:l}=Object(c.b)(),d=l||1,[p,y]=Object(i.useState)(Ce.Decimal.ZERO),[b,m]=Object(i.useState)(Ce.Decimal.ZERO),h=s.add(.005),f=new Ce.Trove(d,Ce.Decimal.ZERO,Ce.Decimal.ZERO),T=b.mul(s),g=new Ce.Percent(s),v=b.add(Ce.LUSD_LIQUIDATION_RESERVE[d]).add(T),w=!p.isZero||!b.isZero,j=w?new Ce.Trove(d,p,v):f,x=a.gt(Ba)?a.sub(Ba):Ce.Decimal.ZERO,O=p.eq(x),S=p.isZero||b.isZero?void 0:j.collateralRatio(n),[E,D]=ua(f,j,s,r,Pe[d],d),C=ka(E),[L,A]=Object(i.useState)({type:"idle"}),k=ie(Pa),R="waitingForApproval"===k.type||"waitingForConfirmation"===k.type,M=Object(i.useCallback)((()=>{e("CANCEL_ADJUST_TROVE_PRESSED")}),[e]),P=Object(i.useCallback)((()=>{y(Ce.Decimal.ZERO),m(Ce.Decimal.ZERO)}),[]);return Object(i.useEffect)((()=>{!p.isZero&&b.isZero&&m(Ce.LUSD_MINIMUM_NET_DEBT[d])}),[p,b]),Object(_.jsxs)(u.d,{children:[Object(_.jsxs)(u.h,{children:["Trove (Loans)",w&&!R&&Object(_.jsx)(u.c,{variant:"titleIcon",sx:{":enabled:hover":{color:"danger"}},onClick:P,children:Object(_.jsx)(I,{name:"history",size:"lg"})})]}),Object(_.jsxs)(u.b,{sx:{p:[2,3]},children:[Object(_.jsx)(Kn,{label:"Collateral",inputId:"trove-collateral",amount:p.prettify(4),maxAmount:x.toString(),maxedOut:O,editingState:o,unit:Pe[l||1],editedAmount:p.toString(4),setEditedAmount:e=>y(Ce.Decimal.from(e))}),Object(_.jsx)(Kn,{label:"Borrow",inputId:"trove-borrow-amount",amount:b.prettify(),unit:Ae,editingState:o,editedAmount:b.toString(2),setEditedAmount:e=>m(Ce.Decimal.from(e))}),Object(_.jsx)(zn,{label:"Liquidation Reserve",inputId:"trove-liquidation-reserve",amount:`${Ce.LUSD_LIQUIDATION_RESERVE[d]}`,unit:Ae,infoIcon:Object(_.jsx)(Ft,{tooltip:Object(_.jsx)(u.d,{variant:"tooltip",sx:{width:"200px"},children:"An amount set aside to cover the liquidator\u2019s gas costs if your Trove needs to be liquidated. The amount increases your debt and is refunded if you close your Trove by fully paying off its net debt."})})}),Object(_.jsx)(zn,{label:"Borrowing Fee",inputId:"trove-borrowing-fee",amount:T.prettify(2),pendingAmount:g.toString(2),unit:Ae,infoIcon:Object(_.jsx)(Ft,{tooltip:Object(_.jsx)(u.d,{variant:"tooltip",sx:{width:"240px"},children:"Borrowing fees are sent directly to stakers. This amount is deducted from the borrowed amount as a one-time fee. There are no recurring fees for borrowing, which is thus interest-free."})})}),Object(_.jsx)(zn,{label:"Total debt",inputId:"trove-total-debt",amount:v.prettify(2),unit:Ae,infoIcon:Object(_.jsx)(Ft,{tooltip:Object(_.jsxs)(u.d,{variant:"tooltip",sx:{width:"240px"},children:["The total amount of ",Ae," your Trove will hold."," ",w&&Object(_.jsxs)(_.Fragment,{children:["You will need to repay ",v.sub(Ce.LUSD_LIQUIDATION_RESERVE[d]).prettify(2)," ",Ae," to reclaim your collateral (",Ce.LUSD_LIQUIDATION_RESERVE[d].toString()," ",Ae,"Liquidation Reserve excluded)."]})]})})}),Object(_.jsx)(ea,{value:S}),null!==D&&void 0!==D?D:Object(_.jsxs)(Yn,{children:["Start by entering the amount of ",Pe[l||1]," you'd like to deposit as collateral."]}),Object(_.jsx)(Ra,{troveChange:C,maxBorrowingRate:h,borrowingFeeDecayToleranceMinutes:60,gasEstimationState:L,setGasEstimationState:A}),Object(_.jsxs)(u.f,{variant:"layout.actions",children:[Object(_.jsx)(u.c,{variant:"cancel",onClick:M,children:"Cancel"}),"inProgress"===L.type?Object(_.jsx)(u.c,{disabled:!0,children:Object(_.jsx)(u.p,{size:"24px",sx:{color:"background"}})}):C?Object(_.jsx)(aa,{transactionId:Pa,change:C,maxBorrowingRate:h,borrowingFeeDecayToleranceMinutes:60,children:"Confirm"}):Object(_.jsx)(u.c,{disabled:!0,children:"Confirm"})]})]}),R&&Object(_.jsx)(Xn,{})]})},Fa=e=>{const{trove:t,fees:n,price:a,accountBalance:i}=e;return{trove:t,fees:n,price:a,accountBalance:i,validationContext:ca(e)}},Na="trove-adjustment",qa=Ce.Decimal.from(.1),Ya=()=>{const{dispatchEvent:e}=ra(),{trove:t,fees:n,price:a,accountBalance:r,validationContext:s}=Object(Le.useLiquitySelector)(Fa),o=Object(i.useState)(),l=Object(i.useRef)(t),[d,p]=Object(i.useState)(t.collateral),[y,b]=Object(i.useState)(t.netDebt),{chainId:m}=Object(c.b)(),h=ie(Na),f=n.borrowingRate();Object(i.useEffect)((()=>{"confirmedOneShot"===h.type&&e("TROVE_ADJUSTED")}),[h.type,e]),Object(i.useEffect)((()=>{if(!l.current.collateral.eq(t.collateral)){const e=((e,t)=>e.absoluteValue?e.positive?t.collateral.add(e.absoluteValue):e.negative&&e.absoluteValue.lt(t.collateral)?t.collateral.sub(e.absoluteValue):t.collateral:t.collateral)(Ce.Difference.between(d,l.current.collateral),t);p(e)}if(!l.current.netDebt.eq(t.netDebt)){const e=((e,t)=>e.absoluteValue?e.positive?t.netDebt.add(e.absoluteValue):e.negative&&e.absoluteValue.lt(t.netDebt)?t.netDebt.sub(e.absoluteValue):t.netDebt:t.netDebt)(Ce.Difference.between(y,l.current.netDebt),t);b(e)}l.current=t}),[t,d,y]);const T=Object(i.useCallback)((()=>{e("CANCEL_ADJUST_TROVE_PRESSED")}),[e]),g=Object(i.useCallback)((()=>{p(t.collateral),b(t.netDebt)}),[t.collateral,t.netDebt]),v=!d.eq(t.collateral)||!y.eq(t.netDebt),w=y.gt(t.netDebt),j=w?y.sub(t.netDebt):Ce.Decimal.ZERO,x=m||1,O=w?((e,t,n)=>{const a=e.whatChanged(t,n);return a&&"invalidCreation"!==a.type&&a.params.borrowLUSD?a.params.borrowLUSD.mul(n):Ce.Decimal.ZERO})(t,new Ce.Trove(x,t.collateral,t.debt.add(j)),f):Ce.Decimal.ZERO,S=y.add(Ce.LUSD_LIQUIDATION_RESERVE[x]).add(O),E=f.add(.005),D=v?new Ce.Trove(x,d,S):t,C=new Ce.Percent(f),L=r.gt(qa)?r.sub(qa):Ce.Decimal.ZERO,A=t.collateral.add(L),k=d.eq(A),R=d.isZero||y.isZero?void 0:D.collateralRatio(a),M=Ce.Difference.between(R,t.collateralRatio(a)),[P,B]=ua(t,D,f,s,Pe[x],x),U=ka(P),[F,N]=Object(i.useState)({type:"idle"}),q="waitingForApproval"===h.type||"waitingForConfirmation"===h.type;return"open"!==t.status?null:Object(_.jsxs)(u.d,{children:[Object(_.jsxs)(u.h,{children:["Trove (Loans)",v&&!q&&Object(_.jsx)(u.c,{variant:"titleIcon",sx:{":enabled:hover":{color:"danger"}},onClick:g,children:Object(_.jsx)(I,{name:"history",size:"lg"})})]}),Object(_.jsxs)(u.b,{sx:{p:[2,3]},children:[Object(_.jsx)(Kn,{label:"Collateral",inputId:"trove-collateral",amount:d.prettify(4),maxAmount:A.toString(),maxedOut:k,editingState:o,unit:Pe[m||1],editedAmount:d.toString(4),setEditedAmount:e=>p(Ce.Decimal.from(e))}),Object(_.jsx)(Kn,{label:"Net debt",inputId:"trove-net-debt-amount",amount:y.prettify(),unit:Ae,editingState:o,editedAmount:y.toString(2),setEditedAmount:e=>b(Ce.Decimal.from(e))}),Object(_.jsx)(zn,{label:"Liquidation Reserve",inputId:"trove-liquidation-reserve",amount:`${Ce.LUSD_LIQUIDATION_RESERVE[x]}`,unit:Ae,infoIcon:Object(_.jsx)(Ft,{tooltip:Object(_.jsx)(u.d,{variant:"tooltip",sx:{width:"200px"},children:"An amount set aside to cover the liquidator\u2019s gas costs if your Trove needs to be liquidated. The amount increases your debt and is refunded if you close your Trove by fully paying off its net debt."})})}),Object(_.jsx)(zn,{label:"Borrowing Fee",inputId:"trove-borrowing-fee",amount:O.prettify(2),pendingAmount:C.toString(2),unit:Ae,infoIcon:Object(_.jsx)(Ft,{tooltip:Object(_.jsx)(u.d,{variant:"tooltip",sx:{width:"240px"},children:"Borrowing fees are sent directly to stakers. This amount is deducted from the borrowed amount as a one-time fee. There are no recurring fees for borrowing, which is thus interest-free."})})}),Object(_.jsx)(zn,{label:"Total debt",inputId:"trove-total-debt",amount:S.prettify(2),unit:Ae,infoIcon:Object(_.jsx)(Ft,{tooltip:Object(_.jsxs)(u.d,{variant:"tooltip",sx:{width:"240px"},children:["The total amount of ",Ae," your Trove will hold."," ",v&&Object(_.jsxs)(_.Fragment,{children:["You will need to repay ",S.sub(Ce.LUSD_LIQUIDATION_RESERVE[x]).prettify(2)," ",Ae," to reclaim your collateral (",Ce.LUSD_LIQUIDATION_RESERVE[x].toString()," ",Ae,"Liquidation Reserve excluded)."]})]})})}),Object(_.jsx)(ea,{value:R,change:M}),null!==B&&void 0!==B?B:Object(_.jsx)(Yn,{children:"Adjust your Trove by modifying its collateral, debt, or both."}),Object(_.jsx)(Ra,{troveChange:U,maxBorrowingRate:E,borrowingFeeDecayToleranceMinutes:60,gasEstimationState:F,setGasEstimationState:N}),Object(_.jsxs)(u.f,{variant:"layout.actions",children:[Object(_.jsx)(u.c,{variant:"cancel",onClick:T,children:"Cancel"}),U?Object(_.jsx)(aa,{transactionId:Na,change:U,maxBorrowingRate:E,borrowingFeeDecayToleranceMinutes:60,children:"Confirm"}):Object(_.jsx)(u.c,{disabled:!0,children:"Confirm"})]})]}),q&&Object(_.jsx)(Xn,{})]})},Ga=({collateralSurplusBalance:e})=>({collateralSurplusBalance:e}),Qa=()=>{const{collateralSurplusBalance:e}=Object(Le.useLiquitySelector)(Ga),{liquity:{send:t}}=S(),n="claim-coll-surplus",a=ie(n),{chainId:r}=Object(c.b)(),{dispatchEvent:s}=ra();return Object(i.useEffect)((()=>{"confirmedOneShot"===a.type&&s("TROVE_SURPLUS_COLLATERAL_CLAIMED")}),[a.type,s]),"waitingForApproval"===a.type?Object(_.jsx)(u.f,{variant:"layout.actions",children:Object(_.jsxs)(u.c,{disabled:!0,sx:{mx:2},children:[Object(_.jsx)(u.p,{sx:{mr:2,color:"white"},size:"20px"}),"Waiting for your approval"]})}):"waitingForConfirmation"!==a.type&&"confirmed"!==a.type?Object(_.jsx)(u.f,{variant:"layout.actions",children:Object(_.jsx)(se,{id:n,send:t.claimCollateralSurplus.bind(t,void 0),children:Object(_.jsxs)(u.c,{sx:{mx:2},children:["Claim ",e.prettify()," ",Pe[r||1]]})})}):null},Wa=({collateralSurplusBalance:e})=>({hasSurplusCollateral:!e.isZero}),Za=()=>{const{hasSurplusCollateral:e}=Object(Le.useLiquitySelector)(Wa),{dispatchEvent:t}=ra(),n=Object(i.useCallback)((()=>{t("OPEN_TROVE_PRESSED")}),[t]);return Object(_.jsxs)(u.d,{children:[Object(_.jsx)(u.h,{children:"Trove (Loans)"}),Object(_.jsxs)(u.b,{sx:{p:[2,3]},children:[Object(_.jsx)(Da,{title:"Your Trove has been redeemed.",children:e?"Please reclaim your remaining collateral before opening a new Trove.":"You can borrow USDL by opening a Trove."}),Object(_.jsxs)(u.f,{variant:"layout.actions",children:[e&&Object(_.jsx)(Qa,{}),!e&&Object(_.jsx)(u.c,{onClick:n,children:"Open Trove"})]})]})]})},Ha=({collateralSurplusBalance:e})=>({hasSurplusCollateral:!e.isZero}),Va=()=>{const{hasSurplusCollateral:e}=Object(Le.useLiquitySelector)(Ha),{dispatchEvent:t}=ra(),n=Object(i.useCallback)((()=>{t("OPEN_TROVE_PRESSED")}),[t]);return Object(_.jsxs)(u.d,{children:[Object(_.jsx)(u.h,{children:"Trove (Loans)"}),Object(_.jsxs)(u.b,{sx:{p:[2,3]},children:[Object(_.jsx)(Da,{title:"Your Trove has been liquidated.",children:e?"Please reclaim your remaining collateral before opening a new Trove.":"You can borrow USRE by opening a Trove."}),Object(_.jsxs)(u.f,{variant:"layout.actions",children:[e&&Object(_.jsx)(Qa,{}),!e&&Object(_.jsx)(u.c,{onClick:n,children:"Open Trove"})]})]})]})},za=e=>{const{view:t}=ra();switch(t){case"ACTIVE":return Object(_.jsx)(Ea,{...e});case"ADJUSTING":return Object(_.jsx)(Ya,{...e});case"CLOSING":return Object(_.jsx)(Oa,{...e,collateral:Ce.Decimal.ZERO,debt:Ce.Decimal.ZERO});case"OPENING":return Object(_.jsx)(Ua,{...e});case"LIQUIDATED":return Object(_.jsx)(Va,{...e});case"REDEEMED":return Object(_.jsx)(Za,{...e});case"NONE":return Object(_.jsx)(La,{...e})}},$a=({children:e})=>Object(_.jsx)(u.f,{variant:"layout.badge",children:e}),Ja=({lusdInStabilityPool:e,remainingStabilityPoolLQTYReward:t})=>({lusdInStabilityPool:e,remainingStabilityPoolLQTYReward:t}),Ka=Ce.Decimal.from(1-.5**(1/365)),Xa=Ka.mul(100),ei=()=>{const{lusdInStabilityPool:e,remainingStabilityPoolLQTYReward:t}=Object(Le.useLiquitySelector)(Ja),{chainId:n}=Object(c.b)(),[a,r]=Object(i.useState)(void 0),s=t.isZero||e.isZero;if(Object(i.useEffect)((()=>{n&&(async()=>{try{const{lqtyPriceUSD:e}=await(async e=>({lqtyPriceUSD:{1:Ce.Decimal.from("0.00554195"),5:Ce.Decimal.from("0.00554195"),56:Ce.Decimal.from("0.00137251"),97:Ce.Decimal.from("0.00137251"),17:Ce.Decimal.from("0.00137251")}[e]}))(n);r(e)}catch(e){console.error(e)}})()}),[n]),s||void 0===a)return null;const o=t.mul(Ka).mul(a).mulDiv(36500,e),l=t.mul(a);return o.isZero?null:Object(_.jsxs)($a,{children:[Object(_.jsxs)(u.q,{children:[Re," APR ~",o.toString(2),"%"]}),Object(_.jsx)(Ft,{tooltip:Object(_.jsxs)(u.d,{variant:"tooltip",sx:{width:["240px"]},children:["An ",Object(_.jsx)(u.q,{sx:{fontWeight:"bold"},children:"estimate"})," of the ",Re," return on the ",Ae," deposited to the Stability Pool over the next year, not including ",Pe[n||1]," gains from liquidations. ",Object(_.jsx)("br",{}),Object(_.jsx)("br",{}),"($LNDR_REWARDS * DAILY_ISSUANCE% / DEPOSITED_USDL) * 365 * 100 ="," ",Object(_.jsx)(u.q,{sx:{fontWeight:"bold"},children:" APR"}),Object(_.jsx)("br",{}),Object(_.jsx)("br",{}),"($",l.shorten()," * ",Xa.toString(4),"% / $",e.shorten(),") * 365 * 100 =",Object(_.jsxs)(u.q,{sx:{fontWeight:"bold"},children:[" ",o.toString(2),"%"]})]})})]})},ti=({lusdBalance:e,lusdInStabilityPool:t})=>({lusdBalance:e,lusdInStabilityPool:t}),ni=({originalDeposit:e,editedLUSD:t,changePending:n,dispatch:a,children:r})=>{const{lusdBalance:s,lusdInStabilityPool:o}=Object(Le.useLiquitySelector)(ti),{chainId:l}=Object(c.b)(),d=Object(i.useState)(),p=!t.eq(e.currentLUSD),y=e.currentLUSD.add(s),b=t.eq(y),m=o.sub(e.currentLUSD).add(t),h=e.currentLUSD.mulDiv(100,o),f=t.mulDiv(100,m),T=e.currentLUSD.nonZero&&Ce.Difference.between(f,h).nonZero;return Object(_.jsxs)(u.d,{children:[Object(_.jsxs)(u.h,{children:["Stability Pool (",Ae," Staking)",Object(_.jsx)(u.f,{sx:{justifyContent:"flex-end"},children:Object(_.jsx)(ei,{})}),p&&!n&&Object(_.jsx)(u.c,{variant:"titleIcon",sx:{":enabled:hover":{color:"danger"}},onClick:()=>a({type:"revert"}),children:Object(_.jsx)(I,{name:"history",size:"lg"})})]}),Object(_.jsxs)(u.b,{sx:{p:[2,3]},children:[Object(_.jsx)(Kn,{label:"Deposit",inputId:"deposit-lqty",amount:t.prettify(),maxAmount:y.toString(),maxedOut:b,unit:Ae,editingState:d,editedAmount:t.toString(2),setEditedAmount:e=>a({type:"setDeposit",newValue:e})}),f.infinite?Object(_.jsx)(zn,{label:"Pool share",inputId:"deposit-share",amount:"N/A"}):Object(_.jsx)(zn,{label:"Pool share",inputId:"deposit-share",amount:f.prettify(4),pendingAmount:null===T||void 0===T?void 0:T.prettify(4).concat("%"),pendingColor:(null===T||void 0===T?void 0:T.positive)?"success":"danger",unit:"%"}),!e.isEmpty&&Object(_.jsxs)(_.Fragment,{children:[Object(_.jsx)(zn,{label:"Liquidation gain",inputId:"deposit-gain",amount:e.collateralGain.prettify(4),color:e.collateralGain.nonZero&&"success",unit:Pe[l||1]}),Object(_.jsx)(zn,{label:"Reward",inputId:"deposit-reward",amount:e.lqtyReward.prettify(),color:e.lqtyReward.nonZero&&"success",unit:ke,infoIcon:Object(_.jsx)(Ft,{tooltip:Object(_.jsxs)(u.d,{variant:"tooltip",sx:{width:"240px"},children:["Although the ",ke," rewards accrue every minute, the value on the UI only updates when a user transacts with the Stability Pool. Therefore you may receive more rewards than is displayed when you claim or adjust your deposit."]})})})]}),r]}),n&&Object(_.jsx)(Xn,{})]})},ai=({frontend:e})=>"registered"===e.status,ii=({children:e,transactionId:t,change:n})=>{const{config:a,liquity:i}=S(),r=Object(Le.useLiquitySelector)(ai)?a.frontendTag:void 0,[s]=re(t,n.depositLUSD?i.send.depositLUSDInStabilityPool.bind(i.send,n.depositLUSD,r):i.send.withdrawLUSDFromStabilityPool.bind(i.send,n.withdrawLUSD));return Object(_.jsx)(u.c,{onClick:s,children:e})},ri=Object(i.createContext)(null),si=()=>{const e=Object(i.useContext)(ri);if(null===e)throw new Error("You must add a <StabilityViewProvider> into the React tree");return e},oi=({originalDeposit:e,change:t})=>{var n,a;const{chainId:i}=Object(c.b)(),r=null===(n=e.collateralGain.nonZero)||void 0===n?void 0:n.prettify(4).concat(` ${Pe[i||1]}`),s=null===(a=e.lqtyReward.nonZero)||void 0===a?void 0:a.prettify().concat(" ",ke);return Object(_.jsxs)(Yn,{children:[t.depositLUSD?Object(_.jsxs)(_.Fragment,{children:["You are depositing"," ",Object(_.jsxs)(Gn,{children:[t.depositLUSD.prettify()," ",Ae]})," ","in the Stability Pool"]}):Object(_.jsxs)(_.Fragment,{children:["You are withdrawing"," ",Object(_.jsxs)(Gn,{children:[t.withdrawLUSD.prettify()," ",Ae]})," ","to your wallet"]}),(r||s)&&Object(_.jsxs)(_.Fragment,{children:[" ","and claiming at least"," ",r&&s?Object(_.jsxs)(_.Fragment,{children:[Object(_.jsx)(Gn,{children:r})," and ",Object(_.jsx)(Gn,{children:s})]}):Object(_.jsx)(Gn,{children:null!==r&&void 0!==r?r:s})]}),"."]})},li=({trove:e,lusdBalance:t,ownFrontend:n,haveUndercollateralizedTroves:a})=>({trove:e,lusdBalance:t,haveOwnFrontend:"registered"===n.status,haveUndercollateralizedTroves:a}),di=({stabilityDeposit:e})=>({originalDeposit:e,editedLUSD:e.currentLUSD,changePending:!1}),ci=e=>t=>yi(t,e),ui=ci({type:"finishChange"}),pi=ci({type:"revert"}),yi=(e,t)=>{const{originalDeposit:n,editedLUSD:a,changePending:i}=e;switch(t.type){case"startChange":return console.log("changeStarted"),{...e,changePending:!0};case"finishChange":return{...e,changePending:!1};case"setDeposit":return{...e,editedLUSD:Ce.Decimal.from(t.newValue)};case"revert":return{...e,editedLUSD:n.currentLUSD};case"updateStore":{const{stateChange:{stabilityDeposit:r}}=t;if(!r)return e;const s={...e,originalDeposit:r},o=!r.initialLUSD.eq(n.initialLUSD)||r.currentLUSD.gt(n.currentLUSD)||r.collateralGain.lt(n.collateralGain)||r.lqtyReward.lt(n.lqtyReward);return i&&o?ui(pi(s)):{...s,editedLUSD:r.apply(n.whatChanged(a))}}}},bi="stability-deposit",mi=()=>{const[{originalDeposit:e,editedLUSD:t,changePending:n},a]=Object(Le.useLiquityReducer)(yi,di),r=Object(Le.useLiquitySelector)(li),{dispatchEvent:s}=si(),o=Object(i.useCallback)((()=>{s("CANCEL_PRESSED")}),[s]),[l,d]=((e,t,{lusdBalance:n,haveOwnFrontend:a,haveUndercollateralizedTroves:i})=>{var r;const s=e.whatChanged(t);return a?[void 0,Object(_.jsx)(sa,{children:"You can\u2019t deposit using a wallet address that is registered as a frontend."})]:s?(null===(r=s.depositLUSD)||void 0===r?void 0:r.gt(n))?[void 0,Object(_.jsxs)(sa,{children:["The amount you're trying to deposit exceeds your balance by"," ",Object(_.jsxs)(Gn,{children:[s.depositLUSD.sub(n).prettify()," ",Ae]}),"."]})]:s.withdrawLUSD&&i?[void 0,Object(_.jsxs)(sa,{children:["You're not allowed to withdraw ",Ae," from your Stability Deposit when there are undercollateralized Troves. Please liquidate those Troves or try again later."]})]:[s,Object(_.jsx)(oi,{originalDeposit:e,change:s})]:[void 0,void 0]})(e,t,r),c=e.isEmpty,p=ie(bi);return Object(i.useEffect)((()=>{"waitingForApproval"===p.type||"waitingForConfirmation"===p.type?a({type:"startChange"}):"failed"===p.type||"cancelled"===p.type?a({type:"finishChange"}):"confirmedOneShot"===p.type&&s("DEPOSIT_CONFIRMED")}),[p.type,a,s]),Object(_.jsxs)(ni,{originalDeposit:e,editedLUSD:t,changePending:n,dispatch:a,children:[null!==d&&void 0!==d?d:c?Object(_.jsxs)(Yn,{children:["Enter the amount of ",Ae," you'd like to deposit."]}):Object(_.jsxs)(Yn,{children:["Adjust the ",Ae," amount to deposit or withdraw."]}),Object(_.jsxs)(u.f,{variant:"layout.actions",children:[Object(_.jsx)(u.c,{variant:"cancel",onClick:o,children:"Cancel"}),l?Object(_.jsx)(ii,{transactionId:bi,change:l,children:"Confirm"}):Object(_.jsx)(u.c,{disabled:!0,children:"Confirm"})]})]})},hi=({disabled:e,children:t})=>{const{liquity:n}=S(),[a]=re("stability-deposit",n.send.transferCollateralGainToTrove.bind(n.send));return Object(_.jsx)(u.c,{variant:"outline",sx:{mt:3,width:"100%"},onClick:a,disabled:e,children:t})},fi=({disabled:e,children:t})=>{const{liquity:n}=S(),[a]=re("stability-deposit",n.send.withdrawGainsFromStabilityPool.bind(n.send));return Object(_.jsx)(u.c,{onClick:a,disabled:e,children:t})},Ti=({remainingStabilityPoolLQTYReward:e})=>({remainingStabilityPoolLQTYReward:e}),gi=()=>{const{remainingStabilityPoolLQTYReward:e}=Object(Le.useLiquitySelector)(Ti);return Object(_.jsxs)(u.f,{sx:{mr:2,fontSize:2,fontWeight:"medium"},children:[e.prettify(0)," ",ke," remaining"]})},vi=({stabilityDeposit:e,trove:t,lusdInStabilityPool:n})=>({stabilityDeposit:e,trove:t,lusdInStabilityPool:n}),wi=()=>{const{dispatchEvent:e}=si(),{chainId:t}=Object(c.b)(),{stabilityDeposit:n,trove:a,lusdInStabilityPool:r}=Object(Le.useLiquitySelector)(vi),s=n.currentLUSD.mulDiv(100,r),o=Object(i.useCallback)((()=>{e("ADJUST_DEPOSIT_PRESSED")}),[e]),l=!n.lqtyReward.isZero,d=!n.collateralGain.isZero,p=!a.isEmpty,y=ie("stability-deposit"),b="waitingForApproval"===y.type||"waitingForConfirmation"===y.type;return Object(i.useEffect)((()=>{"confirmedOneShot"===y.type&&e("REWARDS_CLAIMED")}),[y.type,e]),Object(_.jsxs)(u.d,{children:[Object(_.jsxs)(u.h,{children:["Stability Pool (",Ae," Staking)",!b&&Object(_.jsx)(u.f,{sx:{justifyContent:"flex-end"},children:Object(_.jsx)(ei,{})})]}),Object(_.jsxs)(u.b,{sx:{p:[2,3]},children:[Object(_.jsxs)(u.b,{children:[Object(_.jsx)(Jn,{label:"Deposit",inputId:"deposit-lusd",amount:n.currentLUSD.prettify(),unit:Ae}),Object(_.jsx)(zn,{label:"Pool share",inputId:"deposit-share",amount:s.prettify(4),unit:"%"}),Object(_.jsx)(zn,{label:"Liquidation gain",inputId:"deposit-gain",amount:n.collateralGain.prettify(4),color:n.collateralGain.nonZero&&"success",unit:Pe[t||1]}),Object(_.jsx)(u.f,{sx:{alignItems:"center"},children:Object(_.jsx)(zn,{label:"Reward",inputId:"deposit-reward",amount:n.lqtyReward.prettify(),color:n.lqtyReward.nonZero&&"success",unit:ke,infoIcon:Object(_.jsx)(Ft,{tooltip:Object(_.jsxs)(u.d,{variant:"tooltip",sx:{width:"240px"},children:["Although the ",ke," rewards accrue every minute, the value on the UI only updates when a user transacts with the Stability Pool. Therefore you may receive more rewards than is displayed when you claim or adjust your deposit."]})})})}),Object(_.jsx)(u.f,{sx:{justifyContent:"flex-end",flex:1},children:Object(_.jsx)(gi,{})})]}),Object(_.jsxs)(u.f,{variant:"layout.actions",children:[Object(_.jsxs)(u.c,{variant:"outline",onClick:o,children:[Object(_.jsx)(I,{name:"pen",size:"sm"}),"\xa0Adjust"]}),Object(_.jsxs)(fi,{disabled:!d&&!l,children:["Claim ",Pe[t||1]," and ",ke]})]}),p&&Object(_.jsxs)(hi,{disabled:!d,children:["Claim ",ke," and move ",Pe[t||1]," to Trove"]})]}),b&&Object(_.jsx)(Xn,{})]})},_i=e=>{const{dispatchEvent:t}=si(),{chainId:n}=Object(c.b)(),a=Object(i.useCallback)((()=>{t("DEPOSIT_PRESSED")}),[t]);return Object(_.jsxs)(u.d,{children:[Object(_.jsxs)(u.h,{children:["Stability Pool (",Ae," Staking)",Object(_.jsx)(u.f,{sx:{justifyContent:"flex-end"},children:Object(_.jsx)(ei,{})})]}),Object(_.jsxs)(u.b,{sx:{p:[2,3]},children:[Object(_.jsxs)(Da,{title:"You have no USRE in the Stability Pool.",children:["You can earn ",Pe[n||1]," and ",ke," rewards by depositing ",Ae,"."]}),Object(_.jsx)(u.f,{variant:"layout.actions",children:Object(_.jsx)(u.c,{onClick:a,children:"Deposit"})})]})]})},ji=e=>{const{view:t}=si();switch(t){case"NONE":return Object(_.jsx)(_i,{...e});case"DEPOSITING":case"ADJUSTING":return Object(_.jsx)(mi,{...e});case"ACTIVE":return Object(_.jsx)(wi,{...e})}},xi=({price:e})=>e,Oi=()=>{const{liquity:{send:e,connection:{_priceFeedIsTestnet:t}}}=S(),n=Object(Le.useLiquitySelector)(xi),[a,r]=Object(i.useState)(n.toString(2)),{chainId:s}=Object(c.b)();return Object(i.useEffect)((()=>{r(n.toString(2))}),[n]),Object(_.jsxs)(u.d,{children:[Object(_.jsx)(u.h,{children:"Current Collateral Price (based on oracles)"}),Object(_.jsx)(u.b,{sx:{p:[2,3]},children:Object(_.jsxs)(u.f,{sx:{alignItems:"stretch"},children:[Object(_.jsx)(u.k,{children:Pe[s||1]}),Object(_.jsx)(u.k,{variant:"unit",children:"$"}),Object(_.jsx)(u.j,{type:t?"number":"text",step:"any",value:a,onChange:e=>r(e.target.value),disabled:!t}),t&&Object(_.jsx)(u.f,{sx:{ml:2,alignItems:"center"},children:Object(_.jsx)(se,{id:"set-price",tooltip:"Set",tooltipPlacement:"bottom",send:t=>{if(!a)throw new Error("Invalid price");return e.setPrice(Ce.Decimal.from(a),t)},children:Object(_.jsx)(u.c,{variant:"icon",children:Object(_.jsx)(I,{name:"chart-line",size:"lg"})})})})]})})]})},Si=({targetPeg:e})=>e,Ei=()=>{const{liquity:{send:e,connection:{_priceFeedIsTestnet:t}}}=S(),n=Object(Le.useLiquitySelector)(Si),[a,r]=Object(i.useState)(n.toString(2));return Object(i.useEffect)((()=>{r(n.toString(5))}),[n]),Object(_.jsx)(_.Fragment,{children:!t&&Object(_.jsxs)(u.d,{children:[Object(_.jsx)(u.h,{children:"Update Price Target (once per 24hrs) "}),Object(_.jsx)(u.b,{sx:{p:[2,3]},children:Object(_.jsxs)(u.f,{sx:{alignItems:"stretch"},children:[Object(_.jsx)(u.k,{sx:{display:["none","none","block"]},children:"Price Target"}),Object(_.jsx)(u.j,{type:t?"number":"text",step:"any",value:a,onChange:e=>r(e.target.value),disabled:!t}),Object(_.jsx)(u.f,{sx:{ml:2,alignItems:"center"},children:Object(_.jsx)(se,{id:"set-price",tooltip:"Requires at least 1 LINK token in the inflationFeed contract.",tooltipPlacement:"bottom",send:t=>e.updateTargetPeg(t),children:Object(_.jsx)(u.c,{children:"Update"})})})]})})]})})},Di=()=>Object(_.jsx)(Da,{title:Ye.term,children:Ye.description}),Ci=({estimate:e,children:t})=>e.toString()!==Ce.Decimal.INFINITY.toString()?Object(_.jsx)(_.Fragment,{children:null!==t&&void 0!==t?t:e}):Object(_.jsxs)(_.Fragment,{children:[Ce.Decimal.INFINITY.toString(),Object(_.jsx)(Ft,{size:"xs",tooltip:Dt.description,link:Dt.link}),"\xa0"]});var Li=n(15);const{BONDS:Ai,BOND_DEPOSIT:ki,ACCRUED_AMOUNT:Ii,MARKET_VALUE:Ri,OPTIMUM_REBOND_TIME:Mi,BREAK_EVEN_TIME:Pi}=a,Bi=()=>Object(Li.a)(u.f,{sx:{borderTop:"1px dotted gray",width:"100%",mt:"-20px",mb:0}}),Ui=e=>e<0?"Elapsed":0===e?"Now":parseFloat(e.toFixed(1))<1?`${e.toFixed(1)} days`:e>1e4?Ce.Decimal.INFINITY.toString():`${e.toFixed(0)} days`,Fi=e=>Array.from(Array(e)).map(((e,t)=>Object(Li.a)(Bi,{},t))),Ni=()=>{const{bonds:e,hasLoaded:t}=Lt();if(!t)return null;const n=e?e.filter((e=>"PENDING"===e.status)):[],a=n.length>0;return Object(Li.b)(u.d,{children:[Object(Li.a)(u.h,{children:Object(Li.b)(u.f,{children:["Pending bonds"," ",Object(Li.a)(Ft,{placement:"left",size:"xs",tooltip:Object(Li.a)(u.d,{variant:"tooltip",children:Ai.description})})]})}),Object(Li.b)(u.b,{sx:{p:[2,3]},children:[!a&&Object(Li.a)(Di,{}),a&&Object(Li.b)(u.g,{gap:"12px 0px",columns:[5,"1fr 1fr 1.1fr 1.3fr 1fr"],sx:{alignItems:"center",justifyItems:"center",alignContent:"center"},children:[Object(Li.b)(u.q,{sx:{fontWeight:"bold"},children:[ki.term," ",Object(Li.a)(Ft,{size:"xs",tooltip:Object(Li.a)(u.d,{variant:"tooltip",children:ki.description})})]}),Object(Li.b)(u.q,{sx:{fontWeight:"bold"},children:[Ii.term," ",Object(Li.a)(Ft,{size:"xs",tooltip:Object(Li.a)(u.d,{variant:"tooltip",children:Ii.description})})]}),Object(Li.b)(u.q,{sx:{fontWeight:"bold"},children:[Ri.term," ",Object(Li.a)(Ft,{size:"xs",tooltip:Object(Li.a)(u.d,{variant:"tooltip",children:Ri.description})})]}),Object(Li.b)(u.q,{sx:{fontWeight:"bold"},children:[Pi.term," ",Object(Li.a)(Ft,{size:"xs",tooltip:Object(Li.a)(u.d,{variant:"tooltip",children:Pi.description})})]}),Object(Li.b)(u.q,{sx:{fontWeight:"bold"},children:[Mi.term," ",Object(Li.a)(Ft,{size:"xs",tooltip:Object(Li.a)(u.d,{variant:"tooltip",children:Mi.description})})]}),Fi(5),n.map(((e,t)=>{const n=Ui((e.breakEvenTime.getTime()-Date.now())/1e3/60/60/24),a=Ui((e.rebondTime.getTime()-Date.now())/1e3/60/60/24);return Object(Li.b)(r.a.Fragment,{children:[Object(Li.b)(u.q,{children:[e.deposit.shorten()," ",Ae]}),Object(Li.b)(u.q,{children:[e.accrued.shorten()," ",Me]}),Object(Li.b)(u.q,{children:[e.marketValue.shorten()," ",Ae]}),Object(Li.a)(u.q,{children:Object(Li.a)(Ci,{estimate:n})}),Object(Li.a)(u.q,{children:Object(Li.a)(Ci,{estimate:a})}),Fi(5)]},t)}))]}),Object(Li.a)(u.f,{variant:"layout.actions",mt:3,children:Object(Li.a)(cn,{to:"/bonds/pending",m:0,p:0,children:Object(Li.a)(u.c,{variant:"primary",children:"Go to bonds"})})})]})]})},qi=Object(i.createContext)(null),Yi=()=>{const e=Object(i.useContext)(qi);if(null===e)throw new Error("You must add a <UnipoolStakingViewProvider> into the React tree");return e},Gi=({unipoolStake:e})=>e,Qi=()=>{const{liquity:e}=S(),{lqtyGain:t}=Object(Le.useLiquitySelector)(Gi),[n]=re("unipool-stake",e.send.withdrawLQTYRewardFromLiquidityMining.bind(e.send));return Object(_.jsx)(u.c,{onClick:n,disabled:t.isZero,children:"Claim gains"})},Wi=({unipoolStake:e,totalStakedUniTokens:t})=>({unipoolStake:e,totalStakedUniTokens:t}),Zi=()=>{const{changePending:e,dispatch:t}=Yi(),{unipoolStake:n,totalStakedUniTokens:a}=Object(Le.useLiquitySelector)(Wi),i=n.stakedLPToken.mulDiv(100,a);return Object(_.jsxs)(u.d,{children:[Object(_.jsx)(u.h,{children:"Liquidity Pool Token Staking"}),Object(_.jsxs)(u.b,{sx:{p:[2,3]},children:[Object(_.jsx)(Jn,{label:"Stake",inputId:"stake-lp-token",amount:n.stakedLPToken.prettify(),unit:Ie}),Object(_.jsx)(zn,{label:"Pool share",inputId:"unipool-stake-share",amount:i.prettify(4),unit:"%"}),Object(_.jsx)(zn,{label:"LNDRr gain",inputId:"unipool-stake-gain-lqty",amount:n.lqtyGain.prettify(4),color:n.lqtyGain.nonZero&&"success",unit:ke}),Object(_.jsxs)(u.f,{variant:"layout.actions",children:[Object(_.jsxs)(u.c,{variant:"outline",onClick:()=>t({type:"startAdjusting"}),children:[Object(_.jsx)(I,{name:"pen",size:"sm"}),"\xa0Adjust"]}),Object(_.jsx)(Qi,{})]})]}),e&&Object(_.jsx)(Xn,{})]})},Hi=({uniTokenBalance:e,totalStakedUniTokens:t})=>({uniTokenBalance:e,totalStakedUniTokens:t}),Vi=({children:e,title:t,originalStake:n,editedLPToken:a,dispatch:r})=>{const{uniTokenBalance:s,totalStakedUniTokens:o}=Object(Le.useLiquitySelector)(Hi),{changePending:l}=Yi(),d=Object(i.useState)(),c=!a.eq(n.stakedLPToken),p=n.stakedLPToken.add(s),y=a.eq(p),b=o.sub(n.stakedLPToken).add(a),m=n.stakedLPToken.mulDiv(100,o),h=a.mulDiv(100,b),f=n.stakedLPToken.nonZero&&Ce.Difference.between(h,m).nonZero;return Object(_.jsxs)(u.d,{children:[Object(_.jsxs)(u.h,{children:[t,c&&!l&&Object(_.jsx)(u.c,{variant:"titleIcon",sx:{":enabled:hover":{color:"danger"}},onClick:()=>r({type:"revert"}),children:Object(_.jsx)(I,{name:"history",size:"lg"})})]}),Object(_.jsxs)(u.b,{sx:{p:[2,3]},children:[Object(_.jsx)(Kn,{label:"Stake",inputId:"stake-lqty",amount:a.prettify(),maxAmount:p.toString(),maxedOut:y,unit:Ie,editingState:d,editedAmount:a.toString(2),setEditedAmount:e=>r({type:"setStake",newValue:e})}),h.infinite?Object(_.jsx)(zn,{label:"Pool share",inputId:"unipool-stake-share",amount:"N/A"}):Object(_.jsx)(zn,{label:"Pool share",inputId:"unipool-stake-share",amount:h.prettify(4),pendingAmount:null===f||void 0===f?void 0:f.prettify(4).concat("%"),pendingColor:(null===f||void 0===f?void 0:f.positive)?"success":"danger",unit:"%"}),!n.isEmpty&&Object(_.jsx)(_.Fragment,{children:Object(_.jsx)(zn,{label:"LNDRr gain",inputId:"stake-gain-lqty",amount:n.lqtyGain.prettify(4),color:n.lqtyGain.nonZero&&"success",unit:ke})}),e]}),l&&Object(_.jsx)(Xn,{})]})},zi=({change:e,children:t})=>{const{liquity:n}=S(),[a]=re("unipool-stake",e.stakeUniTokens?n.send.stakeUniTokens.bind(n.send,e.stakeUniTokens):n.send.unstakeUniTokens.bind(n.send,e.unstakeUniTokens));return Object(_.jsx)(u.c,{onClick:a,children:t})},$i=({allowance:e,children:t})=>{const{liquity:n}=S(),[a]=re("unipool-stake",n.send.approveUniTokens.bind(n.send,e));return e?Object(_.jsx)(u.c,{onClick:a,children:t}):null},Ji=({unipoolStake:e})=>({originalStake:e,editedLPToken:e.stakedLPToken}),Ki=(e,t)=>{const{originalStake:n,editedLPToken:a}=e;switch(t.type){case"setStake":return{...e,editedLPToken:Ce.Decimal.from(t.newValue)};case"revert":return{...e,editedLPToken:n.stakedLPToken};case"updateStore":{const{stateChange:{unipoolStake:e}}=t;if(e)return{originalStake:e,editedLPToken:e.apply(n.whatChanged(a))}}}return e},Xi=({uniTokenBalance:e,uniTokenAllowance:t})=>({uniTokenBalance:e,uniTokenAllowance:t}),er=({originalStake:e,change:t})=>{var n,a,i;const r=null===(n=t.stakeUniTokens)||void 0===n?void 0:n.prettify().concat(" ",Ie),s=null===(a=t.unstakeUniTokens)||void 0===a?void 0:a.prettify().concat(" ",Ie),o=null===(i=e.lqtyGain.nonZero)||void 0===i?void 0:i.prettify(4).concat(" ",ke);return e.isEmpty&&r?Object(_.jsxs)(Yn,{children:["You are staking ",Object(_.jsx)(Gn,{children:r}),"."]}):Object(_.jsxs)(Yn,{children:[r&&Object(_.jsxs)(_.Fragment,{children:["You are adding ",Object(_.jsx)(Gn,{children:r})," to your stake"]}),s&&Object(_.jsxs)(_.Fragment,{children:["You are withdrawing ",Object(_.jsx)(Gn,{children:s})," to your wallet"]}),o&&Object(_.jsxs)(_.Fragment,{children:[" ","and claiming"," ",Object(_.jsx)(_.Fragment,{children:Object(_.jsx)(Gn,{children:o})})]}),"."]})},tr=()=>{var e;const{dispatch:t}=Yi(),[{originalStake:n,editedLPToken:a},r]=Object(Le.useLiquityReducer)(Ki,Ji),{uniTokenBalance:s,uniTokenAllowance:o}=Object(Le.useLiquitySelector)(Xi),[l,d]=Object(i.useState)(!1),{chainId:p}=Object(c.b)(),y=n.whatChanged(a),[b,m]=y?(null===(e=y.stakeUniTokens)||void 0===e?void 0:e.gt(s))?[void 0,Object(_.jsxs)(sa,{children:["The amount you're trying to stake exceeds your balance by"," ",Object(_.jsxs)(Gn,{children:[y.stakeUniTokens.sub(s).prettify()," ",Ae,"-",Pe[p||1]," V2 LP Tokens"]}),"."]})]:[y,Object(_.jsx)(er,{originalStake:n,change:y})]:[void 0,void 0],h=n.isEmpty;return Object(i.useEffect)((()=>{var e;b&&(null===(e=b.stakeUniTokens)||void 0===e?void 0:e.gt(o))?d(!0):d(!1)}),[b,o]),Object(_.jsxs)(Vi,{title:"USRE-"+Pe[p||1]+" V2 LP Token Staking",originalStake:n,editedLPToken:a,dispatch:r,children:[null!==m&&void 0!==m?m:h?Object(_.jsxs)(Yn,{children:["Enter the amount of ",Ie," you'd like to stake."]}):Object(_.jsxs)(Yn,{children:["Adjust the ",Ie," amount to stake or withdraw."]}),Object(_.jsxs)(u.f,{variant:"layout.actions",children:[Object(_.jsx)(u.c,{variant:"cancel",onClick:()=>t({type:"cancelAdjusting"}),children:"Cancel"}),l?Object(_.jsx)($i,{allowance:Ce.Decimal.INFINITY,children:"Approve"}):b&&Object(_.jsx)(zi,{change:b,children:"Confirm"}),b?null:Object(_.jsx)(u.c,{disabled:!0,children:"Confirm"})]})]})},nr=()=>{const{dispatch:e}=Yi(),{chainId:t}=Object(c.b)();return Object(_.jsxs)(u.d,{children:[Object(_.jsxs)(u.h,{children:[Ae,"-",Pe[t||1]," LP Token Staking"]}),Object(_.jsxs)(u.b,{sx:{p:[2,3]},children:[Object(_.jsxs)(Da,{title:`You haven't staked ${Ie} yet.`,children:["Stake ",Ie," to earn ",ke,"."]}),Object(_.jsx)(u.f,{variant:"layout.actions",children:Object(_.jsx)(u.c,{onClick:()=>e({type:"startAdjusting"}),children:"Start Staking"})})]})]})},ar=()=>{const{view:e}=Yi();switch(e){case"ACTIVE":return Object(_.jsx)(Zi,{});case"ADJUSTING":return Object(_.jsx)(tr,{});case"NONE":return Object(_.jsx)(nr,{})}},ir=()=>{const{liquity:{send:e,connection:{_priceFeedIsTestnet:t}},account:n}=S(),[a,r]=Object(i.useState)("0");return t?Object(_.jsxs)(u.d,{children:[Object(_.jsx)(u.h,{children:"Testnet LP Token Mint"}),Object(_.jsx)(u.b,{sx:{p:[2,3]},children:Object(_.jsxs)(u.f,{sx:{alignItems:"stretch"},children:[Object(_.jsx)(u.k,{children:Ie}),Object(_.jsx)(u.j,{type:t?"number":"text",step:"any",value:a,onChange:e=>r(e.target.value),disabled:!t}),t&&Object(_.jsx)(u.f,{sx:{ml:2,alignItems:"center"},children:Object(_.jsx)(se,{id:"mint-lp-token",tooltip:"Mint",tooltipPlacement:"bottom",send:t=>{if(!a)throw new Error("Invalid token amount");return e._mintUniToken(Ce.Decimal.from(a),n,t)},children:Object(_.jsx)(u.c,{variant:"icon",children:Object(_.jsx)(I,{name:"chart-line",size:"lg"})})})})]})})]}):null},rr=Object(i.createContext)(null),sr=()=>{const e=Object(i.useContext)(rr);if(null===e)throw new Error("You must add a <TroveViewProvider> into the React tree");return e},or=({lqtyStake:e})=>e,lr=()=>{const{liquity:e}=S(),{collateralGain:t,lusdGain:n}=Object(Le.useLiquitySelector)(or),[a]=re("stake",e.send.withdrawGainsFromStaking.bind(e.send));return Object(_.jsx)(u.c,{onClick:a,disabled:t.isZero&&n.isZero,children:"Claim gains"})},dr=({lqtyStake:e,totalStakedLQTY:t})=>({lqtyStake:e,totalStakedLQTY:t}),cr=()=>{const{changePending:e,dispatch:t}=sr(),{chainId:n}=Object(c.b)(),{lqtyStake:a,totalStakedLQTY:i}=Object(Le.useLiquitySelector)(dr),r=a.stakedLQTY.mulDiv(100,i);return Object(_.jsxs)(u.d,{children:[Object(_.jsxs)(u.h,{children:["Reward Pool (",ke," Staking)"]}),Object(_.jsxs)(u.b,{sx:{p:[2,3]},children:[Object(_.jsx)(Jn,{label:"Stake",inputId:"stake-lqty",amount:a.stakedLQTY.prettify(),unit:ke}),Object(_.jsx)(zn,{label:"Pool share",inputId:"stake-share",amount:r.prettify(4),unit:"%"}),Object(_.jsx)(zn,{label:"Redemption gain",inputId:"stake-gain-eth",amount:a.collateralGain.prettify(4),color:a.collateralGain.nonZero&&"success",unit:Pe[n||1]}),Object(_.jsx)(zn,{label:"Issuance gain",inputId:"stake-gain-lusd",amount:a.lusdGain.prettify(),color:a.lusdGain.nonZero&&"success",unit:Ae}),Object(_.jsxs)(u.f,{variant:"layout.actions",children:[Object(_.jsxs)(u.c,{variant:"outline",onClick:()=>t({type:"startAdjusting"}),children:[Object(_.jsx)(I,{name:"pen",size:"sm"}),"\xa0Adjust"]}),Object(_.jsx)(lr,{})]})]}),e&&Object(_.jsx)(Xn,{})]})},ur=({lqtyBalance:e,totalStakedLQTY:t})=>({lqtyBalance:e,totalStakedLQTY:t}),pr=({children:e,title:t,originalStake:n,editedLQTY:a,dispatch:r})=>{const{lqtyBalance:s,totalStakedLQTY:o}=Object(Le.useLiquitySelector)(ur),{changePending:l}=sr(),{chainId:d}=Object(c.b)(),p=Object(i.useState)(),y=!a.eq(n.stakedLQTY),b=n.stakedLQTY.add(s),m=a.eq(b),h=o.sub(n.stakedLQTY).add(a),f=n.stakedLQTY.mulDiv(100,o),T=a.mulDiv(100,h),g=n.stakedLQTY.nonZero&&Ce.Difference.between(T,f).nonZero;return Object(_.jsxs)(u.d,{children:[Object(_.jsxs)(u.h,{children:[t,y&&!l&&Object(_.jsx)(u.c,{variant:"titleIcon",sx:{":enabled:hover":{color:"danger"}},onClick:()=>r({type:"revert"}),children:Object(_.jsx)(I,{name:"history",size:"lg"})})]}),Object(_.jsxs)(u.b,{sx:{p:[2,3]},children:[Object(_.jsx)(Kn,{label:"Stake",inputId:"stake-lqty",amount:a.prettify(),maxAmount:b.toString(),maxedOut:m,unit:ke,editingState:p,editedAmount:a.toString(2),setEditedAmount:e=>r({type:"setStake",newValue:e})}),T.infinite?Object(_.jsx)(zn,{label:"Pool share",inputId:"stake-share",amount:"N/A"}):Object(_.jsx)(zn,{label:"Pool share",inputId:"stake-share",amount:T.prettify(4),pendingAmount:null===g||void 0===g?void 0:g.prettify(4).concat("%"),pendingColor:(null===g||void 0===g?void 0:g.positive)?"success":"danger",unit:"%"}),!n.isEmpty&&Object(_.jsxs)(_.Fragment,{children:[Object(_.jsx)(zn,{label:"Redemption gain",inputId:"stake-gain-eth",amount:n.collateralGain.prettify(4),color:n.collateralGain.nonZero&&"success",unit:Pe[d||1]}),Object(_.jsx)(zn,{label:"Issuance gain",inputId:"stake-gain-lusd",amount:n.lusdGain.prettify(),color:n.lusdGain.nonZero&&"success",unit:Ae})]}),e]}),l&&Object(_.jsx)(Xn,{})]})},yr=({change:e,children:t})=>{const{liquity:n}=S(),[a]=re("stake",e.stakeLQTY?n.send.stakeLQTY.bind(n.send,e.stakeLQTY):n.send.unstakeLQTY.bind(n.send,e.unstakeLQTY));return Object(_.jsx)(u.c,{onClick:a,children:t})},br=({lqtyStake:e})=>({originalStake:e,editedLQTY:e.stakedLQTY}),mr=(e,t)=>{const{originalStake:n,editedLQTY:a}=e;switch(t.type){case"setStake":return{...e,editedLQTY:Ce.Decimal.from(t.newValue)};case"revert":return{...e,editedLQTY:n.stakedLQTY};case"updateStore":{const{stateChange:{lqtyStake:e}}=t;if(e)return{originalStake:e,editedLQTY:e.apply(n.whatChanged(a))}}}return e},hr=({lqtyBalance:e})=>e,fr=({originalStake:e,change:t})=>{var n,a,i,r;const{chainId:s}=Object(c.b)(),o=null===(n=t.stakeLQTY)||void 0===n?void 0:n.prettify().concat(" ",ke),l=null===(a=t.unstakeLQTY)||void 0===a?void 0:a.prettify().concat(" ",ke),d=null===(i=e.collateralGain.nonZero)||void 0===i?void 0:i.prettify(4).concat(` ${Pe[s||1]}`),u=null===(r=e.lusdGain.nonZero)||void 0===r?void 0:r.prettify().concat(" ",Ae);return e.isEmpty&&o?Object(_.jsxs)(Yn,{children:["You are staking ",Object(_.jsx)(Gn,{children:o}),"."]}):Object(_.jsxs)(Yn,{children:[o&&Object(_.jsxs)(_.Fragment,{children:["You are adding ",Object(_.jsx)(Gn,{children:o})," to your stake"]}),l&&Object(_.jsxs)(_.Fragment,{children:["You are withdrawing ",Object(_.jsx)(Gn,{children:l})," to your wallet"]}),(d||u)&&Object(_.jsxs)(_.Fragment,{children:[" ","and claiming"," ",d&&u?Object(_.jsxs)(_.Fragment,{children:[Object(_.jsx)(Gn,{children:d})," and ",Object(_.jsx)(Gn,{children:u})]}):Object(_.jsx)(_.Fragment,{children:Object(_.jsx)(Gn,{children:null!==d&&void 0!==d?d:u})})]}),"."]})},Tr=()=>{var e;const{dispatch:t}=sr(),[{originalStake:n,editedLQTY:a},i]=Object(Le.useLiquityReducer)(mr,br),r=Object(Le.useLiquitySelector)(hr),s=n.whatChanged(a),[o,l]=s?(null===(e=s.stakeLQTY)||void 0===e?void 0:e.gt(r))?[void 0,Object(_.jsxs)(sa,{children:["The amount you're trying to stake exceeds your balance by"," ",Object(_.jsxs)(Gn,{children:[s.stakeLQTY.sub(r).prettify()," ",ke]}),"."]})]:[s,Object(_.jsx)(fr,{originalStake:n,change:s})]:[void 0,void 0],d=n.isEmpty;return Object(_.jsxs)(pr,{title:"Reward Pool",originalStake:n,editedLQTY:a,dispatch:i,children:[null!==l&&void 0!==l?l:d?Object(_.jsxs)(Yn,{children:["Enter the amount of ",ke," you'd like to stake."]}):Object(_.jsxs)(Yn,{children:["Adjust the ",ke," amount to stake or withdraw."]}),Object(_.jsxs)(u.f,{variant:"layout.actions",children:[Object(_.jsx)(u.c,{variant:"cancel",onClick:()=>t({type:"cancelAdjusting"}),children:"Cancel"}),o?Object(_.jsx)(yr,{change:o,children:"Confirm"}):Object(_.jsx)(u.c,{disabled:!0,children:"Confirm"})]})]})},gr=()=>{const{dispatch:e}=sr();return Object(_.jsxs)(u.d,{children:[Object(_.jsxs)(u.h,{children:["Reward Pool (",ke," Staking)"]}),Object(_.jsxs)(u.b,{sx:{p:[2,3]},children:[Object(_.jsxs)(Da,{title:"You haven't staked LNDRr yet.",children:["Stake ",ke," to earn a share of borrowing and redemption fees."]}),Object(_.jsx)(u.f,{variant:"layout.actions",children:Object(_.jsx)(u.c,{onClick:()=>e({type:"startAdjusting"}),children:"Start Staking"})})]})]})},vr=()=>{const{view:e}=sr();switch(e){case"ACTIVE":return Object(_.jsx)(cr,{});case"ADJUSTING":return Object(_.jsx)(Tr,{});case"NONE":return Object(_.jsx)(gr,{})}},wr=Object(i.createContext)(null),_r=()=>{const e=Object(i.useContext)(wr);if(null===e)throw new Error("You must add a <LiquidationViewProvider> into the React tree");return e},jr=()=>{const{liquity:{send:e}}=S(),{dispatch:t}=_r(),[n,a]=Object(i.useState)("90");return Object(_.jsxs)(u.d,{children:[Object(_.jsx)(u.h,{children:"Liquidate"}),Object(_.jsxs)(u.b,{sx:{p:[2,3]},children:[Object(_.jsx)(Da,{title:"Liquidation is expected to be carried out by bots."}),Object(_.jsxs)(u.f,{sx:{alignItems:"stretch"},children:[Object(_.jsx)(u.k,{children:"Up to"}),Object(_.jsx)(u.j,{type:"number",min:"1",step:"1",value:n,onChange:e=>a(e.target.value)}),Object(_.jsx)(u.k,{children:"Troves (Loans)"})]}),Object(_.jsxs)(u.f,{variant:"layout.actions",mt:"3",children:[Object(_.jsx)(u.c,{variant:"cancel",onClick:()=>t({type:"cancelAdjusting"}),children:"Cancel"}),Object(_.jsx)(se,{id:"batch-liquidate",tooltip:"Liquidate",tooltipPlacement:"bottom",send:t=>{if(!n)throw new Error("Invalid number");return e.liquidateUpTo(parseInt(n,10),t)},children:Object(_.jsx)(u.c,{children:"Confirm"})})]})]})]})};var xr=n(180),Or=n.n(xr);const Sr=({children:e,short:t,...n})=>Object(_.jsxs)(u.b,{as:"span",...n,children:[Object(_.jsx)(u.b,{as:"span",sx:{display:["none","unset"]},children:e}),Object(_.jsx)(u.b,{as:"span",sx:{display:["unset","none"]},children:t})]}),Er="40px",Dr=(e,t)=>[e.collateralRatioIsBelowMinimum(t),"Collateral ratio not low enough"],Cr=(e,t,n,a)=>{const i=e.collateralRatio(t);return i.gte(Ce.MINIMUM_COLLATERAL_RATIO)&&i.lt(n)?[e.debt.lte(a),"There's not enough LUSD in the Stability pool to cover the debt"]:Dr(e,t)},Lr=({numberOfTroves:e,price:t,total:n,lusdInStabilityPool:a,blockTag:i})=>({numberOfTroves:e,price:t,recoveryMode:n.collateralRatioIsBelowCritical(t),totalCollateralRatio:n.collateralRatio(t),lusdInStabilityPool:a,blockTag:i}),Ar=({pageSize:e})=>{const{blockTag:t,numberOfTroves:n,recoveryMode:a,totalCollateralRatio:r,lusdInStabilityPool:s,price:o}=Object(Le.useLiquitySelector)(Lr),{liquity:l}=S(),{chainId:d}=Object(c.b)(),[p,y]=Object(i.useState)(!0),[b,m]=Object(i.useState)(),[h,f]=Object(i.useState)({}),T=Object(i.useCallback)((()=>f({})),[]),[g,v]=Object(i.useState)(0),w=Math.ceil(n/e)||1,j=Math.min(g,w-1);Object(i.useEffect)((()=>{g!==j&&v(j)}),[g,j]),Object(i.useEffect)((()=>{let n=!0;return y(!0),l.getTroves({first:e,sortedBy:"ascendingCollateralRatio",startingAt:j*e},{blockTag:t}).then((e=>{n&&(m(e),y(!1))})),()=>{n=!1}}),[l,j,e,h]),Object(i.useEffect)((()=>{T()}),[T,n]);const[x,O]=Object(i.useState)();return Object(i.useEffect)((()=>{if(void 0!==x){let e=!1;return setTimeout((()=>{e||O(void 0)}),2e3),()=>{e=!0}}}),[x]),Object(_.jsxs)(u.d,{sx:{width:"100%"},children:[Object(_.jsxs)(u.h,{children:[Object(_.jsx)(Sr,{short:"Troves",children:"Risky Troves"}),Object(_.jsxs)(u.f,{sx:{alignItems:"center"},children:[0!==n&&Object(_.jsxs)(_.Fragment,{children:[Object(_.jsxs)(Sr,{short:`page ${j+1} / ${w}`,sx:{mr:[0,3],fontWeight:"body",fontSize:[1,2],letterSpacing:[-1,0]},children:[j*e+1,"-",Math.min((j+1)*e,n)," ","of ",n]}),Object(_.jsx)(u.c,{variant:"titleIcon",onClick:()=>{j>0&&v(j-1)},disabled:j<=0,children:Object(_.jsx)(I,{name:"chevron-left",size:"lg"})}),Object(_.jsx)(u.c,{variant:"titleIcon",onClick:()=>{j<w-1&&v(j+1)},disabled:j>=w-1,children:Object(_.jsx)(I,{name:"chevron-right",size:"lg"})})]}),Object(_.jsx)(u.c,{variant:"titleIcon",sx:{opacity:p?0:1,ml:[0,3]},onClick:T,children:Object(_.jsx)(I,{name:"redo",size:"lg"})})]})]}),b&&0!==b.length?Object(_.jsx)(u.b,{sx:{p:[2,3]},children:Object(_.jsxs)(u.b,{as:"table",sx:{mt:2,pl:[1,4],width:"100%",textAlign:"center",lineHeight:1.15},children:[Object(_.jsxs)("colgroup",{children:[Object(_.jsx)("col",{style:{width:"50px"}}),Object(_.jsx)("col",{}),Object(_.jsx)("col",{}),Object(_.jsx)("col",{}),Object(_.jsx)("col",{style:{width:Er}})]}),Object(_.jsx)("thead",{children:Object(_.jsxs)("tr",{children:[Object(_.jsx)("th",{children:"Owner"}),Object(_.jsxs)("th",{children:[Object(_.jsx)(Sr,{short:"Coll.",children:"Collateral"}),Object(_.jsx)(u.b,{sx:{fontSize:[0,1],fontWeight:"body",opacity:.5},children:Pe[d||1]})]}),Object(_.jsxs)("th",{children:["Debt",Object(_.jsx)(u.b,{sx:{fontSize:[0,1],fontWeight:"body",opacity:.5},children:Ae})]}),Object(_.jsxs)("th",{children:["Coll.",Object(_.jsx)("br",{}),"Ratio"]}),Object(_.jsx)("th",{})]})}),Object(_.jsx)("tbody",{children:b.map((e=>{return!e.isEmpty&&Object(_.jsxs)("tr",{children:[Object(_.jsxs)("td",{style:{display:"flex",alignItems:"center",height:Er},children:[Object(_.jsx)(H,{message:e.ownerAddress,placement:"top",children:Object(_.jsxs)(u.q,{variant:"address",sx:{width:["73px","unset"],overflow:"hidden",position:"relative"},children:[Be(e.ownerAddress),Object(_.jsx)(u.b,{sx:{display:["block","none"],position:"absolute",top:0,right:0,width:"50px",height:"100%",background:"linear-gradient(90deg, rgba(255,255,255,0) 0%, rgba(255,255,255,1) 100%)"}})]})}),Object(_.jsx)(Or.a,{text:e.ownerAddress,onCopy:()=>O(e.ownerAddress),children:Object(_.jsx)(u.c,{variant:"icon",sx:{width:"24px",height:"24px"},children:Object(_.jsx)(I,{name:x===e.ownerAddress?"clipboard-check":"clipboard",size:"sm"})})})]}),Object(_.jsx)("td",{children:Object(_.jsx)(Sr,{short:e.collateral.shorten(),children:e.collateral.prettify(4)})}),Object(_.jsx)("td",{children:Object(_.jsx)(Sr,{short:e.debt.shorten(),children:e.debt.prettify()})}),Object(_.jsx)("td",{children:(t=e.collateralRatio(o),Object(_.jsx)(u.q,{color:t.gt(Ce.CRITICAL_COLLATERAL_RATIO)?"success":t.gt(1.2)?"warning":"danger",children:new Ce.Percent(t).prettify()}))}),Object(_.jsx)("td",{children:Object(_.jsx)(se,{id:`liquidate-${e.ownerAddress}`,tooltip:"Liquidate",requires:[a?Cr(e,o,r,s):Dr(e,o)],send:l.send.liquidate.bind(l.send,e.ownerAddress),children:Object(_.jsx)(u.c,{variant:"dangerIcon",children:Object(_.jsx)(I,{name:"trash"})})})})]},e.ownerAddress);var t}))})]})}):Object(_.jsx)(u.b,{sx:{p:[2,3]},children:Object(_.jsx)(u.b,{sx:{p:4,fontSize:3,textAlign:"center"},children:b?"There are no Troves yet":"Loading..."})}),p&&Object(_.jsx)(Xn,{})]})},kr=()=>{const{dispatch:e}=_r();return Object(_.jsxs)(u.d,{children:[Object(_.jsx)(u.h,{children:"Liquidation"}),Object(_.jsxs)(u.b,{sx:{p:[2,3]},children:[Object(_.jsx)(Da,{title:"Liquidation is expected to be carried out by bots."}),Object(_.jsx)(u.f,{variant:"layout.actions",children:Object(_.jsx)(u.c,{onClick:()=>e({type:"startAdjusting"}),children:"Start Liquidation"})})]})]})},Ir=()=>{const{view:e}=_r();switch(e){case"ADJUSTING":return Object(_.jsxs)(_.Fragment,{children:[Object(_.jsx)(jr,{}),Object(_.jsx)(Ar,{pageSize:10})]});case"NONE":return Object(_.jsx)(kr,{})}},Rr=Object(i.createContext)(null),Mr=()=>{const e=Object(i.useContext)(Rr);if(null===e)throw new Error("You must add a <RedemptionViewProvider> into the React tree");return e},Pr=({lusdBalance:e,fees:t,total:n,price:a,targetPeg:i})=>({lusdBalance:e,fees:t,total:n,price:a,targetPeg:i}),Br=()=>{const{dispatch:e}=Mr(),{liquity:t}=S(),{chainId:n}=Object(c.b)(),{lusdBalance:a,fees:r,total:s,price:o,targetPeg:l}=Object(Le.useLiquitySelector)(Pr),d=Object(i.useState)(),[p,y]=Object(i.useState)(!1),[b,m]=Object(i.useState)(Ce.Decimal.ZERO),[h,f]=Object(i.useState)(Ce.Decimal.ZERO),[T,g]=Object(i.useState)(Ce.Decimal.ZERO),[v,w]=re("redeem-lusd",t.send.redeemLUSD.bind(t.send,b,void 0));Object(i.useEffect)((()=>{"waitingForApproval"==(null===w||void 0===w?void 0:w.type)&&"redeem-lusd"==(null===w||void 0===w?void 0:w.id)?y(!0):y(!1)}),[w]),Object(i.useEffect)((()=>{const e=b.div(s.debt),t=r.redemptionRate(e),n=t.mul(b),a=t.mul(n).mul(l).div(o);g(a),f(t)}),[b,r]);const j=a,x=b.eq(j);return Object(_.jsxs)(u.d,{children:[Object(_.jsxs)(u.h,{children:["Redemption",!p&&Object(_.jsx)(u.c,{variant:"titleIcon",sx:{":enabled:hover":{color:"danger"}},onClick:()=>m(Ce.Decimal.ZERO),children:Object(_.jsx)(I,{name:"history",size:"lg"})})]}),Object(_.jsxs)(u.b,{sx:{p:[2,3]},children:[Object(_.jsx)(Kn,{label:"Redeem",inputId:"redeem-usdl",amount:b.prettify(),maxAmount:j.toString(),maxedOut:x,unit:Ae,editingState:d,editedAmount:b.toString(2),setEditedAmount:e=>m(Ce.Decimal.from(e))}),Object(_.jsx)(zn,{label:"Redemption Fee",inputId:"redemption-fee",amount:T.prettify(4),pendingAmount:null===h||void 0===h?void 0:h.mul(100).prettify(2).concat("%"),unit:Pe[n||1],infoIcon:Object(_.jsx)(Ft,{tooltip:Object(_.jsxs)(u.d,{variant:"tooltip",sx:{width:"200px"},children:["The Redemption Fee is charged as a percentage of the redeemed ",Pe[n||1],". The Redemption Fee depends on LUSD redemption volumes and is 0.5% at minimum."]})})}),b.isZero&&Object(_.jsxs)(Yn,{children:["Enter the amount of ",Ae," you'd like to redeem."]}),b.gt(a)&&Object(_.jsxs)(sa,{children:["The amount you're trying to redeem exceeds your balance by"," ",Object(_.jsxs)(Gn,{children:[b.sub(a).prettify()," ",Ae]}),"."]}),Object(_.jsxs)(u.f,{variant:"layout.actions",children:[Object(_.jsx)(u.c,{variant:"cancel",onClick:()=>e({type:"cancelAdjusting"}),children:"Cancel"}),b.isZero||b.gt(a)?Object(_.jsx)(u.c,{disabled:!0,children:"Confirm"}):null,!b.isZero&&b.lte(a)?Object(_.jsx)(u.c,{onClick:v,children:"Confirm"}):null]})]}),p&&Object(_.jsx)(Xn,{})]})},Ur=()=>{const{dispatch:e}=Mr();return Object(_.jsxs)(u.d,{children:[Object(_.jsx)(u.h,{children:"Redemption"}),Object(_.jsxs)(u.b,{sx:{p:[2,3]},children:[Object(_.jsx)(Da,{title:"Redemptions are expected to be carried out by bots when arbitrage opportunities emerge."}),Object(_.jsx)(u.f,{variant:"layout.actions",children:Object(_.jsx)(u.c,{onClick:()=>e({type:"startAdjusting"}),children:"Start Redemption"})})]})]})},Fr=()=>{const{view:e}=Mr();switch(e){case"ADJUSTING":return Object(_.jsx)(Br,{});case"NONE":return Object(_.jsx)(Ur,{})}},Nr=()=>Object(_.jsxs)(u.e,{variant:"columns",children:[Object(_.jsxs)(u.e,{variant:"left",children:[Object(_.jsx)(Ni,{}),Object(_.jsx)(za,{}),Object(_.jsx)(ji,{}),Object(_.jsx)(vr,{}),Object(_.jsx)(ar,{}),Object(_.jsx)(Ir,{}),Object(_.jsx)(Fr,{})]}),Object(_.jsxs)(u.e,{variant:"right",children:[Object(_.jsx)(rn,{}),Object(_.jsx)(Oi,{}),Object(_.jsx)(ir,{}),Object(_.jsx)(Ei,{})]})]}),qr=()=>{const{config:{frontendTag:e}}=S();return Object(_.jsxs)(u.b,{sx:{display:"flex",flexDirection:"column",justifyContent:"space-around",m:3,p:3,maxWidth:"500px",border:1,borderRadius:"8px",borderColor:"warning",boxShadow:2},children:[Object(_.jsxs)(u.f,{sx:{alignItems:"center",mx:3,mb:2},children:[Object(_.jsx)(I,{name:"exclamation-triangle",size:"2x"}),Object(_.jsx)(u.h,{sx:{ml:3,fontSize:"18px"},children:"Frontend not yet registered"})]}),Object(_.jsxs)(u.n,{sx:{fontSize:2},children:["If you're the operator of this frontend, please select ",Object(_.jsx)("b",{children:Be(e)})," ","in your wallet to proceed with the registration."]})]})},Yr=({kickbackRate:e})=>{const{liquity:{send:t}}=S(),n="register-frontend",a=ie(n);return"waitingForApproval"===a.type?Object(_.jsxs)(u.c,{disabled:!0,children:[Object(_.jsx)(u.p,{sx:{mr:2,color:"white"},size:"20px"}),"Waiting for your approval"]}):"waitingForConfirmation"!==a.type&&"confirmed"!==a.type?Object(_.jsx)(se,{id:n,send:t.registerFrontend.bind(t,e),children:Object(_.jsx)(u.c,{children:"Register"})}):null},Gr=()=>{const{account:e}=S(),[t,n]=Object(i.useState)(Ce.Decimal.from(.8)),[a,r]=Object(i.useState)(Ce.Decimal.from(.2)),[s,o]=Object(i.useState)("80");return Object(_.jsxs)(_.Fragment,{children:[Object(_.jsxs)(u.d,{children:[Object(_.jsx)(u.h,{children:"Choose a kickback rate"}),Object(_.jsx)(u.b,{sx:{p:[2,3]},children:Object(_.jsxs)(u.f,{children:[Object(_.jsx)(u.k,{children:"Kickback rate"}),Object(_.jsx)(u.k,{variant:"unit",children:"%"}),Object(_.jsx)(u.j,{sx:{maxWidth:"200px"},type:"number",step:"any",value:s,onChange:e=>{o(e.target.value);try{const t=Ce.Decimal.from(e.target.value||0).div(100),a=Ce.Decimal.ONE.sub(t);n(t),r(a)}catch{}},onBlur:()=>{o(t.mul(100).toString())}})]})})]}),Object(_.jsxs)(u.b,{sx:{display:"flex",flexDirection:"column",justifyContent:"space-around",m:3,mt:[3,null,4],mb:4,p:3,maxWidth:"450px",border:1,borderRadius:"8px",borderColor:"danger",boxShadow:2},children:[Object(_.jsxs)(u.f,{sx:{alignItems:"center",mx:3,fontSize:4},children:[Object(_.jsx)(I,{name:"hand-paper"}),Object(_.jsx)(u.h,{sx:{ml:3,fontSize:"18px"},children:"Before you proceed"})]}),Object(_.jsxs)(u.n,{sx:{fontSize:1,mt:3},children:["You are about to register ",Object(_.jsx)("b",{children:Be(e)})," to receive"," ",Object(_.jsxs)("b",{children:[a.mul(100).toString(),"%"]})," of the ",ke," rewards earned through this frontend."]}),Object(_.jsx)(u.n,{sx:{fontSize:1,mt:3,fontWeight:"bold"},children:"You will not be able to change the kickback rate for this address later."}),Object(_.jsx)(u.n,{sx:{fontSize:1,mt:3},children:"If you'd like to use a different kickback rate in the future, you will need to repeat this registration with a different address."})]}),Object(_.jsx)(Yr,{kickbackRate:t})]})},Qr=({onDismiss:e})=>Object(_.jsxs)(_.Fragment,{children:[Object(_.jsxs)(u.b,{sx:{display:"flex",flexDirection:"column",justifyContent:"space-around",m:3,mt:4,mb:4,p:4,maxWidth:"500px",bg:"rgba(40, 192, 129, 0.05)",color:"success",border:1,borderRadius:"8px",borderColor:"success",boxShadow:2},children:[Object(_.jsxs)(u.f,{sx:{alignItems:"center",mx:3,mb:4,fontSize:5},children:[Object(_.jsx)(I,{name:"check"}),Object(_.jsx)(u.h,{sx:{ml:3,fontSize:4},children:"Success!"})]}),Object(_.jsxs)(u.n,{sx:{fontSize:2},children:["Your frontend is now ready to receive ",ke," rewards."]})]}),Object(_.jsx)(u.c,{onClick:e,children:"Go to Dashboard"})]}),Wr=({frontend:e})=>e,Zr=()=>{const{account:e,config:{frontendTag:t}}=S(),n=Object(Le.useLiquitySelector)(Wr),a=t!==Ut.a&&"unregistered"===n.status,[r,s]=Object(i.useState)(!1);return Object(i.useEffect)((()=>{a&&s(!0)}),[a]),r||a?"registered"===n.status?Object(_.jsx)(Qr,{onDismiss:()=>s(!1)}):e===t?Object(_.jsx)(Gr,{}):Object(_.jsx)(qr,{}):Object(_.jsx)(Nr,{})},Hr=({label:e,desc:t})=>Object(_.jsx)(u.e,{variant:"main",sx:{display:"flex",flexGrow:1,flexDirection:"column",alignItems:"center"},children:Object(_.jsx)(u.d,{children:Object(_.jsx)(u.b,{sx:{p:[2,3]},children:Object(_.jsxs)(Da,{title:e,children:[Object(_.jsx)(u.n,{children:t}),Object(_.jsx)("br",{}),Object(_.jsxs)(u.n,{children:["Follow our ",Object(_.jsx)(u.l,{href:"https://twitter.com/lendrnetwork",target:"_blank",children:"Twitter"})," to stay up to date on all Lendr updates!"]})]})})})}),Vr={NONE:{OPEN_TROVE_PRESSED:"OPENING",TROVE_OPENED:"ACTIVE"},LIQUIDATED:{OPEN_TROVE_PRESSED:"OPENING",TROVE_SURPLUS_COLLATERAL_CLAIMED:"NONE",TROVE_OPENED:"ACTIVE"},REDEEMED:{OPEN_TROVE_PRESSED:"OPENING",TROVE_SURPLUS_COLLATERAL_CLAIMED:"NONE",TROVE_OPENED:"ACTIVE"},OPENING:{CANCEL_ADJUST_TROVE_PRESSED:"NONE",TROVE_OPENED:"ACTIVE"},ADJUSTING:{CANCEL_ADJUST_TROVE_PRESSED:"ACTIVE",TROVE_ADJUSTED:"ACTIVE",TROVE_CLOSED:"NONE",TROVE_LIQUIDATED:"LIQUIDATED",TROVE_REDEEMED:"REDEEMED"},CLOSING:{CANCEL_ADJUST_TROVE_PRESSED:"ACTIVE",TROVE_CLOSED:"NONE",TROVE_ADJUSTED:"ACTIVE",TROVE_LIQUIDATED:"LIQUIDATED",TROVE_REDEEMED:"REDEEMED"},ACTIVE:{ADJUST_TROVE_PRESSED:"ADJUSTING",CLOSE_TROVE_PRESSED:"CLOSING",TROVE_CLOSED:"NONE",TROVE_LIQUIDATED:"LIQUIDATED",TROVE_REDEEMED:"REDEEMED"}},zr={open:"TROVE_OPENED",closedByOwner:"TROVE_CLOSED",closedByLiquidation:"TROVE_LIQUIDATED",closedByRedemption:"TROVE_REDEEMED"},$r=({trove:{status:e}})=>e,Jr=e=>{const{children:t}=e,n=Object(Le.useLiquitySelector)($r),[a,r]=Object(i.useState)((e=>"closedByLiquidation"===e?"LIQUIDATED":"closedByRedemption"===e?"REDEEMED":"open"===e?"ACTIVE":"NONE")(n)),s=Object(i.useRef)(a),o=Object(i.useCallback)((e=>{const t=((e,t)=>{var n;return null!==(n=Vr[e][t])&&void 0!==n?n:e})(s.current,e);console.log("dispatchEvent() [current-view, event, next-view]",s.current,e,t),r(t)}),[]);Object(i.useEffect)((()=>{s.current=a}),[a]),Object(i.useEffect)((()=>{var e;const t=null!==(e=zr[n])&&void 0!==e?e:null;null!==t&&o(t)}),[n,o]);const l={view:a,dispatchEvent:o};return Object(_.jsx)(ia.Provider,{value:l,children:t})},Kr={NONE:{DEPOSIT_PRESSED:"DEPOSITING"},DEPOSITING:{CANCEL_PRESSED:"NONE",DEPOSIT_CONFIRMED:"ACTIVE"},ACTIVE:{REWARDS_CLAIMED:"ACTIVE",ADJUST_DEPOSIT_PRESSED:"ADJUSTING",DEPOSIT_EMPTIED:"NONE"},ADJUSTING:{CANCEL_PRESSED:"ACTIVE",DEPOSIT_CONFIRMED:"ACTIVE",DEPOSIT_EMPTIED:"NONE"}},Xr=({stabilityDeposit:e})=>e,es=e=>{const{children:t}=e,n=Object(Le.useLiquitySelector)(Xr),[a,r]=Object(i.useState)((e=>e.isEmpty?"NONE":"ACTIVE")(n)),s=Object(i.useRef)(a),o=Object(i.useCallback)((e=>{const t=((e,t)=>{var n;return null!==(n=Kr[e][t])&&void 0!==n?n:e})(s.current,e);console.log("dispatchEvent() [current-view, event, next-view]",s.current,e,t),r(t)}),[]);Object(i.useEffect)((()=>{s.current=a}),[a]),Object(i.useEffect)((()=>{n.isEmpty&&o("DEPOSIT_EMPTIED")}),[n.isEmpty,o]);const l={view:a,dispatchEvent:o};return Object(_.jsx)(ri.Provider,{value:l,children:t})},ts=({lqtyStake:e})=>({lqtyStake:e,changePending:!1,adjusting:!1}),ns=(e,t)=>{switch(t.type){case"startAdjusting":return{...e,adjusting:!0};case"cancelAdjusting":return{...e,adjusting:!1};case"startChange":return{...e,changePending:!0};case"abortChange":return{...e,changePending:!1};case"updateStore":{const{oldState:{lqtyStake:n},stateChange:{lqtyStake:a}}=t;if(a){const t=!a.stakedLQTY.eq(n.stakedLQTY)||a.collateralGain.lt(n.collateralGain)||a.lusdGain.lt(n.lusdGain);return{...e,lqtyStake:a,adjusting:!1,changePending:!t&&e.changePending}}}}return e},as=({children:e})=>{const t=ie("stake"),[{adjusting:n,changePending:a,lqtyStake:r},s]=Object(Le.useLiquityReducer)(ns,ts);return Object(i.useEffect)((()=>{"waitingForApproval"===t.type||"waitingForConfirmation"===t.type?s({type:"startChange"}):"failed"!==t.type&&"cancelled"!==t.type||s({type:"abortChange"})}),[t.type,s]),Object(_.jsx)(rr.Provider,{value:{view:n?"ADJUSTING":r.isEmpty?"NONE":"ACTIVE",changePending:a,dispatch:s},children:e})};n(304);const is={IDLE:{CREATE_BOND_PRESSED:"CREATING",CANCEL_BOND_PRESSED:"CANCELLING",CLAIM_BOND_PRESSED:"CLAIMING",SWAP_PRESSED:"SWAPPING",MANAGE_LIQUIDITY_PRESSED:"MANAGING_LIQUIDITY"},CREATING:{ABORT_PRESSED:"IDLE",CREATE_BOND_CONFIRMED:"IDLE",BACK_PRESSED:"IDLE",CONFIRM_PRESSED:"CREATING"},CLAIMING:{ABORT_PRESSED:"IDLE",BACK_PRESSED:"IDLE",CONFIRM_PRESSED:"CLAIMING",CLAIM_BOND_CONFIRMED:"IDLE"},CANCELLING:{ABORT_PRESSED:"IDLE",BACK_PRESSED:"IDLE",CONFIRM_PRESSED:"CANCELLING",CANCEL_BOND_CONFIRMED:"IDLE"},SWAPPING:{ABORT_PRESSED:"IDLE",BACK_PRESSED:"IDLE",APPROVE_PRESSED:"SWAPPING",CONFIRM_PRESSED:"SWAPPING",SWAP_CONFIRMED:"IDLE"},MANAGING_LIQUIDITY:{ABORT_PRESSED:"IDLE",BACK_PRESSED:"IDLE",APPROVE_PRESSED:"MANAGING_LIQUIDITY",CONFIRM_PRESSED:"MANAGING_LIQUIDITY",MANAGE_LIQUIDITY_CONFIRMED:"IDLE"}};let rs;!function(e){e[e.BLUSD=0]="BLUSD",e[e.LUSD=1]="LUSD",e[e.BLUSD_LUSD_LP=2]="BLUSD_LUSD_LP"}(rs||(rs={}));var ss=n(14),os=n(54),ls=n(45),ds=n(182),cs=n(63),us=n(181);const ps=e=>1e3*e,ys=e=>parseFloat(e.toString()),bs=e=>e.toNumber(),ms=e=>Ce.Decimal.fromBigNumberString(e.toHexString()),hs=e=>e/60/60/24,fs=(e,t,n)=>{const a=e.mul(n);return parseFloat(a.toString())-parseFloat(t.toString())},Ts=(e,t,n)=>{const a=t.mul(Ce.Decimal.ONE.sub(n));return a.lte(Ce.Decimal.ONE)?Ce.Decimal.INFINITY:e.div(a.sub(Ce.Decimal.ONE))},gs=(e,t,n,a=Ce.Decimal.ZERO)=>{const i=t.sub(a);return Ce.Decimal.ONE.div(e).mul(i.div(i.add(n)))},vs=(e,t,n)=>{const a=Ce.Decimal.ONE.sub(n).mul(t);if(a.lte(Ce.Decimal.ONE))return Ce.Decimal.INFINITY;const i=Ce.Decimal.from(Math.sqrt(parseFloat(a.toString()))),r=Ce.Decimal.ONE.add(i),s=a.sub(Ce.Decimal.ONE);return e.mul(r.div(s))},ws=(e,t,n,a)=>{const i=hs(ys(e)),r=ys(((e,t)=>{const n=t.gt(e)?t.sub(e):Ce.Decimal.ZERO,a=hs(parseFloat(n.toString()));return Ce.Decimal.from(a)})(n,t)),s=ys(a)-i;if(s<r)return s;const o=Math.log(.99)*ys(a),l=.99**(i+r);return-(Object(us.lambertW0)(-o/l)+Math.log(.99)*(i+r))/Math.log(.99)},_s=(e,t,n,a)=>{const i=ws(e,t,n,a);return r=i,new Date(Math.round(Date.now()+(e=>60*e*60*24*1e3)(r)));var r};n(37).c`
  from {
    left: -25%;
  }
  to {
    left: 100%;
  }
`;const js=new Date(864e13);var xs,Os,Ss=n(131);const Es=["NON_EXISTENT","PENDING","CANCELLED","CLAIMED"],Ds="0xEd279fDD11cA84bEef15AF5D39BB4d4bEE23F0cA",Cs="0x5f98805A4E8be255a32880FDeC7F6728C6568bA0",Ls="0x81C46fECa27B31F3ADC2b91eE4be9717d1cd3DD7",As={[Cs]:Ae,"0xD533a949740bb3306d119CC777fa900bA034cd52":"CRV"},ks=ss.a.from(5e4),Is=[null!==(xs=Ss.BLUSD_TOKEN_ADDRESS)&&void 0!==xs?xs:"",null!==(Os=Ss.BLUSD_AMM_ADDRESS)&&void 0!==Os?Os:"",Ds,Ds,Cs],Rs=[...Is].reverse(),Ms=e=>[[...e===rs.BLUSD?Is:Rs,os.constants.AddressZero,os.constants.AddressZero,os.constants.AddressZero,os.constants.AddressZero],[e===rs.BLUSD?[0,1,3]:[0,0,6],e===rs.BLUSD?[0,0,9]:[1,0,3],[0,0,0],[0,0,0]]];let Ps={lusd3Crv:void 0,stabilityPool:void 0,bLusdLusd3Crv:void 0};const Bs=async()=>{try{var e,t,n,a;const i=await(await window.fetch("https://api.curve.fi/api/getPools/ethereum/factory-crypto")).json(),r=await await(await window.fetch("https://api.curve.fi/api/getFactoryAPYs?version=crypto")).json(),s=null===(e=i.data)||void 0===e?void 0:e.poolData.find((e=>"factory-crypto-134"===e.id)),o=null===s||void 0===s?void 0:s.gaugeRewards.reduce(((e,t)=>e+t.apy),0),l=null===r||void 0===r||null===(t=r.data)||void 0===t||null===(n=t.poolDetails)||void 0===n||null===(a=n.find((e=>"0x74ED5d42203806c8CDCf2F04Ca5F60DC777b901c"===e.poolAddress)))||void 0===a?void 0:a.apy;if(void 0===o&&void 0===l)return;const d=(null!==o&&void 0!==o?o:0)+(null!==l&&void 0!==l?l:0);Ps.bLusdLusd3Crv=Ce.Decimal.from(d)}catch(i){console.log("cacheCurveLpApy failed"),console.error(i)}},Us=async()=>{try{var e,t;if(void 0!==Ps.lusd3Crv)return;const n=await(await window.fetch("https://api.yearn.finance/v1/chains/1/vaults/all")).json(),a=n.find((e=>{var t;return(null===e||void 0===e||null===(t=e.token)||void 0===t?void 0:t.address)===Ds})),i=n.find((e=>{var t;return(null===e||void 0===e||null===(t=e.token)||void 0===t?void 0:t.address)===Cs}));if(void 0===(null===a||void 0===a||null===(e=a.apy)||void 0===e?void 0:e.net_apy)||void 0===(null===i||void 0===i||null===(t=i.apy)||void 0===t?void 0:t.net_apy))return;Ps.lusd3Crv=Ce.Decimal.from(a.apy.net_apy),Ps.stabilityPool=Ce.Decimal.from(i.apy.net_apy)}catch(n){console.log("cacheYearnVaultApys failed"),console.error(n)}},Fs=(e,t,n,a)=>{const i=e.div(t),r=i.mul(Ce.Decimal.ONE.sub(n)).gt(Ce.Decimal.ONE),s=Ts(a,i,n),o=vs(a,i,n);return{marketPricePremium:i,hasMarketPremium:r,breakEvenAccrualFactor:gs(t,s,a),rebondAccrualFactor:gs(t,o,a),breakEvenPeriodInDays:s,rebondPeriodInDays:o}},Ns=Ce.Decimal.ONE.div(1e3),qs=async e=>{try{return(await Ws(rs.BLUSD,Ns,e)).div(Ns)}catch(t){console.error("bLUSD AMM get_dy() price failed, probably has no liquidity?",t)}return Ce.Decimal.ONE.div(ms(await e.price_oracle()))},Ys=async e=>{try{return(await Zs(rs.BLUSD,Ns,e)).div(Ns)}catch(i){console.error("getExpectedSwapOutputMainnet() failed, probably no liquidity?",i)}const t=new ls.Contract(Ds,["function calc_withdraw_one_coin(uint256 burn_amount, int128 i) external view returns (uint256)"],e.provider),[n,a]=await Promise.all([e.price_oracle().then(ms),t.calc_withdraw_one_coin(Ns.hex,0).then(ms)]);return a.div(Ns).div(n)},Gs=(e,t)=>new ls.Contract(e,["function approve(address spender, uint256 amount) returns (bool)","function allowance(address owner, address spender) view returns (uint256)","function balanceOf(address) view returns (uint256)","function totalSupply() view returns (uint256)"],t),Qs=e=>e===rs.BLUSD?rs.LUSD:rs.BLUSD,Ws=async(e,t,n)=>ms(await n.get_dy(e,Qs(e),t.hex)),Zs=async(e,t,n)=>{const a=await n.balances(0),i=Ce.Decimal.from(1).div(1.29);if(a.eq(0))return t.div(i);const r=cs.CurveRegistrySwaps__factory.connect(Ls,n.signer);return ms(await r["get_exchange_multiple_amount(address[9],uint256[3][4],uint256)"](...Ms(e),t.hex))},Hs={getAccountBonds:async(e,t,n,a)=>{try{const{marketPrice:i,alphaAccrualFactor:r,marketPricePremium:s,claimBondFee:o,floorPrice:l,controllerTargetAge:d,averageBondAge:c}=a,u=(await t.balanceOf(e)).toNumber(),p=Array.from(Array(u)).map(((n,a)=>t.tokenOfOwnerByIndex(e,a))),y=await Promise.all(p),b={deposits:y.map((e=>t.getBondAmount(e))),accrueds:y.map((e=>n.calcAccruedBLUSD(e))),startTimes:y.map((e=>t.getBondStartTime(e))),endTimes:y.map((e=>t.getBondEndTime(e))),statuses:y.map((e=>t.getBondStatus(e))),tokenUris:y.map((e=>t.tokenURI(e))),claimedAmounts:y.map((e=>t.getBondClaimedBLUSD(e)))},m=await Promise.all(b.deposits),h=await Promise.all(b.accrueds),f=await Promise.all(b.startTimes),T=await Promise.all(b.endTimes),g=await Promise.all(b.statuses),v=await Promise.all(b.tokenUris),w=await Promise.all(b.claimedAmounts);return y.reduce(((e,t,n)=>{const a=bs(y[n]).toString(),u=ms(m[n]),p=ms(h[n]),b=ps(bs(f[n])),_=ps(bs(T[n])),j=Es[g[n]],x=(e=>{var t;const n=e.indexOf("base64,")+"base64,".length,a=atob(e.slice(n)).replace('"background_color":',',"background_color":').replace(",,",",");return a?null===(t=JSON.parse(a))||void 0===t?void 0:t.image:"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA3NTAgMTA1MCI+PHN0eWxlPiNjYi1lZ2ctNTUgLmNiLWVnZyBwYXRoIHthbmltYXRpb246IHNoYWtlIDNzIGluZmluaXRlIGVhc2Utb3V0O3RyYW5zZm9ybS1vcmlnaW46IDUwJTt9QGtleWZyYW1lcyBzaGFrZSB7MCUgeyB0cmFuc2Zvcm06IHJvdGF0ZSgwZGVnKTsgfTY1JSB7IHRyYW5zZm9ybTogcm90YXRlKDBkZWcpOyB9NzAlIHsgdHJhbnNmb3JtOiByb3RhdGUoM2RlZyk7IH03NSUgeyB0cmFuc2Zvcm06IHJvdGF0ZSgwZGVnKTsgfTgwJSB7IHRyYW5zZm9ybTogcm90YXRlKC0zZGVnKTsgfTg1JSB7IHRyYW5zZm9ybTogcm90YXRlKDBkZWcpOyB9OTAlIHsgdHJhbnNmb3JtOiByb3RhdGUoM2RlZyk7IH0xMDAlIHsgdHJhbnNmb3JtOiByb3RhdGUoMGRlZyk7IH19PC9zdHlsZT48ZGVmcz48bGluZWFyR3JhZGllbnQgaWQ9ImNiLWVnZy01NS1jYXJkLWRpYWdvbmFsLWdyYWRpZW50IiB5MT0iMTAwJSIgZ3JhZGllbnRVbml0cz0idXNlclNwYWNlT25Vc2UiPjxzdG9wIG9mZnNldD0iMCIgc3RvcC1jb2xvcj0iI2ZmZDIwMCIvPjxzdG9wIG9mZnNldD0iMSIgc3RvcC1jb2xvcj0iI2ZmMDA4NyIvPjwvbGluZWFyR3JhZGllbnQ+PC9kZWZzPjxnIGlkPSJjYi1lZ2ctNTUiPjxyZWN0IGZpbGw9IiNjZDdmMzIiIHdpZHRoPSIxMDAlIiBoZWlnaHQ9IjEwMCUiIHJ4PSIzNy41Ii8+PHJlY3Qgc3R5bGU9ImZpbGw6IHVybCgjY2ItZWdnLTU1LWNhcmQtZGlhZ29uYWwtZ3JhZGllbnQpIiB4PSIzMCIgeT0iMzAiIHdpZHRoPSI2OTAiIGhlaWdodD0iOTkwIiByeD0iMzcuNSIvPjxlbGxpcHNlIGZpbGw9IiMwYTEwMmUiIGN4PSIzNzUiIGN5PSI1NjAuMjUiIHJ4PSI2MCIgcnk9IjExLjQiIC8+PGcgY2xhc3M9ImNiLWVnZyI+PHBhdGggZmlsbD0iI2NkN2YzMiIgZD0iTTI5My44NiA0NzguMTJjMCA0NS4zNiAzNi40IDgyLjEzIDgxLjI5IDgyLjEzczgxLjI5LTM2Ljc3IDgxLjI5LTgyLjEzUzQyMC4wNSAzNjUuODUgMzc1LjE1IDM2NS44NUMzMzIuNzQgMzY1Ljg1IDI5My44NiA0MzIuNzYgMjkzLjg2IDQ3OC4xMloiLz48cGF0aCBzdHlsZT0ibWl4LWJsZW5kLW1vZGU6IHNvZnQtbGlnaHQiIGZpbGw9IiNmZmYiIGQ9Ik0zMjguOTYgNDA5LjRjLTYgMTMuNTktNS40OCAyOS41MyAzLjI1IDM2LjExIDkuNzYgNy4zNSAyMy44OSA5IDM2Ljk4LTMuMTMgMTIuNTctMTEuNjYgMjMuNDgtNDMuOTQgMS4yNC01NS41QzM1OC4yNSAzODAuNTUgMzM1LjU5IDM5NC4zNSAzMjguOTYgNDA5LjRaIi8+PHBhdGggc3R5bGU9Im1peC1ibGVuZC1tb2RlOiBzb2Z0LWxpZ2h0IiBmaWxsPSIjMDAwIiBkPSJNNDE2LjE3IDM4NS4wMmMxMS45NCAyMC45MiAxOS4xNSA0NS4zNSAxOS4xNCA2NS41MiAwIDQ1LjM2LTM2LjQgODIuMTMtODEuMyA4Mi4xM2E4MC40NSA4MC40NSAwIDAgMS01Mi41Mi0xOS40NUMzMTQuNTIgNTQxLjAzIDM0Mi41NCA1NjAuMjcgMzc1IDU2MC4yN2M0NC45IDAgODEuMy0zNi43NyA4MS4zLTgyLjEzQzQ1Ni4zMSA0NDcuOTUgNDQwLjE4IDQwOC4yMiA0MTYuMTcgMzg1LjAyWiIvPjwvZz48dGV4dCBmaWxsPSIjZmZmIiBmb250LWZhbWlseT0iQXJpYWwgQmxhY2ssIEFyaWFsIiBmb250LXNpemU9IjcycHgiIGZvbnQtd2VpZ2h0PSI4MDAiIHRleHQtYW5jaG9yPSJtaWRkbGUiIHg9IjUwJSIgeT0iMTQlIj5MVVNEPC90ZXh0Pjx0ZXh0IGZpbGw9IiNmZmYiIGZvbnQtZmFtaWx5PSJBcmlhbCBCbGFjaywgQXJpYWwiIGZvbnQtc2l6ZT0iMzBweCIgZm9udC13ZWlnaHQ9IjgwMCIgdGV4dC1hbmNob3I9Im1pZGRsZSIgeD0iNTAlIiB5PSIxOSUiPklEOiA1NTwvdGV4dD48dGV4dCBmaWxsPSIjZmZmIiBmb250LWZhbWlseT0iQXJpYWwgQmxhY2ssIEFyaWFsIiBmb250LXNpemU9IjQwcHgiIGZvbnQtd2VpZ2h0PSI4MDAiIHRleHQtYW5jaG9yPSJtaWRkbGUiIHg9IjUwJSIgeT0iNzIlIj5CT05EIEFNT1VOVDwvdGV4dD48dGV4dCBmaWxsPSIjZmZmIiBmb250LWZhbWlseT0iQXJpYWwgQmxhY2ssIEFyaWFsIiBmb250LXNpemU9IjY0cHgiIGZvbnQtd2VpZ2h0PSI4MDAiIHRleHQtYW5jaG9yPSJtaWRkbGUiIHg9IjUwJSIgeT0iODElIj40MDI8L3RleHQ+PHRleHQgZmlsbD0iI2ZmZiIgZm9udC1mYW1pbHk9IkFyaWFsIEJsYWNrLCBBcmlhbCIgZm9udC1zaXplPSIzMHB4IiBmb250LXdlaWdodD0iODAwIiB0ZXh0LWFuY2hvcj0ibWlkZGxlIiB4PSI1MCUiIHk9IjkxJSIgb3BhY2l0eT0iMC42Ij5TRVBURU1CRVIgNywgMjAyMjwvdGV4dD48L2c+PC9zdmc+"})(v[n]),O=(e=>hs((Date.now()-e)/1e3))(b),S=vs(r,s,o),E=Ce.Decimal.from(Date.now()-b).div(1e3),D=ws(E,d,c,S),C=Ts(r,s,o),L=ws(E,d,c,C),A=Ce.Decimal.ONE.sub(o).mul(u),k=S===Ce.Decimal.INFINITY?Ce.Decimal.INFINITY:gs(l,S,r).mul(A),I=C===Ce.Decimal.INFINITY?Ce.Decimal.INFINITY:gs(l,C,r).mul(A),R=C===Ce.Decimal.INFINITY?js:_s(E,d,c,C),M=S===Ce.Decimal.INFINITY?js:_s(E,d,c,S),P=ms(h[n]).mul(i),B=p.isZero?0:fs(p,u,i),U=p.isZero?0:fs(k,u,i),F=U/ys(u);return[...e,{id:a,deposit:u,accrued:p,startTime:b,endTime:_,status:j,tokenUri:x,breakEvenAccrual:I,rebondAccrual:k,breakEvenTime:R,rebondTime:M,marketValue:P,rebondReturn:U,claimNowReturn:B,rebondRoi:F,rebondApr:F*(365/(O+D)),claimedAmount:Ce.Decimal.from(bs(w[n])),bondAgeInDays:O,remainingRebondDays:D,remainingBreakEvenDays:L}]}),[]).sort(((e,t)=>e.startTime>t.startTime?-1:e.startTime<t.startTime?1:0))}catch(i){console.error(i)}return[]},getStats:async e=>{const[t,n,a]=await Promise.all([e.getOpenBondCount(),e.countChickenOut(),e.countChickenIn()]),i=t.add(n).add(a);return{pendingBonds:Ce.Decimal.from(t.toString()),cancelledBonds:Ce.Decimal.from(n.toString()),claimedBonds:Ce.Decimal.from(a.toString()),totalBonds:Ce.Decimal.from(i.toString())}},erc20From:Gs,getLpToken:async e=>{var t;return Gs(await e.token(),null!==(t=e.signer)&&void 0!==t?t:e.provider)},getTokenBalance:async(e,t)=>ms(await t.balanceOf(e)),getTokenTotalSupply:async e=>ms(await e.totalSupply()),getProtocolInfo:async(e,t,n,a)=>{const i=n.getBAMMLUSDDebt().then(ms),[r,s,o,l,d,c,u,p,y,b]=await Promise.all([e.totalSupply().then(ms),a?Ys(t):qs(t),n.getTreasury().then((e=>e.map(ms))),n.getOwnedLUSDInSP().then(ms),n.getTotalLUSDInCurve().then(ms),n.calcSystemBackingRatio().then(ms),n.CHICKEN_IN_AMM_FEE().then(ms),n.calcUpdatedAccrualParameter().then((e=>ms(e).div(86400))),n.targetAverageAgeSeconds().then((e=>Ce.Decimal.from(e.toString()))),n.totalWeightedStartTimes().then(ms)]),m=await i,h={pending:o[0],reserve:o[1],permanent:o[2],total:o[0].add(o[1]).add(o[2])},f=void 0===Ps.lusd3Crv||void 0===Ps.stabilityPool||void 0===Ps.bLusdLusd3Crv?[Us(),Bs()]:null,T=h.pending.add(l),g=r.isZero?Ce.Decimal.ONE:c,v=r.isZero?Ce.Decimal.ONE:((e,t,n,a,i)=>e.add(t).sub(n).sub(a).div(i))(m,d,h.pending,h.permanent,r),w=((e,t)=>{const n=1e3*Math.round(parseFloat(e.div(t).toString()));return Ce.Decimal.from(Date.now()-n).div(1e3)})(b,h.pending);let _,j,x=Ps.bLusdLusd3Crv;const O={lower:h.total.sub(h.pending).div(r),upper:h.total.div(r)},{marketPricePremium:S,hasMarketPremium:E,breakEvenAccrualFactor:D,rebondAccrualFactor:C,breakEvenPeriodInDays:L,rebondPeriodInDays:A}=Fs(s,g,u,p),k=s,I=h.reserve.add(h.permanent).div(r);if(f&&await Promise.all(f),void 0!==Ps.lusd3Crv&&void 0!==Ps.stabilityPool&&h.reserve.gt(0)){const e=Ps.stabilityPool.mul(T),t=Ps.lusd3Crv.mul(d);j=e.add(t).div(h.reserve),_=j.div(Ps.stabilityPool),O.lower=T.sub(h.pending).add(d.mul(Ps.lusd3Crv.div(Ps.stabilityPool))).div(r),O.upper=T.add(d.mul(Ps.lusd3Crv.div(Ps.stabilityPool))).div(r)}return{bLusdSupply:r,marketPrice:s,treasury:h,fairPrice:O,floorPrice:g,claimBondFee:u,alphaAccrualFactor:p,marketPricePremium:S,hasMarketPremium:E,breakEvenAccrualFactor:D,rebondAccrualFactor:C,breakEvenPeriodInDays:L,rebondPeriodInDays:A,simulatedMarketPrice:k,yieldAmplification:_,bLusdApr:j,bLusdLpApr:x,controllerTargetAge:y,averageBondAge:w,floorPriceWithoutPendingHarvests:v,windDownPrice:I}},createBond:async(e,t,n,a,i,r)=>{var s,o,l;if(void 0===i||void 0===a)throw new Error("createBond() failed: a dependency is null");const d=i.address,c=Math.round(Date.now()/1e3)+600,u=(await a.nonces(t)).toNumber(),p={name:await a.name(),version:"1",chainId:await r.getChainId(),verifyingContract:n},y={owner:t,spender:d,value:e.hex,nonce:u,deadline:c},b=await r._signTypedData(p,{Permit:[{name:"owner",type:"address"},{name:"spender",type:"address"},{name:"value",type:"uint256"},{name:"nonce",type:"uint256"},{name:"deadline",type:"uint256"}]},y),{v:m,r:h,s:f}=Object(ds.splitSignature)(b),T=await i.estimateGas.createBondWithPermit(t,e.hex,c,m,h,f),g=await(await i.createBondWithPermit(t,e.hex,c,m,h,f,{gasLimit:T.add(ks)})).wait();console.log("CREATE BOND",null===g||void 0===g?void 0:g.events,null===g||void 0===g||null===(s=g.events)||void 0===s?void 0:s.map((e=>e.event)),null===g||void 0===g||null===(o=g.events)||void 0===o?void 0:o.find((e=>"BondCreated"===e.event)));const v=null===g||void 0===g||null===(l=g.events)||void 0===l?void 0:l.find((e=>"BondCreated"===e.event));if(void 0===v)throw new Error("createBond() failed: couldn't find BondCreated event");return console.log("createBond() finished:",v.args),v.args},cancelBond:async(e,t,n)=>{var a;if(void 0===n)throw new Error("cancelBond() failed: a dependency is null");console.log("cancelBond() started:",e,t.toString());const i=await n.estimateGas.chickenOut(e,t.hex),r=await(await n.chickenOut(e,t.hex,{gasLimit:i.add(ks)})).wait(),s=null===r||void 0===r||null===(a=r.events)||void 0===a?void 0:a.find((e=>"BondCancelled"===e.event));if(void 0===s)throw new Error("cancelBond() failed: couldn't find BondCancelled event");return console.log("cancelBond() finished:",s.args),s.args},claimBond:async(e,t)=>{try{var n;if(void 0===t)throw new Error("claimBond() failed: a dependency is null");console.log("claimBond() started",e);const a=await t.estimateGas.chickenIn(e),i=null===(n=(await(await t.chickenIn(e,{gasLimit:a.add(ks)})).wait()).events)||void 0===n?void 0:n.find((e=>"BondClaimed"===e.event));if(void 0===i)throw new Error("claimBond() failed: couldn't find BondClaimed event");return console.log("claimBond() finished",i.args),i.args}catch(a){throw console.error("claimBond() failed:",a),a}},isTokenApprovedWithBLusdAmm:async(e,t,n)=>{if(null===n)throw new Error("isTokenApprovedWithBLusdAmm() failed: a dependency is null");return(await t.allowance(e,n)).gt(os.constants.MaxInt256)},isTokenApprovedWithBLusdAmmMainnet:async(e,t)=>(await t.allowance(e,Ls)).gt(os.constants.MaxInt256),approveTokenWithBLusdAmm:async(e,t)=>{if(void 0===e||null===t)throw new Error("approveTokenWithBLusdAmm() failed: a dependency is null");await(await e.approve(t,os.constants.MaxUint256)).wait()},approveTokenWithBLusdAmmMainnet:async e=>{if(void 0===e)throw new Error("approveTokenWithBLusdAmmMainnet() failed: a dependency is null");await(await e.approve(Ls,os.constants.MaxUint256)).wait()},isTokenApprovedWithAmmZapper:async(e,t,n)=>{if(null===n)throw new Error("isTokenApprovedWithAmmZapper() failed: a dependency is null");return(await t.allowance(e,n)).gt(os.constants.MaxInt256)},approveToken:async(e,t)=>{if(void 0===e||null===t)throw new Error("approveToken() failed: a dependency is null");await(await e.approve(t,os.constants.MaxUint256)).wait()},getExpectedSwapOutput:Ws,getExpectedSwapOutputMainnet:Zs,swapTokens:async(e,t,n,a)=>{var i;if(void 0===a)throw new Error("swapTokens() failed: a dependency is null");const r=await a.estimateGas["exchange(uint256,uint256,uint256,uint256)"](e,Qs(e),t.hex,n.hex),s=await(await a["exchange(uint256,uint256,uint256,uint256)"](e,Qs(e),t.hex,n.hex,{gasLimit:r.mul(6).div(5)})).wait(),o=null===s||void 0===s||null===(i=s.events)||void 0===i?void 0:i.find((e=>"TokenExchange"===e.event));if(void 0===o)throw new Error("swapTokens() failed: couldn't find TokenExchange event");return console.log("swapTokens() finished:",o.args),o.args},swapTokensMainnet:async(e,t,n,a)=>{if(void 0===a)throw new Error("swapTokensMainnet() failed: a dependency is null");const i=cs.CurveRegistrySwaps__factory.connect(Ls,a.signer),r=Ms(e),s=await i.estimateGas["exchange_multiple(address[9],uint256[3][4],uint256,uint256)"](...r,t.hex,n.hex);if(!(await(await i["exchange_multiple(address[9],uint256[3][4],uint256,uint256)"](...r,t.hex,n.hex,{gasLimit:s.mul(6).div(5)})).wait()).status)throw new Error("swapTokensMainnet() failed");console.log("swapTokensMainnet() finished")},getCoinBalances:e=>Promise.all([e.balances(0).then(ms),e.balances(1).then(ms)]),getExpectedLpTokens:async(e,t,n)=>{let a=Ce.Decimal.ZERO;try{a=await(async(e,t,n)=>ms(await n.getMinLPTokens(e.hex,t.hex)).mul(.99))(e,t,n)}catch{return a}return a},addLiquidity:async(e,t,n,a,i)=>{if(void 0===i)throw new Error("addLiquidity() failed: a dependency is null");const r=a?"addLiquidityAndStake":"addLiquidity",s=await i.estimateGas[r](e.hex,t.hex,n.hex);if(!(await(await i[r](e.hex,t.hex,n.hex,{gasLimit:s.mul(6).div(5)})).wait()).status)throw new Error("addLiquidity() failed");console.log("addLiquidity() finished")},getExpectedWithdrawal:async(e,t,n,a)=>{if("both"===t){const[t,a]=await n.getMinWithdrawBalanced(e.hex);return new Map([[rs.BLUSD,ms(t)],[rs.LUSD,ms(a)]])}{const i=t===rs.LUSD?()=>n.getMinWithdrawLUSD(e.hex):()=>a.calc_withdraw_one_coin(e.hex,0);return new Map([[t,await i().then(ms)]])}},removeLiquidity:async(e,t,n,a)=>{if(void 0===a)throw new Error("removeLiquidity() failed: a dependency is null");if(!(await(await a.removeLiquidityBalanced(e.hex,t.hex,n.hex)).wait()).status)throw new Error("removeLiquidity() failed");console.log("removeLiquidity() finished")},removeLiquidityOneCoin:async(e,t,n,a,i)=>t===rs.LUSD?(async(e,t,n)=>{if(void 0===n)throw new Error("removeLiquidityLUSD() failed: a dependency is null");const a=await n.estimateGas.removeLiquidityLUSD(e.hex,t.hex);if(!(await(await n.removeLiquidityLUSD(e.hex,t.hex,{gasLimit:a.mul(6).div(5)})).wait()).status)throw new Error("removeLiquidityLUSD() failed");console.log("removeLiquidityLUSD() finished")})(e,n,a):(async(e,t,n)=>{if(void 0===n)throw new Error("removeLiquidityBLUSD() failed: a dependency is null");const a="remove_liquidity_one_coin(uint256,uint256,uint256,bool)",i=await n.estimateGas[a](e.hex,0,t.hex,!1);if(!(await(await n[a](e.hex,0,t.hex,!1,{gasLimit:i.mul(6).div(5)})).wait()).status)throw new Error("removeLiquidityBLUSD() failed");console.log("removeLiquidityBLUSD() finished")})(e,n,i),stakeLiquidity:async(e,t)=>{var n;if(void 0===t)throw new Error("stakeLiquidity() failed: a dependency is null");const a=await(await t["deposit(uint256)"](e.hex)).wait(),i=null===a||void 0===a||null===(n=a.events)||void 0===n?void 0:n.find((e=>"Deposit"===(null===e||void 0===e?void 0:e.event)));if(void 0===i)throw new Error("stakeLiquidity() failed: couldn't find Withdraw event");return console.log("stakeLiquidity() finished:",i.args),i.args},unstakeLiquidity:async(e,t)=>{var n;if(void 0===t)throw new Error("unstakeLiquidity() failed: a dependency is null");const a=await(await t["withdraw(uint256,bool)"](e.hex,!0)).wait(),i=null===a||void 0===a||null===(n=a.events)||void 0===n?void 0:n.find((e=>"Withdraw"===(null===e||void 0===e?void 0:e.event)));if(void 0===i)throw new Error("unstakeLiquidity() failed: couldn't find Withdraw event");return console.log("unstakeLiquidity() finished:",i.args),i.args},getLpRewards:async(e,t)=>{let n=[];const a=(await t.reward_count()).toNumber();for(let i=0;i<a;i++){const a=await t.reward_tokens(i),r=ms(await t.claimable_reward(e,a)),s=As[a]||`${a.slice(0,5)}..${a.slice(a.length-3)}`;n.push({name:s,address:a,amount:r})}return n},claimLpRewards:async e=>{if(void 0===e)throw new Error("claimLpRewards() failed: a dependency is null");if(!(await(await e["claim_rewards()"]()).wait()).status)throw new Error("claimLpRewards() failed: no transaction receipt status received.")}};function Vs(e,t){const[n,a]=Object(i.useState)("IDLE");Object(i.useEffect)((()=>{if("CONFIRMED"===n||"FAILED"===n){const e=setTimeout((()=>{a("IDLE")}),2600);return()=>clearTimeout(e)}}),[n]);return[Object(i.useCallback)((async(...t)=>{try{a("PENDING"),await e(...t),a("CONFIRMED")}catch(n){throw a("FAILED"),new Error(`useTransaction(${t}) ${n}`)}}),[e,...t]),n]}var zs=n(65),$s=n(183),Js=n(42);function Ks(e,t){const{provider:n,liquity:a}=S(),[r,s]=Object(i.useState)();return Object(i.useEffect)((()=>{(async()=>{try{if(void 0!==r)return;if(null===e)return void s({instance:void 0,status:"FAILED"});if(!("0x"!==await n.getCode(e)))throw new Error(`Contract ${e} doesn't exist.`);const i=new Js.ethers.Contract(e,t,a.connection.signer);s({instance:i,status:"LOADED"})}catch(i){s({instance:void 0,status:"FAILED"}),console.error(i),console.error(`Contract ${e} doesn't appear to be deployed. Did you forget to re-run yarn deploy:chicken-bonds?`)}})()}),[n,a.connection.signer,e,t,r]),[null===r||void 0===r?void 0:r.instance,(null===r||void 0===r?void 0:r.status)||"UNKNOWN"]}const Xs=e=>{const{children:t}=e,[n,a]=Object(i.useState)("IDLE"),r=Object(i.useRef)(n),[s,o]=Object(i.useState)(),[l,d]=Object(i.useState)(),[u,p]=Object(i.useState)(!0),[y,b]=Object(i.useState)(),[m,h]=Object(i.useState)(),[f,T]=Object(i.useState)(),[g,v]=Object(i.useState)(),[w,j]=Object(i.useState)(),[x,O]=Object(i.useState)(!1),[E,D]=Object(i.useState)(!1),[C,L]=Object(i.useState)(!1),[A,k]=Object(i.useState)(!1),[I,R]=Object(i.useState)(!1),[M,P]=Object(i.useState)(!1),[B,U]=Object(i.useState)(!1),[F,N]=Object(i.useState)(rs.BLUSD),[q,Y]=Object(i.useState)({CREATE:"IDLE",CANCEL:"IDLE",CLAIM:"IDLE",APPROVE_AMM:"IDLE",APPROVE_SPENDER:"IDLE",SWAP:"IDLE",MANAGE_LIQUIDITY:"IDLE"}),[G,Q]=Object(i.useState)(),[W,Z]=Object(i.useState)(),[H,V]=Object(i.useState)(),[z,$]=Object(i.useState)(),[J,K]=Object(i.useState)(),[X,ee]=Object(i.useState)(),[te,ne]=Object(i.useState)(),[ae,ie]=Object(i.useState)(),{account:re,liquity:se}=S(),{LUSD_OVERRIDE_ADDRESS:oe,BLUSD_AMM_ADDRESS:le,BLUSD_LP_ZAP_ADDRESS:de,BLUSD_AMM_STAKING_ADDRESS:ce}=Rt(),ue=(()=>{const{liquity:e}=S(),{chainId:t}=Object(c.b)(),n=1===t,a=Rt(),{BLUSD_AMM_ADDRESS:r,BLUSD_TOKEN_ADDRESS:s,BOND_NFT_ADDRESS:o,CHICKEN_BOND_MANAGER_ADDRESS:l,LUSD_OVERRIDE_ADDRESS:d,BLUSD_LP_ZAP_ADDRESS:u,BLUSD_AMM_STAKING_ADDRESS:p}=a,[y,b]=Ks(e.connection.addresses.lusdToken,$s),[m,h]=Ks(d,zs.ERC20Faucet__factory.abi),[f,T]=null===d?[y,b]:[m,h],[g,v]=Ks(s,zs.BLUSDToken__factory.abi),[w,_]=Ks(o,zs.BondNFT__factory.abi),[j,x]=Ks(l,zs.ChickenBondManager__factory.abi),[O,E]=Ks(r,cs.CurveCryptoSwap2ETH__factory.abi),[D,C]=Ks(u,zs.BLUSDLPZap__factory.abi),[L,A]=Ks(p,cs.CurveLiquidityGaugeV5__factory.abi),k=void 0===[T,_,x,v,E,C,A].find((e=>"FAILED"===e)),I=Object(i.useCallback)((async(e,t)=>{if(void 0===f||void 0===w||void 0===j||void 0===g||void 0===O||void 0===L||null===p)return;const a=t.getProtocolInfo(g,O,j,n),i=t.getAccountBonds(e,w,j,await a),[r,s,o,l]=await Promise.all([a,t.getStats(j),t.getLpToken(O),t.erc20From(p,O.provider)]),[d,c,u,y,b,m,h]=await Promise.all([t.getTokenBalance(e,g),t.getTokenBalance(e,f),t.getTokenBalance(e,o),t.getTokenBalance(e,l),t.getTokenTotalSupply(o),t.getCoinBalances(O),t.getLpRewards(e,L)]);return{protocolInfo:r,bonds:await i,stats:s,bLusdBalance:d,lusdBalance:c,lpTokenBalance:u,stakedLpTokenBalance:y,lpTokenSupply:b,bLusdAmmBLusdBalance:m[rs.BLUSD],bLusdAmmLusdBalance:m[rs.LUSD],lpRewards:h}}),[j,w,g,f,O,n,p,L]);return{addresses:a,lusdToken:f,bLusdToken:g,bondNft:w,chickenBondManager:j,bLusdAmm:O,bLusdAmmZapper:D,bLusdGauge:L,getLatestData:I,hasFoundContracts:k}})(),{chainId:pe}=Object(c.b)(),ye=1===pe,be=Object(i.useCallback)((e=>{if(void 0===f)return;const t=Fs(e,f.floorPrice,f.claimBondFee,f.alphaAccrualFactor);v({...f,...t,simulatedMarketPrice:e})}),[f]),me=Object(i.useCallback)((()=>{void 0!==f&&v({...f})}),[f]),he=Object(i.useCallback)((e=>{if(void 0===y)return;const t=y.findIndex((t=>t.id===e)),n=y.slice(0,t).concat(y.slice(t+1));b(n)}),[y]),fe=Object(i.useCallback)((e=>{if(void 0===y)return;const t=y.findIndex((t=>t.id===e)),n={...y[t],status:"CLAIMED"},a=y.slice(0,t).concat(n).concat(y.slice(t+1));b(a)}),[y]),Te=Object(i.useCallback)((async()=>{void 0!==ue.lusdToken&&null!==oe&&(await ue.lusdToken.balanceOf(re)).eq(0)&&"tap"in ue.lusdToken&&(await(await ue.lusdToken.tap()).wait(),p(!0))}),[ue.lusdToken,re,oe]);Object(i.useEffect)((()=>{(async()=>{if(null===le||void 0===ue.lusdToken||x)return;const e=await(ye?Hs.isTokenApprovedWithBLusdAmmMainnet(re,ue.lusdToken):Hs.isTokenApprovedWithBLusdAmm(re,ue.lusdToken,le));O(e)})()}),[ue.lusdToken,re,x,ye,le]),Object(i.useEffect)((()=>{(async()=>{if(null===le||void 0===ue.bLusdToken||E)return;const e=await(ye?Hs.isTokenApprovedWithBLusdAmmMainnet(re,ue.bLusdToken):Hs.isTokenApprovedWithBLusdAmm(re,ue.bLusdToken,le));D(e)})()}),[ue.bLusdToken,re,E,ye,le]),Object(i.useEffect)((()=>{(async()=>{if(null===de||void 0===ue.lusdToken||C)return;const e=await Hs.isTokenApprovedWithAmmZapper(re,ue.lusdToken,de);L(e)})()}),[ue.lusdToken,re,C,de]),Object(i.useEffect)((()=>{(async()=>{if(void 0===ue.bLusdAmm||I||null===de)return;const e=await Hs.getLpToken(ue.bLusdAmm),t=await Hs.isTokenApprovedWithAmmZapper(re,e,de);R(t)})()}),[ue.bLusdAmm,re,I,de]),Object(i.useEffect)((()=>{(async()=>{if(null===de||void 0===ue.bLusdToken||A)return;const e=await Hs.isTokenApprovedWithAmmZapper(re,ue.bLusdToken,de);L(e)})()}),[ue.bLusdToken,re,A,de]),Object(i.useEffect)((()=>{if(B)return;const e=setTimeout((()=>p(!0)),15e3);return()=>{clearTimeout(e)}}),[B]),Object(i.useEffect)((()=>{(async()=>{try{if(void 0===ue.lusdToken||void 0===ue.bondNft||void 0===ue.chickenBondManager||void 0===ue.bLusdToken||void 0===ue.bLusdAmm||void 0===ue.bLusdGauge||!u||B)return;U(!0);const e=await ue.getLatestData(re,Hs);if(void 0===e)return void U(!1);const{protocolInfo:t,bonds:n,stats:a,bLusdBalance:i,lusdBalance:r,lpTokenBalance:s,stakedLpTokenBalance:o,lpTokenSupply:l,bLusdAmmBLusdBalance:c,bLusdAmmLusdBalance:y,lpRewards:m}=e;if(T(t),void 0===g){const e=Fs(t.simulatedMarketPrice,t.floorPrice,t.claimBondFee,t.alphaAccrualFactor);v({...t,...e,simulatedMarketPrice:t.simulatedMarketPrice})}p(!1),j(m),Q(i),Z(r),V(s),$(o),K(l),ee(c),ne(y),h(a),b(n),d(void 0)}catch(e){console.error("Synchronising effect exception",e)}U(!1)})()}),[B,u,re,ue,g]);const[ge,ve]=Vs((async e=>{for(const t of e)t===rs.BLUSD?(await(ye?Hs.approveTokenWithBLusdAmmMainnet(ue.bLusdToken):Hs.approveTokenWithBLusdAmm(ue.bLusdToken,le)),D(!0)):(await(ye?Hs.approveTokenWithBLusdAmmMainnet(ue.lusdToken):Hs.approveTokenWithBLusdAmm(ue.lusdToken,le)),O(!0))}),[ue.bLusdToken,ue.lusdToken,ye,le]),[we,_e]=Vs((async({tokensNeedingApproval:e})=>{if(void 0!==ue.bLusdAmm)for(const[t,n]of Array.from(e))if(t===rs.BLUSD)await Hs.approveToken(ue.bLusdToken,n),n===le?D(!0):n===de&&k(!0);else if(t===rs.LUSD)await Hs.approveToken(ue.lusdToken,de),L(!0);else if(t===rs.BLUSD_LUSD_LP&&void 0===n){const e=await Hs.getLpToken(ue.bLusdAmm);await Hs.approveToken(e,de),R(!0)}else if(t===rs.BLUSD_LUSD_LP){const e=await Hs.getLpToken(ue.bLusdAmm);await Hs.approveToken(e,n),n===de?R(!0):n===ce&&P(!0)}}),[ue.bLusdAmm,ue.bLusdToken,ue.lusdToken,de,ce,le,A,C]),[je,xe]=Vs((async e=>{if(void 0===se.connection.signer)return;await Hs.createBond(e,re,null!==oe&&void 0!==oe?oe:se.connection.addresses.lusdToken,ue.lusdToken,ue.chickenBondManager,se.connection.signer);const t={id:"OPTIMISTIC_BOND",deposit:e,startTime:Date.now(),status:"PENDING"};d(t),p(!0)}),[ue.chickenBondManager,ue.lusdToken,se.connection.signer,re]),[Oe,Se]=Vs((async(e,t)=>{await Hs.cancelBond(e,t,ue.chickenBondManager),he(e),p(!0)}),[ue.chickenBondManager,he]),[Ee,De]=Vs((async e=>{await Hs.claimBond(e,ue.chickenBondManager),fe(e),p(!0)}),[ue.chickenBondManager,fe]),Le=Object(i.useCallback)((async(e,t)=>ue.bLusdAmm?(ye?Hs.getExpectedSwapOutputMainnet:Hs.getExpectedSwapOutput)(e,t,ue.bLusdAmm):Ce.Decimal.ZERO),[ue.bLusdAmm,ye]),[Ae,ke]=Vs((async(e,t,n)=>{await(ye?Hs.swapTokensMainnet:Hs.swapTokens)(e,t,n,ue.bLusdAmm),p(!0)}),[ue.bLusdAmm]),Ie=Object(i.useCallback)((async(e,t)=>void 0===se.connection.signer?Ce.Decimal.ZERO:ue.bLusdAmmZapper?Hs.getExpectedLpTokens(e,t,ue.bLusdAmmZapper):Ce.Decimal.ZERO),[ue.bLusdAmmZapper,se.connection.signer]),[Re,Me]=Vs((async e=>{"addLiquidity"===e.action?await Hs.addLiquidity(e.bLusdAmount,e.lusdAmount,e.minLpTokens,e.shouldStakeInGauge,ue.bLusdAmmZapper):"removeLiquidity"===e.action?await Hs.removeLiquidity(e.burnLpTokens,e.minBLusdAmount,e.minLusdAmount,ue.bLusdAmmZapper):"removeLiquidityOneCoin"===e.action?await Hs.removeLiquidityOneCoin(e.burnLpTokens,e.output,e.minAmount,ue.bLusdAmmZapper,ue.bLusdAmm):"stakeLiquidity"===e.action?await Hs.stakeLiquidity(e.stakeAmount,ue.bLusdGauge):"unstakeLiquidity"===e.action?await Hs.unstakeLiquidity(e.unstakeAmount,ue.bLusdGauge):"claimLpRewards"===e.action&&await Hs.claimLpRewards(ue.bLusdGauge),p(!0)}),[ue.bLusdAmmZapper,ue.bLusdGauge]),Pe=Object(i.useCallback)((async(e,t)=>void 0===ue.bLusdAmm?new Map([[rs.LUSD,Ce.Decimal.ZERO],[rs.BLUSD,Ce.Decimal.ZERO]]):ue.bLusdAmmZapper?Hs.getExpectedWithdrawal(e,t,ue.bLusdAmmZapper,ue.bLusdAmm):new Map),[ue.bLusdAmmZapper,ue.bLusdAmm]),Be=Object(i.useMemo)((()=>null===y||void 0===y?void 0:y.find((e=>e.id===s))),[y,s]),Ue=Object(i.useCallback)((async(e,t)=>{if(!((e,t)=>void 0!==is[e][t])(r.current,e))return void console.error("invalid event",e,t,"in view",r.current);const n=((e,t)=>{var n;return null!==(n=is[e][t])&&void 0!==n?n:e})(r.current,e);a(n),t&&"bondId"in t&&t.bondId!==s&&o(t.bondId),t&&"inputToken"in t&&t.inputToken!==F&&N(t.inputToken);const i=(t,n)=>r.current===t&&e===n;try{if(i("CREATING","CONFIRM_PRESSED"))await je(t.deposit),await Ue("CREATE_BOND_CONFIRMED");else if(i("CANCELLING","CONFIRM_PRESSED")){if(void 0===Be)return void console.error("dispatchEvent() handler: attempted to cancel a bond without selecting a bond");await Oe(Be.id,Be.deposit),await Ue("CANCEL_BOND_CONFIRMED")}else if(i("CLAIMING","CONFIRM_PRESSED")){if(void 0===Be)return void console.error("dispatchEvent() handler: attempted to claim a bond without selecting a bond");await Ee(Be.id),await Ue("CLAIM_BOND_CONFIRMED")}else if(i("SWAPPING","APPROVE_PRESSED"))await ge([F]);else if(i("SWAPPING","CONFIRM_PRESSED")){const{inputAmount:e,minOutputAmount:n}=t;await Ae(F,e,n),await Ue("SWAP_CONFIRMED")}else i("MANAGING_LIQUIDITY","APPROVE_PRESSED")?await we(t):i("MANAGING_LIQUIDITY","CONFIRM_PRESSED")&&(await Re(t),await Ue("MANAGE_LIQUIDITY_CONFIRMED"))}catch(l){console.error("dispatchEvent(), event handler failed\n\n",l)}}),[s,Oe,je,Ee,Be,ge,we,Ae,F,Re]);Object(i.useEffect)((()=>{Y((e=>({...e,CREATE:xe,CANCEL:Se,CLAIM:De,APPROVE_AMM:ve,APPROVE_SPENDER:_e,SWAP:ke,MANAGE_LIQUIDITY:Me})))}),[xe,Se,De,ve,_e,ke,Me]),Object(i.useEffect)((()=>{r.current=n}),[n]),Object(i.useEffect)((()=>{(async()=>{if(void 0===y||void 0===f||void 0===ue.chickenBondManager)return;if(f.bLusdSupply.gt(0))return void ie(!1);const e=1e3*(await ue.chickenBondManager.BOOTSTRAP_PERIOD_CHICKEN_IN()).toNumber(),t=void 0!==y.find((t=>Date.now()-t.startTime>e));ie(!t)})()}),[y,f,ue.chickenBondManager]);const Fe={view:n,dispatchEvent:Ue,selectedBondId:s,optimisticBond:l,protocolInfo:f,stats:m,bonds:y,statuses:q,selectedBond:Be,bLusdBalance:G,lusdBalance:W,lpTokenBalance:H,stakedLpTokenBalance:z,lpTokenSupply:J,bLusdAmmBLusdBalance:X,bLusdAmmLusdBalance:te,isSynchronizing:B,getLusdFromFaucet:Te,setSimulatedMarketPrice:be,resetSimulatedMarketPrice:me,simulatedProtocolInfo:g,hasFoundContracts:ue.hasFoundContracts,isBLusdApprovedWithBlusdAmm:E,isLusdApprovedWithBlusdAmm:x,isLusdApprovedWithAmmZapper:C,isBLusdApprovedWithAmmZapper:A,isBLusdLpApprovedWithAmmZapper:I,isBLusdLpApprovedWithGauge:M,inputToken:F,isInputTokenApprovedWithBLusdAmm:F===rs.BLUSD?E:x,getExpectedSwapOutput:Le,getExpectedLpTokens:Ie,getExpectedWithdrawal:Pe,isBootstrapPeriodActive:ae,hasLoaded:void 0!==f&&void 0!==y,addresses:ue.addresses,lpRewards:w};return window.__LIQUITY_BONDS__=Fe.current,Object(_.jsx)(Ct.Provider,{value:Fe,children:t})},eo=({children:e})=>Object(_.jsx)(Mt,{children:Object(_.jsx)(Xs,{children:e})}),to=({unipoolStake:e})=>({unipoolStake:e,changePending:!1,adjusting:!1}),no=(e,t)=>{switch(t.type){case"startAdjusting":return{...e,adjusting:!0};case"cancelAdjusting":return{...e,adjusting:!1};case"startChange":return{...e,changePending:!0};case"abortChange":return{...e,changePending:!1};case"updateStore":{const{oldState:{unipoolStake:n},stateChange:{unipoolStake:a}}=t;if(a){const t=!a.stakedLPToken.eq(n.stakedLPToken)||a.lqtyGain.lt(n.lqtyGain);return{...e,unipoolStake:a,adjusting:!1,changePending:!t&&e.changePending}}return{...e,changePending:!1}}}return e},ao=({children:e})=>{const t=ie("unipool-stake"),[{adjusting:n,changePending:a,unipoolStake:r},s]=Object(Le.useLiquityReducer)(no,to);return Object(i.useEffect)((()=>{"waitingForApproval"===t.type||"waitingForConfirmation"===t.type?s({type:"startChange"}):"failed"!==t.type&&"cancelled"!==t.type||s({type:"abortChange"})}),[t.type,s]),Object(_.jsx)(qi.Provider,{value:{view:n?"ADJUSTING":r.isEmpty?"NONE":"ACTIVE",changePending:a,dispatch:s},children:e})},io=()=>({adjusting:!1}),ro=(e,t)=>{switch(t.type){case"startAdjusting":return{...e,adjusting:!0};case"cancelAdjusting":return{...e,adjusting:!1};case"updateStore":return{...e}}return e},so=({children:e})=>{const[{adjusting:t},n]=Object(Le.useLiquityReducer)(ro,io);return Object(_.jsx)(wr.Provider,{value:{view:t?"ADJUSTING":"NONE",dispatch:n},children:e})},oo=()=>({adjusting:!1}),lo=(e,t)=>{switch(t.type){case"startAdjusting":return{...e,adjusting:!0};case"cancelAdjusting":return{...e,adjusting:!1};case"updateStore":return{...e}}return e},co=({children:e})=>{const[{adjusting:t},n]=Object(Le.useLiquityReducer)(lo,oo);return Object(_.jsx)(Rr.Provider,{value:{view:t?"ADJUSTING":"NONE",dispatch:n},children:e})},uo=({loader:e})=>{const{account:t,provider:n,liquity:a}=S();return Object.assign(window,{account:t,provider:n,liquity:a,Trove:Ce.Trove,Decimal:Ce.Decimal,Difference:Ce.Difference,Wallet:De.Wallet}),Object(_.jsxs)(Le.LiquityStoreProvider,{loader:e,store:a.store,children:[Object(_.jsx)(Se.a,{children:Object(_.jsx)(Jr,{children:Object(_.jsx)(es,{children:Object(_.jsx)(as,{children:Object(_.jsx)(ao,{children:Object(_.jsx)(so,{children:Object(_.jsx)(co,{children:Object(_.jsx)(eo,{children:Object(_.jsxs)(u.f,{sx:{flexDirection:"column",minHeight:"100%"},children:[Object(_.jsxs)(qn,{children:[Object(_.jsx)(Bt,{}),Object(_.jsx)(on,{})]}),Object(_.jsx)(u.e,{variant:"main",sx:{display:"flex",flexGrow:1,flexDirection:"column",alignItems:"center"},children:Object(_.jsxs)(Ee.d,{children:[Object(_.jsx)(Ee.b,{path:"/",exact:!0,children:Object(_.jsx)(Ee.a,{to:"/lendrre"})}),Object(_.jsx)(Ee.b,{path:"/lendrgold",children:Object(_.jsx)(Hr,{label:"LendrGold is Coming Soon.",desc:"LendrGold is a gold stablecoin pegged to a custom global gold index. LendrGold and LendrUSD will be launched once sufficient collateral liquidity has been established for LendrUSRE."})}),Object(_.jsx)(Ee.b,{path:"/lendrusd",children:Object(_.jsx)(Hr,{label:"LendrUSD is Coming Soon.",desc:"LendrUSD is an inflation proof stablecoin pegged to a custom USD index. LendrUSD and LendrGold will be launched once sufficient collateral liquidity has been established for LendrUSRE."})}),Object(_.jsx)(Ee.b,{path:"/lendrre",children:Object(_.jsx)(Zr,{})})]})})]})})})})})})})})}),Object(_.jsx)(oe,{})]})},po=()=>Object(_.jsxs)(u.f,{sx:{alignItems:"center",justifyContent:"center",height:"100vh"},children:[Object(_.jsx)(u.p,{sx:{m:2,color:"text"},size:"32px"}),Object(_.jsx)(u.h,{children:"Loading..."})]});if(window.ethereum&&Object.assign(window.ethereum,{autoRefreshOnNetworkChange:!1}),"true"===Object({NODE_ENV:"production",PUBLIC_URL:".",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_VERSION:"020711d75e96966f2d58f9938f2698908c51260f"}).REACT_APP_DEMO_MODE){const e=new Oe.a(Object({NODE_ENV:"production",PUBLIC_URL:".",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_VERSION:"020711d75e96966f2d58f9938f2698908c51260f"}).REACT_APP_RPC_URL||`http://${window.location.hostname}:8545`,"0x4d5db4107d237df6a3d58ee5f70ae63d73d7658d4026f2eefd2f204c81682cb7");Object.assign(window,{ethereum:e})}w().then((e=>{Object.assign(window,{config:e})}));const yo=({children:e})=>Object(_.jsx)(c.a,{getLibrary:e=>new y.BatchedWebSocketAugmentedWeb3Provider(e),children:e}),bo=()=>Object(_.jsxs)(u.f,{sx:{flexDirection:"column",alignItems:"center",justifyContent:"center",height:"100vh",textAlign:"center"},children:[Object(_.jsxs)(u.h,{sx:{mb:3},children:[Object(_.jsx)(I,{name:"exclamation-triangle"})," This app is for testing purposes only."]}),Object(_.jsx)(u.n,{sx:{mb:3},children:"Please change your network to BSC Mainet or BSC Testnet. We will be adding more networks such as Ethereum in the near future."}),Object(_.jsxs)(u.n,{children:["If you'd like to use the Lendr Network on mainnet, please pick a frontend"," ",Object(_.jsxs)(u.l,{href:"https://www.lendr.network",children:["here ",Object(_.jsx)(I,{name:"external-link-alt",size:"xs"})]}),"."]})]});var mo=()=>Object(_.jsx)(yo,{children:Object(_.jsx)(p.a,{theme:xe,children:Object(_.jsx)(Y,{loader:Object(_.jsx)(po,{}),children:Object(_.jsx)(O,{loader:Object(_.jsx)(po,{}),unsupportedNetworkFallback:e=>Object(_.jsxs)(u.f,{sx:{flexDirection:"column",alignItems:"center",justifyContent:"center",height:"100vh",textAlign:"center"},children:[Object(_.jsxs)(u.h,{sx:{mb:3},children:[Object(_.jsx)(I,{name:"exclamation-triangle"})," LendrUSD is not yet deployed to"," ",56===e?"BSC Mainnet":"this network","."]}),"Please change your network to Ethereum Mainnet, BSC Mainnet, Goerli Testnet or BSC Testnet. We will be adding more networks in the near future."]}),unsupportedMainnetFallback:Object(_.jsx)(bo,{}),children:Object(_.jsx)(ne,{children:Object(_.jsx)(uo,{loader:Object(_.jsx)(po,{})})})})})})});d.a.setAppElement("#root"),o.a.render(Object(_.jsx)(r.a.StrictMode,{children:Object(_.jsx)(mo,{})}),document.getElementById("root"))}],[[307,1,2]]]);
//# sourceMappingURL=main.0f3c1c9b.chunk.js.map